(this.webpackJsonpthirukural=this.webpackJsonpthirukural||[]).push([[0],{172:function(e,t,r){"use strict";var a=r(337);r.d(t,"KuralIndexReducer",(function(){return a.a}));var n=r(338);r.o(n,"thunkInitKuralIndexMapAndUserPref")&&r.d(t,"thunkInitKuralIndexMapAndUserPref",(function(){return n.thunkInitKuralIndexMapAndUserPref}));var c=r(339);r.d(t,"thunkInitKuralIndexMapAndUserPref",(function(){return c.a}))},323:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var a=r(12),n=r(21),c=r(4),i=function(e,t){return Object(c.isCategoryValidErr)("chapter",t),Number(Object.keys(e.litChapMap).find((function(r){return Object(c.isItemInRange)(t,e.litChapMap[Number(r)])})))},o=function(e,t){var r;return Object(c.isCategoryValidErr)("literature",t),Number(null===(r=Object.keys(e.section).map((function(t){return{section:t,litIndex:e.section[Number(t)].litIndex}})).find((function(e){return Object(c.isItemInRange)(t,e.litIndex)})))||void 0===r?void 0:r.section)},u=function(e,t,r){Object(c.isCategoryValidErr)(t,r);var u=Object(n.a)({},t,r);switch(t){case"chapter":u=Object(a.a)({},u,{literature:i(e,u.chapter)});case"literature":u=Object(a.a)({},u,{section:o(e,u.literature)})}return u}},324:function(e,t,r){"use strict";r.d(t,"e",(function(){return u})),r.d(t,"d",(function(){return s})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return d})),r.d(t,"a",(function(){return f})),r.d(t,"f",(function(){return m}));var a=r(8),n=r.n(a),c=r(18),i=r(4),o=r(52),u=function(){var e=Object(c.a)(n.a.mark((function e(t){var r,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.a)(t.collection(i.COLLECTION_NAME_MAP.INDEX_MAP));case 2:return r=e.sent,a=function(e){return r.docs.find((function(t){return t.id===e}))},e.abrupt("return",{section:a("section").data(),litChapMap:a("litChapMap").data()});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(n.a.mark((function e(t,r,a){var c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.a)(t.collection(i.COLLECTION_NAME_MAP[a]));case 2:return c=e.sent,e.abrupt("return",c.docs.map((function(e){return{id:Number(e.id),value:e.data()[r]}})));case 4:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}(),s=function(){var e=Object(c.a)(n.a.mark((function e(t,r){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t,r,"SECTION");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(n.a.mark((function e(t,r){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t,r,"CHAPTER");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(n.a.mark((function e(t,r){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l(t,r,"LITERATURE"));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),f=function(e){return Math.ceil(e/10)},m=function(e,t){var r=e.type;return"chapter"===t?r.startsWith("ByChapter"):"kural"===t?r.startsWith("ByKural"):"detail"===t?r.startsWith("ByKuralDetail"):"section"===t?r.startsWith("BySection"):"literature"===t&&r.startsWith("ByLiterature")}},325:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return d}));var a=r(8),n=r.n(a),c=r(18),i=r(58),o=r.n(i),u=r(4),l=r(52),s=function(){var e=Object(c.a)(n.a.mark((function e(t,r,a){var c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(u.isCategoryValidErr)("kural",r),e.next=3,t.collection(u.COLLECTION_NAME_MAP.KURAL).doc("".concat(r)).get();case 3:return c=e.sent,e.abrupt("return",{id:r,value:c.data()[a]});case 5:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(n.a.mark((function e(t,r){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(u.isCategoryValidErr)("kural",r),e.next=3,t.collection(u.COLLECTION_NAME_MAP.KURAL_DETAIL).doc("".concat(r)).get();case 3:return a=e.sent,e.abrupt("return",a.data());case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(n.a.mark((function e(t,r,a){var c,i,s,p,d;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(u.isCategoryValidErr)("chapter",r),c=10*(r-1)+1,i=Array.from(Array(10).keys()).map((function(e){return"".concat(c+e)})),s=t.collection(u.COLLECTION_NAME_MAP.KURAL),e.next=6,Object(l.a)(s.where(o.a.firestore.FieldPath.documentId(),"in",i));case 6:return p=e.sent,d=p.docs.map((function(e){return{id:Number(e.id),value:e.data()[a]}})),e.abrupt("return",d.sort((function(e,t){return e.id-t.id})));case 9:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}()},328:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var a=r(8),n=r.n(a),c=r(12),i=r(18),o=r(4),u=r(52),l=function(){var e=Object(i.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)(t.collection(o.COLLECTION_NAME_MAP.TRANSLITERATOR));case 2:return r=e.sent,e.abrupt("return",r.docs.map((function(e){return Object(c.a)({id:Number(e.id)},e.data())})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},329:function(e,t){},330:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var a=r(8),n=r.n(a),c=r(12),i=r(18),o=r(58),u=r.n(o),l=r(4),s=r(52),p=function(){var e=Object(i.a)(n.a.mark((function e(t,r){var a,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)(t.collection(l.COLLECTION_NAME_MAP.USER).where(u.a.firestore.FieldPath.documentId(),"==",r).limit(1));case 2:if(!(a=e.sent).empty){e.next=5;break}throw new Error("user not found");case 5:return i=a.docs[0],e.abrupt("return",Object(c.a)({id:i.id},i.data()));case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},331:function(e,t,r){"use strict";r.d(t,"e",(function(){return c})),r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return u})),r.d(t,"b",(function(){return l})),r.d(t,"f",(function(){return s}));var a=r(21),n=r(12),c=function(e,t){return e>=t[0]&&e<=t[1]},i=function(e){for(var t=[],r=e[0];r<=e[1];r++)t.push(r);return t},o=function(e,t){switch(e){case"section":return(c=t)>=1&&c<=3;case"literature":return(n=t)>=1&&n<=13;case"chapter":return(a=t)>=1&&a<=133;case"kural":return(r=t)>=1&&r<=1330}var r,a,n,c},u=function(e,t){if(!o(e,t))throw new Error("".concat(e," with ").concat(t," not found"))},l=function(e,t,r){switch(e){case"section":return"NEXT"===t?3===(i=r)?1:i+1:function(e){return 1===e?3:e-1}(r);case"literature":return"NEXT"===t?13===(c=r)?1:c+1:function(e){return 1===e?13:e-1}(r);case"chapter":return"NEXT"===t?133===(n=r)?1:n+1:function(e){return 1===e?133:e-1}(r);case"kural":return"NEXT"===t?1330===(a=r)?1:a+1:function(e){return 1===e?1330:e-1}(r)}var a,n,c,i},s=function(e){return e.reduce((function(e,t){return Object(n.a)({},e,Object(a.a)({},t.id,t))}),{})}},337:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var a={chapter:{},section:{},literature:{},transliterator:{},index:null},n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;return"init"===t.type?t.payload:e}},338:function(e,t){},339:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var a=r(8),n=r.n(a),c=r(21),i=r(12),o=r(18),u=r(4),l=r(74),s=function(e){return function(){var t=Object(o.a)(n.a.mark((function t(r){var a,o,s,p,d,f,m;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.getUserPreferences)(e,"rajeshsundaram");case 2:return a=t.sent,o=a.preference.language.primary,t.next=6,Object(u.getKuralIndex)(e);case 6:return s=t.sent,t.t0=u.toBaseTypeMap,t.next=10,Object(u.getAllSections)(e,o);case 10:return t.t1=t.sent,p=(0,t.t0)(t.t1),t.t2=u.toBaseTypeMap,t.next=15,Object(u.getAllLiterature)(e,o);case 15:return t.t3=t.sent,d=(0,t.t2)(t.t3),t.t4=u.toBaseTypeMap,t.next=20,Object(u.getAllChapter)(e,o);case 20:return t.t5=t.sent,f=(0,t.t4)(t.t5),t.next=24,Object(u.getAllTransliterators)(e);case 24:m=t.sent.reduce((function(e,t){return Object(i.a)({},e,Object(c.a)({},t.id,t))}),{}),r(Object(l.d)(a)),r({type:"init",payload:{section:p,chapter:f,literature:d,index:s,transliterator:m}});case 27:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},4:function(e,t,r){"use strict";r.d(t,"COLLECTION_NAME_MAP",(function(){return s})),r.d(t,"SearchCategoryLabelMap",(function(){return p}));var a=r(323);r.d(t,"getCategoryIds",(function(){return a.a}));var n=r(324);r.d(t,"findChapterNoFromKuralNo",(function(){return n.a})),r.d(t,"getAllChapter",(function(){return n.b})),r.d(t,"getAllLiterature",(function(){return n.c})),r.d(t,"getAllSections",(function(){return n.d})),r.d(t,"getKuralIndex",(function(){return n.e})),r.d(t,"isResultOfType",(function(){return n.f}));var c=r(325);r.d(t,"getKural",(function(){return c.a})),r.d(t,"getKuralDetail",(function(){return c.b})),r.d(t,"getKuralsOfChapter",(function(){return c.c}));var i=r(328);r.d(t,"getAllTransliterators",(function(){return i.a}));var o=r(329);r.o(o,"fillRange")&&r.d(t,"fillRange",(function(){return o.fillRange})),r.o(o,"getItemByPosition")&&r.d(t,"getItemByPosition",(function(){return o.getItemByPosition})),r.o(o,"getUserPreferences")&&r.d(t,"getUserPreferences",(function(){return o.getUserPreferences})),r.o(o,"isCategoryValid")&&r.d(t,"isCategoryValid",(function(){return o.isCategoryValid})),r.o(o,"isCategoryValidErr")&&r.d(t,"isCategoryValidErr",(function(){return o.isCategoryValidErr})),r.o(o,"isItemInRange")&&r.d(t,"isItemInRange",(function(){return o.isItemInRange})),r.o(o,"toBaseTypeMap")&&r.d(t,"toBaseTypeMap",(function(){return o.toBaseTypeMap}));var u=r(330);r.d(t,"getUserPreferences",(function(){return u.a}));var l=r(331);r.d(t,"fillRange",(function(){return l.a})),r.d(t,"getItemByPosition",(function(){return l.b})),r.d(t,"isCategoryValid",(function(){return l.c})),r.d(t,"isCategoryValidErr",(function(){return l.d})),r.d(t,"isItemInRange",(function(){return l.e})),r.d(t,"toBaseTypeMap",(function(){return l.f}));var s={KURAL:"KURAL",TRANSLITERATOR:"TRANSLITERATOR",LANGUAGE:"LANGUAGE",KURAL_DETAIL:"KURAL_DETAIL",USER:"USER",SECTION:"SECTION",USER_FAVOURITES:"USER_FAVOURITES",USER_SEARCH_HISTORY:"USER_SEARCH_HISTORY",LITERATURE:"LITERATURE",CHAPTER:"CHAPTER",INDEX_MAP:"INDEX_MAP"},p={all:"\u0b85\u0ba9\u0bc8\u0ba4\u0bcd\u0ba4\u0bc1\u0bae\u0bcd",chapter:"\u0b85\u0ba4\u0bbf\u0b95\u0bbe\u0bb0\u0bae\u0bcd",kural:"\u0b95\u0bc1\u0bb1\u0bb3\u0bcd",literature:"\u0b87\u0baf\u0bb2\u0bcd",section:"\u0baa\u0bbe\u0bb2\u0bcd",detail:"\u0b89\u0bb0\u0bc8"}},422:function(e){e.exports=JSON.parse('{"a":"thirukural"}')},435:function(e,t,r){e.exports=r(812)},52:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var a=r(8),n=r.n(a),c=r(18),i=r(27),o=r.n(i),u=function(){var e=Object(c.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get({source:"cache"});case 3:if(!(r=e.sent).empty){e.next=6;break}throw new Error("result not exists in cache");case 6:o.a.debug("fetches from cache"),e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(0),e.next=13,t.get({source:"server"});case 13:r=e.sent;case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},606:function(e,t,r){},74:function(e,t,r){"use strict";r.d(t,"d",(function(){return n})),r.d(t,"c",(function(){return c})),r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o}));var a=r(12),n=function(e){return{type:"SetUser",payload:e}},c=function(e){return{type:"UpdateSettings",payload:e}},i={id:"anonymous",favorites:{kural:[],chapter:[]},preference:{language:{primary:"TA",secondary:[]},fontSize:16}},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SetUser":return t.payload;case"UpdateSettings":return Object(a.a)({},e,{preference:Object(a.a)({},e.preference,{},t.payload)});default:return e}}},812:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(863),i=r(27),o=r.n(i),u=r(14),l=r.n(u),s=r(42),p=(r(606),r(21)),d=r(842),f=r(11),m=r(90),b=r(34),h=r(15),v=r(8),g=r.n(v),O=r(18),E=r(7),j=r(4),y=function(){var e=Object(h.g)();return[function(t){return function(){e.push(t)}}]},k=function(e,t,r){if(e===r)throw new Error("Bad input");var a=Object(s.useFirestore)(),c=n.a.useState([]),i=Object(E.a)(c,2),o=i[0],u=i[1],l=Object(f.c)((function(e){return e.preferences.preference.language})).primary,p=Object(f.c)((function(e){return e.kuralIndexMap}));return Object(j.isCategoryValidErr)(e,t),n.a.useEffect((function(){if(!o.length)if("chapter"===e&&"kural"===r)Object(O.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,Object(j.getKuralsOfChapter)(a,t,l);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))();else{var n=p.literature,c=p.chapter,i=p.index;if(i)if("literature"===e&&"chapter"===r)u(Object(j.fillRange)(i.litChapMap[t]).map((function(e){return c[e]})));else{if("section"!==e||"literature"!==r)throw new Error("category not supported");u(Object(j.fillRange)(i.section[t].litIndex).map((function(e){return n[e]})))}}}),[o.length,e,r,a,t,l,p]),o},S=r(12),C="blueviolet",N="rgba(162, 43, 47,0.8)",x="cadetblue",A="rgba(215, 22, 64, 0.8)",I="#3f51b5",T=function(e){var t=[{id:0,value:"\u0baa\u0bbe\u0bb2\u0bcd",type:"top",route:"/list/section",color:C}];return e.section&&t.push(Object(S.a)({},e.section,{type:"section",route:"/list/".concat(e.section.id,"/literature"),color:N})),e.literature&&t.push(Object(S.a)({},e.literature,{type:"literature",route:"/list/".concat(e.literature.id,"/chapter"),color:x})),e.chapter&&t.push(Object(S.a)({},e.chapter,{type:"chapter",route:"/list/".concat(e.chapter.id,"/kural"),color:A})),e.kural&&t.push(Object(S.a)({},e.kural,{id:e.kural.id,value:"\u0b95\u0bc1\u0bb1\u0bb3\u0bcd-".concat(e.kural.id),type:"kural",route:"/list/kural/".concat(e.kural.id),color:I})),t},w=function(e){var t=Object(f.c)((function(e){return e.kuralIndexMap})),r=t.section,a=t.literature,c=t.chapter,i=t.index,u=n.a.useState(e),l=Object(E.a)(u,2),s=l[0],d=l[1],m=Object(h.g)(),b=n.a.useState({}),v=Object(E.a)(b,2),g=v[0],O=v[1];n.a.useEffect((function(){y(m.location.pathname)}),[m.location.pathname]),n.a.useEffect((function(){if(i){var e=s.kural,t=s.chapter,r=s.literature,a=s.section,n=e?Object(j.findChapterNoFromKuralNo)(e):t,c=Object(S.a)({},function(e,t){var r=Object.keys(t).find((function(e){return t[e]}));return e&&r?Object(j.getCategoryIds)(e,r,t[r]):{}}(i,{chapter:n,literature:r,section:a}),{},e?{kural:e}:{});o.a.debug("found routes:",c),O(c)}}),[i,s]);var y=function(e){var t=Object(h.f)(e,"/list/:section/literature"),r=Object(h.f)(e,"/list/:literature/chapter"),a=Object(h.f)(e,"/list/:chapter/kural"),n=Object(h.f)(e,"/list/kural/:kural"),c={section:t?Number(null===t||void 0===t?void 0:t.params.section):void 0,literature:r?Number(null===r||void 0===r?void 0:r.params.literature):void 0,chapter:a?Number(null===a||void 0===a?void 0:a.params.chapter):void 0,kural:n?Number(null===n||void 0===n?void 0:n.params.kural):void 0};o.a.debug("filters",c),d(c)};m.listen((function(e){var t=e.pathname;o.a.debug("pathname",t),y(t)}));var k=n.a.useCallback((function(){return Object.keys(g).reduce((function(e,t){var n,i=t;switch(i){case"section":n=r[g[i]];break;case"literature":n=a[g[i]];break;case"chapter":n=c[g[i]];break;case"kural":n={id:g[i],value:""}}return Object(S.a)({},e,Object(p.a)({},i,n))}),{})}),[c,a,g,r]);return[g,T(k())]},R=r(122),_={status:!1,keyword:"",results:[],filters:[],userSelections:{chapter:!0,kural:!0,section:!0,literature:!0,detail:!0}},P=function(){var e=Object(f.b)();return[function(t){e(function(e){return{type:"SetSearchKeyword",payload:e}}(t));var r=function(e){var t=[];try{if(Number.isInteger(parseInt(e))){var r=parseInt(e);Object(j.isCategoryValid)("kural",r)&&t.push("ByKuralNo"),Object(j.isCategoryValid)("chapter",r)&&t.push("ByChapterNo"),Object(j.isCategoryValid)("literature",r)&&t.push("ByLiteratureNo"),Object(j.isCategoryValid)("section",r)&&t.push("BySectionNo")}}catch(a){}return t}(t);e({type:"SetSearchFilters",payload:r}),e({type:"SetSearchResults",payload:[]})},function(t){e(function(e){return{type:"SetSearchStatus",payload:e}}(t))}]},M=function(e,t){var r=y(),a=Object(E.a)(r,1)[0];"top"!==e&&Object(j.isCategoryValid)(e,t);return function(t){switch(e){case"top":a("/list/".concat(t.id,"/literature"))();break;case"section":a("/list/".concat(t.id,"/chapter"))();break;case"literature":a("/list/".concat(t.id,"/kural"))()}}},L=r(838),B=r(414),U=r.n(B),K=r(415),D=r.n(K),F=function(e){var t=n.a.useState(e.active),r=Object(E.a)(t,2),a=r[0],c=r[1];return n.a.createElement(L.a,{color:"primary",size:"small",onClick:function(){e.handler(!a).then((function(e){e&&c(!a)}))},className:e.className},a&&n.a.createElement(U.a,{className:"active"}),!a&&n.a.createElement(D.a,{className:"inactive"}))},W=Object(d.a)((function(e){return{favStyle:{color:"rgba(215, 22, 64, 0.8)"}}})),z=function(e,t){var r=W(),a=(Object(f.c)((function(e){return e.preferences.favorites}))[e],Object(h.h)().pathname),c=Object(h.f)(a,t),i=null;return(null===c||void 0===c?void 0:c.isExact)&&(i=n.a.createElement(F,{className:r.favStyle,active:(parseInt(c.params[e]),!0),handler:function(e){return Promise.resolve(!0)}})),i},V=r(843),G=r(813),H=r(416),X=r.n(H),J=Object(d.a)((function(e){return{root:{},listItem:{cursor:"pointer",display:"grid",gridTemplateColumns:"3em auto"},idWrap:{display:"flex",alignItems:"center",color:e.palette.primary.main,"& > span":{minWidth:"2em",opacity:.5,textAlign:"center"},"& svg":{position:"relative",left:"-4px"}},labelWrap:{fontSize:"1.2em",paddingLeft:e.spacing(1),color:"cadetblue"}}})),Y=function(e){var t=J();return n.a.createElement(V.a,{className:e.className},e.items.map((function(r){return n.a.createElement(G.a,{classes:{root:t.listItem},divider:!0,key:r.id,onClick:function(){return e.onItemSelected(r)}},n.a.createElement("div",{className:t.idWrap},n.a.createElement("span",null,r.id),n.a.createElement(X.a,null)),n.a.createElement("div",{className:t.labelWrap},r.value))})))},Q=function(e){var t=Object(h.i)().literature,r=k("literature",Number(t),"chapter"),a=M("literature",Number(t));return n.a.createElement(n.a.Fragment,null,n.a.createElement(Y,{className:e.className,items:r,onItemSelected:function(e){return a(e)}}))},$=r(169),q=r.n($),Z=r(56),ee=r(170),te=r(865),re=r(3),ae=Object(d.a)((function(e){return{listItem:Object(p.a)({display:"flex",flexDirection:"column",alignItems:"start"},e.breakpoints.up("sm"),{cursor:"pointer"}),badgeContainer:{background:e.palette.primary.main,color:"white",height:"1em",fontSize:"0.6em",lineHeight:"0.8em",borderRadius:"1em",display:"flex",justifyContent:"center",alignItems:"center",padding:"2px 6px",minWidth:"1em"},kuralWrapper:{width:"100%"}}})),ne=function(e){var t=ae();return n.a.createElement(G.a,{className:e.className,classes:{root:Object(re.a)(t.listItem)},component:e.componentType||"li"},n.a.createElement("div",{className:t.badgeContainer},e.kural.id),n.a.createElement("div",{onClick:function(){return e.onClick&&e.onClick(e.kural)},className:t.kuralWrapper,dangerouslySetInnerHTML:{__html:e.kural.value.replace("\n","<br>")}}))},ce=Object(d.a)((function(e){return{transliteratorList:{cursor:"grab",padding:e.spacing(1),"& li:not(:last-child)":{marginBottom:e.spacing(1)}},kural:{padding:e.spacing(1),borderBottom:"unset",color:"brown",fontWeight:600,"& .kural-badge":{display:"none"}},transliteration:{padding:0,flexDirection:"column",alignItems:"self-end","& .transliterator-name":{fontSize:"0.7em",height:"1.5em"},"& .content":{fontSize:"0.9em",paddingTop:e.spacing(.5),paddingBottom:e.spacing(.5),textAlign:"justify",WebkitTextStrokeWidth:"0.2px",WebkitTextStroke:"thin",letterSpacing:1}}}})),ie=function(e){var t=ce(),r=function(e){var t=Object(s.useFirestore)(),r=Object(f.c)((function(e){return e})),n=r.preferences.preference.language.primary,c=r.kuralIndexMap.transliterator,i=a.useState(null),o=Object(E.a)(i,2),u=o[0],l=o[1],p=a.useState(null),d=Object(E.a)(p,2),m=d[0],b=d[1];return a.useEffect((function(){Object(O.a)(g.a.mark((function r(){return g.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("number"!==typeof e){r.next=13;break}return r.t0=l,r.next=4,Object(j.getKural)(t,e,n);case 4:return r.t1=r.sent,(0,r.t0)(r.t1),r.t2=b,r.next=9,Object(j.getKuralDetail)(t,e);case 9:r.t3=r.sent,(0,r.t2)(r.t3),r.next=19;break;case 13:return l(e),r.t4=b,r.next=17,Object(j.getKuralDetail)(t,e.id);case 17:r.t5=r.sent,(0,r.t4)(r.t5);case 19:case"end":return r.stop()}}),r)})))()}),[t,e,n]),[u,m,Object.values(c).filter((function(e){return e.lang===n})).sort((function(e,t){var r=[e.rank,t.rank],a=r[0],n=r[1];return a&&n?a-n:a?-1:1}))]}(e.kural),c=Object(E.a)(r,3),i=c[0],o=c[1],u=c[2];return n.a.createElement(n.a.Fragment,null,i&&n.a.createElement(ne,{kural:i,className:t.kural,componentType:"div"}),n.a.createElement(V.a,Object.assign({className:e.className,classes:{root:t.transliteratorList}},e),o&&u.map((function(e){var r=e.id,a=e.name;return n.a.createElement(G.a,{key:r,className:t.transliteration},n.a.createElement(te.a,{size:"small",label:a,color:"primary",className:"transliterator-name"}),n.a.createElement("div",{className:"content"},o[r]))}))))},oe=Object(ee.virtualize)(q.a),ue=function(e){var t=y(),r=Object(E.a)(t,1)[0],a=Object(h.i)(),c=parseInt(a.kural);return n.a.createElement(n.a.Fragment,null,n.a.createElement(oe,{enableMouseEvents:!0,overscanSlideBefore:1===c?0:1,overscanSlideAfter:1330===c?0:1,index:c-1,onChangeIndex:function(e,t){r("/list/kural/".concat(Object(j.getItemByPosition)("kural",e-t<0?"PREV":"NEXT",c)))()},slideRenderer:function(e){var t=e.key,r=e.index,a=Object(Z.mod)(r,1330)+1;return Object(j.isCategoryValid)("kural",a)?n.a.createElement(ie,{key:t,kural:a}):null}}))},le=Object(d.a)((function(e){return{list:{padding:e.spacing(1),paddingTop:"0px","& li:not(:last-child)":{marginBottom:e.spacing(1)}},kuralCard:{padding:0}}})),se=function(e){var t=le(),r=y(),a=Object(E.a)(r,1)[0],c=function(e){return a("/list/kural/".concat(e.id))()};return n.a.createElement(V.a,{className:t.list},e.kurals.map((function(e,r){return n.a.createElement(ne,{className:t.kuralCard,key:e.id,kural:e,onClick:c})})))},pe=function(e){var t=k("chapter",e.chapterNo,"kural");return n.a.createElement(se,{kurals:t})},de=Object(ee.virtualize)(q.a),fe=function(e){var t=Object(h.i)().section,r=k("section",Number(t),"literature"),a=M("section",Number(t));return n.a.createElement(n.a.Fragment,null,n.a.createElement(Y,{className:e.className,items:r,onItemSelected:function(e){return a(e)}}))},me=function(e){var t=Object(f.c)((function(e){return e.kuralIndexMap.section})),r=y(),a=Object(E.a)(r,1)[0];return n.a.createElement(n.a.Fragment,null,n.a.createElement(Y,{className:e.className,items:Object.values(t),onItemSelected:function(e){a("/list/".concat(e.id,"/literature"))()}}))},be=r(847),he=r(848),ve=r(849),ge=r(844),Oe=r(845),Ee=r(846),je=r(251),ye=r.n(je),ke=r(252),Se=r.n(ke),Ce=Object(d.a)((function(e){return{root:{},list:{"& .list-group":{},"& .sub-list":{"& li:last-child":{borderBottom:"unset",marginBottom:"unset"}},"& .sub-header":{textAlign:"left",color:"brown"}},chapFavorites:{paddingBottom:0,"& li:last-child":{borderBottom:"unset"}}}})),Ne=function(e){var t,r,a=function(e){var t=Object(f.c)((function(e){return e.kuralIndexMap})),r=t[e],a=t.index;return[function(e){return r[e]||null},function(t){return Object(j.getCategoryIds)(a,e,t)}]}("chapter"),c=Object(E.a)(a,1)[0],i=n.a.useState([]),o=Object(E.a)(i,2),u=o[0],l=(o[1],n.a.useState([])),s=Object(E.a)(l,2),p=s[0],d=(s[1],n.a.useState(null===(t=e.expand)||void 0===t||t)),m=Object(E.a)(d,2),b=m[0],h=m[1],v=n.a.useState(null!==(r=e.expand)&&void 0!==r&&r),g=Object(E.a)(v,2),O=g[0],k=g[1],S=y(),C=Object(E.a)(S,1)[0],N=Ce(),x=function(e){C("/list/".concat(e.id,"/kural"))()},A=new Map([]);p.forEach((function(e){var t=Object(j.findChapterNoFromKuralNo)(e.id);A.has(t)?A.set(t,[].concat(Object(R.a)(A.get(t)||[]),[e])):A.set(t,[e])}));var I=n.a.createElement("h1",null,"None Found");return n.a.createElement("div",{className:Object(re.a)(e.className,N.root)},n.a.createElement(V.a,{className:N.list,disablePadding:!0},n.a.createElement(G.a,{selected:b,className:"list-group",button:!0,onClick:function(){h(!b)}},n.a.createElement(ge.a,{primary:"Kurals"}),b?n.a.createElement(ye.a,null):n.a.createElement(Se.a,null)),n.a.createElement(Oe.a,{in:b,timeout:"auto"},A.size>0&&Array.from(A.keys()).map((function(e){var t,r=c(e);return n.a.createElement(V.a,{component:"div",className:"sub-list",key:e,disablePadding:!0},r&&n.a.createElement(Ee.a,{className:"sub-header",disableSticky:!0,onClick:function(){return x(r)}},r.value),null===(t=A.get(e))||void 0===t?void 0:t.map((function(e){return n.a.createElement(ne,{key:e.id,kural:e})})))})),0===A.size&&I),n.a.createElement(G.a,{selected:O,className:"list-group",button:!0,onClick:function(){k(!O)}},n.a.createElement(ge.a,{primary:"Chapters"}),O?n.a.createElement(ye.a,null):n.a.createElement(Se.a,null)),n.a.createElement(Oe.a,{in:O,timeout:"auto"},u.length>0&&n.a.createElement(Y,{className:N.chapFavorites,items:u,onItemSelected:function(e){return x(e)}}),0===u.length&&I)))},xe=Object(d.a)((function(e){return{root:{marginTop:e.spacing(2),"& .card-header":{padding:e.spacing(1)},"& .card-content":{padding:e.spacing(1),paddingBottom:e.spacing(1)}},favoriteCard:{margin:e.spacing(1)}}})),Ae=function(){var e=xe();return n.a.createElement("div",{className:e.root},n.a.createElement(be.a,{variant:"outlined",className:e.favoriteCard},n.a.createElement(he.a,{title:"Favorites",className:"card-header"}),n.a.createElement(ve.a,{className:"card-content"},n.a.createElement(Ne,{expand:!1}))))},Ie=r(850),Te=Object(d.a)((function(e){return{routeContainer:{display:"flex"},root:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",flexWrap:"wrap"},chipRoot:Object(p.a)({padding:"0px 0.6em",fontSize:"0.7rem",height:"1.3rem",margin:"0 ".concat(e.spacing(.5),"px ").concat(e.spacing(.5),"px 0")},e.breakpoints.up("sm"),{maxWidth:200})}})),we=function(e){var t=e.route,r=Te(),c=y(),i=Object(E.a)(c,1)[0],o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,r=Object(a.useState)(!1),n=Object(E.a)(r,2),c=n[0],i=n[1];Object(a.useEffect)((function(){var r;return c?r=window.setTimeout(e,t):clearTimeout(r),function(){clearTimeout(r)}}),[e,t,c]);var o=Object(a.useCallback)((function(){i(!0)}),[]),u=Object(a.useCallback)((function(){i(!1)}),[]);return{onMouseDown:o,onMouseUp:u,onMouseLeave:u,onTouchStart:o,onTouchEnd:u}}((function(){console.log("long press",t)}));return n.a.createElement(te.a,Object.assign({},o,{size:"small",label:t.value,color:"primary",onClick:function(){t.route&&i(t.route)()},style:{backgroundColor:t.color},classes:{root:r.chipRoot}}))},Re=function(e){var t=Te(),r=w({}),a=Object(E.a)(r,2)[1];return n.a.createElement("div",{className:Object(re.a)(t.routeContainer,e.className)},n.a.createElement("div",{className:t.root},a.map((function(e,t){return n.a.createElement(we,{route:e,key:t})}))),e.renderRight)},_e=Object(d.a)((function(e){return{root:{},routes:{padding:e.spacing(1)}}})),Pe=function(e){var t=_e(),r=z("chapter","/list/:chapter/kural"),a=z("kural","/list/kural/:kural");return n.a.createElement(n.a.Fragment,null,n.a.createElement(Ie.a,{disableGutters:!0,className:t.routes},n.a.createElement(Re,{renderRight:r||a})),n.a.createElement("div",{className:t.root},Object(m.a)(e.route.routes)))},Me=r(868),Le=r(856),Be=r(857),Ue=r(855),Ke=r(858),De=r(852),Fe=r(867),We=r(866),ze=r(16),Ve=r(418),Ge=r.n(Ve),He=r(417),Xe=r.n(He),Je=r(851),Ye=Object(d.a)((function(e){return Object(We.a)({root:{display:"flex",alignItems:"center",maxWidth:400,border:"1px solid",borderRadius:"25px",borderColor:Object(ze.c)(e.palette.grey[500],.5),padding:"0.2em 0.5em",color:e.palette.primary.main,height:"1.6rem","&.focus":{borderColor:e.palette.primary.main,"& .search-icon, & .searchbar":{color:e.palette.primary.main}}},searchicon:{color:Object(ze.c)(e.palette.grey[500],.5)},input:{flex:1,padding:"0px 6px",width:"100%",color:e.palette.primary.light}})})),Qe=function(e){Object(i.debug)("KuralSearch");var t=Ye(),r=Object(h.g)(),a=P(),c=Object(E.a)(a,1)[0],o=Object(Je.a)((function(e){c(e)}),500),u=Object(E.a)(o,1)[0],l=n.a.useState(""),s=Object(E.a)(l,2),p=s[0],d=s[1],f=n.a.useState(function(){var e;return(null===(e=Object(h.f)(r.location.pathname,{path:"/search"}))||void 0===e?void 0:e.isExact)||!1}()),m=Object(E.a)(f,2),b=m[0],v=m[1];n.a.useEffect((function(){u(p)}),[u,p]),r.listen((function(e){"/search"!==e.pathname?(d(""),v(!1)):v(!0)}));return n.a.createElement("div",{className:Object(re.a)(t.root,e.className,b&&"focus")},n.a.createElement(Xe.a,{className:Object(re.a)(t.searchicon,"search-icon")}),n.a.createElement(Fe.a,{className:"searchbar ".concat(t.input),placeholder:"Search Kural",inputProps:{"aria-label":"Search"},onChange:function(e){var t=e.target.value;d(t)},value:p,onFocus:function(){"/search"!==r.location.pathname&&(Object(i.debug)("route -> search"),r.push("/search")),e.onSearchTap&&e.onSearchTap()}}),n.a.createElement(De.a,{in:!(0===p.trim().length)},n.a.createElement(Ge.a,{onClick:function(){d("")}})))},$e=r(853),qe=r(854),Ze=function(e){var t=e.children,r=e.window,a=Object($e.a)({target:r?r():void 0});return n.a.createElement(qe.a,{appear:!1,direction:"down",in:!a},t)},et=Object(d.a)((function(e){return{toolbar:{padding:0,justifyContent:"space-around"},avatar:{color:"white",marginLeft:e.spacing(1),backgroundColor:e.palette.primary.main},actionsGroup:{},searchbar:{marginLeft:e.spacing(1),marginRight:e.spacing(1),flexGrow:1},iconButton:{padding:"6px","& svg":{fontSize:"2rem"}}}})),tt=function(e){Object(i.debug)("MyAppBar");var t=et(),r=Object(h.g)();return a.createElement(a.Fragment,null,a.createElement(Ze,Object.assign({direction:"down"},e),a.createElement(Le.a,{color:"transparent",elevation:0},a.createElement(Be.a,{className:t.toolbar},function(){var e;return(null===(e=Object(h.f)(r.location.pathname,{path:"/"}))||void 0===e?void 0:e.isExact)||!1}()?a.createElement(Me.a,{className:t.avatar,alt:"Anonymous",src:"/static/images/avatar/1.jpg"}):a.createElement(L.a,{className:t.iconButton,onClick:r.goBack},a.createElement(Ue.a,{color:"primary"})),a.createElement(Qe,{className:t.searchbar}),a.createElement("div",{className:t.actionsGroup},e.actions,a.createElement(L.a,{className:t.iconButton,onClick:function(){return r.push("/settings")}},a.createElement(Ke.a,{color:"primary"})))))),a.createElement(Be.a,null))},rt=r(419),at=r.n(rt),nt=r(420),ct=r.n(nt),it=r(859),ot=r(860),ut=Object(d.a)((function(e){return{root:{flexGrow:1},appBar:{bottom:0,top:"auto",boxShadow:"none",borderTop:"1px solid rgba(0, 0, 0, 0.12)"}}})),lt=function(e){var t=ut();return a.createElement("div",{className:Object(re.a)(t.root,e.className)},a.createElement(Le.a,{position:"fixed",color:"inherit",className:t.appBar},a.createElement(it.a,{value:e.currentRoute,onChange:function(t,r){return e.onChange(r)},className:t.root},e.items.map((function(e,t){return a.createElement(ot.a,{label:e.label,value:e.route,icon:e.icon,key:t})})))),a.createElement(Be.a,null))},st=Object(d.a)((function(e){return{root:{}}})),pt=[{icon:n.a.createElement(at.a,null),route:"/",label:"Home"},{icon:n.a.createElement(ct.a,null),route:"/list",label:"List"}],dt=function(e){var t=Object(h.j)("/"),r=Object(h.j)("/list*"),a=Object(h.h)(),c=Object(f.b)(),i=n.a.useCallback((function(){return(null===t||void 0===t?void 0:t.isExact)?pt[0].route:(null===r||void 0===r?void 0:r.isExact)?pt[1].route:a.pathname}),[t,r,a.pathname]),o=n.a.useState(i()),u=Object(E.a)(o,2),l=u[0],s=u[1];n.a.useEffect((function(){s(i())}),[i,a]);var p=st(),d=y(),m=Object(E.a)(d,1)[0];return n.a.createElement(lt,{items:pt,currentRoute:l,onChange:function(e){if(s(e),m(e)(),pt[0].route===e)c({type:"DefaultTitle"});else{var t,r=null===(t=pt.find((function(t){return t.route===e})))||void 0===t?void 0:t.label;r&&c({type:"SetTitle",payload:r})}},className:p.root})},ft=function(e){var t;return n.a.createElement(n.a.Fragment,null,n.a.createElement(tt,null),Object(m.a)(null===(t=e.route)||void 0===t?void 0:t.routes),n.a.createElement(dt,null))},mt=Object(d.a)((function(e){return{root:{marginTop:e.spacing(2),padding:e.spacing(1)},searchWrapper:{textAlign:"center"},searchFilter:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1),textAlign:"start","& .search-chip":{height:"2em",margin:"0 1vw 4px 0",fontSize:"0.7em",minWidth:"15vw","& svg":Object(p.a)({width:"1rem",height:"1rem"},e.breakpoints.up("sm"),{width:"1.5rem",height:"1.5rem"})}},kuralSearchItem:{margin:0,padding:0,borderBottom:"none"}}})),bt=function(e){var t=mt(),r=n.a.useState([]),a=Object(E.a)(r,2),c=a[0],i=a[1],o=Object(f.c)((function(e){return e.search})),u=Object(f.b)();n.a.useEffect((function(){var e=function(e){return o.filters.filter((function(t){return t.startsWith(e)})).length>0},t=[{label:j.SearchCategoryLabelMap.all,type:"all",isShow:new Set(o.results.map((function(e){return e.type}))).size>1},{label:j.SearchCategoryLabelMap.section,type:"section",isShow:e("BySection")},{label:j.SearchCategoryLabelMap.literature,type:"literature",isShow:e("ByLiterature")},{label:j.SearchCategoryLabelMap.chapter,type:"chapter",isShow:e("ByChapter")},{label:j.SearchCategoryLabelMap.kural,type:"kural",isShow:e("ByKural")},{label:j.SearchCategoryLabelMap.detail,type:"detail",isShow:e("ByKuralDetail")}];i(t)}),[o]);var l=function(e){return"all"===e?o.userSelections.section&&o.userSelections.literature&&o.userSelections.chapter&&o.userSelections.kural&&o.userSelections.detail:o.userSelections[e]};return n.a.createElement("div",{className:t.searchFilter},c.filter((function(e){return e.isShow})).map((function(e,t){return n.a.createElement(te.a,{key:t,size:"small",className:"search-chip",label:e.label,color:"primary",variant:l(e.type)?"default":"outlined",onClick:function(t){return function(e){var t,r;u("all"!==e?(t=e,r=!o.userSelections[e],{type:"SetUserSelection",payload:[t,r]}):{type:"SetAllUserSelection",payload:!l("all")})}(e.type)}})})))},ht=function(e){var t=e.item,r=(e.label,e.onClick);return n.a.createElement("div",{key:t.id,onClick:r},n.a.createElement("div",null,t.value))},vt=function(e){var t=mt(),r=Object(f.c)((function(e){return e.search}));return n.a.createElement("div",{className:Object(re.a)(e.className,t.root)},n.a.createElement(bt,null),n.a.createElement(V.a,null,r.results.map((function(e,a){return n.a.createElement(G.a,{key:a,divider:!0},function(e){return Object(j.isResultOfType)(e,"kural")&&r.userSelections.kural?n.a.createElement(ne,{key:e.item.id,kural:e.item,className:t.kuralSearchItem,showBadgeRight:!0}):Object(j.isResultOfType)(e,"section")&&r.userSelections.section||Object(j.isResultOfType)(e,"chapter")&&r.userSelections.chapter||Object(j.isResultOfType)(e,"literature")&&r.userSelections.literature?n.a.createElement(ht,{item:e.item,label:"",onClick:function(){}}):null}(e))}))))},gt=r(861),Ot=r(864),Et=r(862),jt=r(74),yt=Object(d.a)((function(e){return{root:{},item:{},itemText:{fontSize:"1em"},formControl:{margin:e.spacing(1),minWidth:120}}})),kt="Font size",St="/",Ct=[{path:St,component:ft,routes:[{path:"/search",component:vt,exact:!0},{path:"/settings",component:function(e){var t=yt(),r=Object(f.b)(),a=Object(f.c)((function(e){return e.preferences})).preference,c=function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,a=[],n=e;t>0;)a.push(n),n+=r,t--;return a}(jt.a.preference.fontSize-4,10);return n.a.createElement("div",{className:e.className},n.a.createElement(V.a,null,n.a.createElement(G.a,{className:t.item},n.a.createElement(ge.a,{classes:{primary:t.itemText},primary:kt}),n.a.createElement(gt.a,{className:t.formControl},n.a.createElement(Ot.a,{value:a.fontSize,onChange:function(e){return t=e.target.value,void r(Object(jt.c)(Object.assign(a,{fontSize:t})));var t}},c.map((function(e){return n.a.createElement(Et.a,{key:e,value:e},e)})))))))},exact:!0},{path:"/list",component:Pe,routes:[{path:"/list/section",component:me,exact:!0},{path:"/list/:section/literature",component:fe,exact:!0},{path:"/list/:literature/chapter",component:Q,exact:!0},{path:"/list/:chapter/kural",component:function(e){var t=Object(h.i)().chapter,r=Number(t),a=y(),c=Object(E.a)(a,1)[0];return n.a.createElement("div",{className:e.className},n.a.createElement(de,{enableMouseEvents:!0,overscanSlideBefore:1===r?0:1,overscanSlideAfter:133===r?0:1,index:r-1,onChangeIndex:function(e,r){var a=parseInt(t);c("/list/".concat(Object(j.getItemByPosition)("chapter",e-r<0?"PREV":"NEXT",a),"/kural"))()},slideRenderer:function(e){var t=e.key,r=e.index,a=Object(Z.mod)(r,133)+1;return Object(j.isCategoryValid)("chapter",a)?n.a.createElement(pe,{key:t,chapterNo:a}):null}}))},exact:!0},{path:"/list/kural/:kural",component:ue,exact:!0},{path:"/list*",component:function(){return n.a.createElement(h.a,{to:"/list/1/kural"})},exact:!0}]},{path:St,exact:!0,component:Ae},{path:"/*",component:function(){return n.a.createElement(h.a,{to:"/"})}}]}],Nt=r(172),xt=Object(d.a)((function(e){return{root:Object(p.a)({},e.breakpoints.up("sm"),{fontSize:"3vw"})}})),At=function(){var e=xt(),t=Object(f.b)(),r=Object(s.useFirestore)(),n=Object(f.c)((function(e){return e.preferences}));return a.useEffect((function(){t(Object(Nt.thunkInitKuralIndexMapAndUserPref)(r))}),[t,r]),a.createElement("div",{className:e.root,style:{fontSize:n.preference.fontSize}},a.createElement(b.a,null,Object(m.a)(Ct)))},It=r(58),Tt=r.n(It),wt=r(173),Rt=(r(806),r(809),r(51)),_t=Object(Rt.combineReducers)({kuralIndexMap:Nt.KuralIndexReducer,title:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Thirukural",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SetTitle":return t.payload;case"AppendTitle":return"Thirukural".concat("-".concat(t.payload));case"DefaultTitle":return"Thirukural";default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;if("SetSearchKeyword"===t.type&&t.payload!==e.keyword)return Object(S.a)({},e,{keyword:t.payload,results:[]});if("AddSearchResults"===t.type)return Object(S.a)({},e,{results:[].concat(Object(R.a)(e.results),Object(R.a)(t.payload))});if("SetSearchResults"===t.type)return Object(S.a)({},e,{results:t.payload});if("SetSearchFilters"===t.type)return Object(S.a)({},e,{filters:t.payload});if("SetUserSelection"===t.type){var r=t.payload,a=Object(E.a)(r,2),n=a[0],c=a[1];return Object(S.a)({},e,{userSelections:Object(S.a)({},e.userSelections,Object(p.a)({},n,c))})}if("SetAllUserSelection"===t.type){var i=t.payload;return Object(S.a)({},e,{userSelections:{chapter:i,kural:i,section:i,literature:i,detail:i}})}return"SetSearchStatus"===t.type?Object(S.a)({},e,{status:t.payload}):e},preferences:jt.b,firebase:s.firebaseReducer,firestore:wt.firestoreReducer}),Pt=r(421),Mt=r(174),Lt=r(422),Bt=Object(Pt.composeWithDevTools)({name:"".concat(Lt.a,"-DevTools"),trace:!0}),Ut=Object(Rt.createStore)(_t,Bt(Object(Rt.applyMiddleware)(Mt.a))),Kt=r(423),Dt=r.n(Kt),Ft=[Mt.a],Wt=(Dt()(Ft),function(e){var t=e.children;return n.a.createElement(f.a,{store:Ut},t)}),zt=Object({NODE_ENV:"production",PUBLIC_URL:"/thirukural",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_STORAGE_BUCKET:"kural-de220.appspot.com",REACT_APP_PROJECT_ID:"kural-de220",REACT_APP_AUTH_DOMAIN:"kural-de220.firebaseapp.com",REACT_APP_API_KEY:"AIzaSyCgG3WHBClU8TJO_A4CGi177k0ihtn15tQ",REACT_APP_DB_URL:"https://kural-de220.firebaseio.com",REACT_APP_MESSAGING_SENDER_ID:"1037621590340",REACT_APP_MESUREMENT_ID:"G-CMC5L28GFK",REACT_APP_FB_APP_ID:"1:1037621590340:web:f5613d36d67ed31d78ff11"}),Vt=zt.REACT_APP_API_KEY,Gt=zt.REACT_APP_AUTH_DOMAIN,Ht=zt.REACT_APP_DB_URL,Xt=zt.REACT_APP_PROJECT_ID,Jt=zt.REACT_APP_STORAGE_BUCKET,Yt=zt.REACT_APP_MESSAGING_SENDER_ID,Qt=zt.REACT_APP_FB_APP_ID,$t=zt.REACT_APP_MESUREMENT_ID;!function(){if(!(Vt&&Gt&&Ht&&Xt))throw new Error("FB_CONF missing")}();var qt={apiKey:Vt,projectId:Xt,databaseURL:Ht,authDomain:Gt,storageBucket:Jt,messagingSenderId:Yt,appId:Qt,measurementId:$t};Tt.a.initializeApp(qt),Tt.a.firestore().enablePersistence({synchronizeTabs:!0}).catch((function(e){"unimplemented"===e.code&&o.a.error("persistence not supported on the current browser")}));var Zt={firebase:Tt.a,dispatch:Ut.dispatch,createFirestoreInstance:wt.createFirestoreInstance,config:{userProfile:"users",useFirestoreForProfile:!0}},er=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function tr(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var r=e.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var rr=r(424),ar=Object(rr.a)({spacing:8});o.a.setLevel("SILENT"),l.a.render(n.a.createElement(Wt,null,n.a.createElement(s.ReactReduxFirebaseProvider,Zt,n.a.createElement(c.a,{theme:ar},n.a.createElement(At,null)))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/thirukural",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/thirukural","/service-worker.js");er?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(r){var a=r.headers.get("content-type");404===r.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):tr(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service")}))):tr(t,e)}))}}()}},[[435,1,2]]]);
//# sourceMappingURL=main.50ec0999.chunk.js.map