(this.webpackJsonpthirukural=this.webpackJsonpthirukural||[]).push([[1],{102:function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return i}));var n=function(e){return{type:"SetTitle",payload:e}},a=function(){return{type:"DefaultTitle"}},c="Thirukural",i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SetTitle":return t.payload;case"AppendTitle":return c.concat("-".concat(t.payload));case"DefaultTitle":return c;default:return e}}},128:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(3),a=(r(0),r(291)),c=r(492),i=r(5),o=Object(a.a)((function(e){return{icon:{color:"inherit",transform:"rotate(0deg)",transition:"all 0.2s ease","&.is-expanded":{transform:"rotate(-180deg)"}}}})),u=function(e){var t=e.isExpanded,r=e.className,a=e.style,u=o();return Object(n.jsx)(c.a,{style:a,className:Object(i.a)(u.icon,t&&"is-expanded",r)})}},135:function(e,t,r){"use strict";var n=r(265);r.d(t,"KuralIndexReducer",(function(){return n.a}));var a=r(266);r.o(a,"thunkInitKuralIndexMapAndUserPref")&&r.d(t,"thunkInitKuralIndexMapAndUserPref",(function(){return a.thunkInitKuralIndexMapAndUserPref}));var c=r(267);r.d(t,"thunkInitKuralIndexMapAndUserPref",(function(){return c.a}))},194:function(e,t,r){"use strict";var n=r(13),a=r(3),c=(r(0),r(291)),i=r(496),o=r(5),u=Object(c.a)((function(e){return{listItem:Object(n.a)({display:"flex",flexDirection:"column",userSelect:"none",alignItems:"start"},e.breakpoints.up("sm"),{cursor:"pointer"}),badgeContainer:{background:"var(--app-secondary-color)",fontWeight:"bold",color:"white",height:"1em",fontSize:"0.6em",lineHeight:"0.8em",borderRadius:"1em",display:"flex",justifyContent:"center",alignItems:"center",padding:"2px 6px",minWidth:"1em"},kuralWrapper:{width:"100%"}}}));t.a=function(e){var t=u();return e.kural&&e.kural.value?Object(a.jsxs)(i.a,{className:e.className,classes:{root:Object(o.a)(t.listItem)},component:e.componentType||"li",children:[e.showBadge&&Object(a.jsx)("div",{className:t.badgeContainer,children:e.kural.id}),Object(a.jsx)("div",{onClick:function(){return e.onClick&&e.onClick(e.kural)},className:t.kuralWrapper,dangerouslySetInnerHTML:{__html:e.kural.value.replace("\n","<br>")}})]}):null}},26:function(e,t,r){"use strict";r.d(t,"g",(function(){return u})),r.d(t,"f",(function(){return s})),r.d(t,"e",(function(){return l})),r.d(t,"c",(function(){return d})),r.d(t,"b",(function(){return b})),r.d(t,"a",(function(){return p})),r.d(t,"d",(function(){return f}));var n=r(4),a=r(12),c=r.n(a),i=r(19),o=r(7),u=function(e,t){return function(){var r=Object(i.a)(c.a.mark((function r(n){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n(s(t)),r.next=3,Object(o.C)(e,t);case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},s=function(e){return{type:"SetUser",payload:e}},l=function(e){return{type:"UpdateSettings",payload:e}},d=["rgb(29, 161, 242)","rgb(224, 36, 94)","rgb(23, 191, 99)"],b=[{label:"Default",color:"rgba(255,255,255,1.00)"},{label:"Dim",color:"rgb(21, 32, 43)"},{label:"Lights out",color:"rgb(0, 0, 0)"}],p={id:"anonymous",favorites:[],preference:{display:{color:d[0],background:b[0]},language:{primary:"ta",secondary:[]},fontSizeType:o.d.MEDIUM}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SetUser":return t.payload;case"UpdateSettings":return Object(n.a)(Object(n.a)({},e),{},{preference:Object(n.a)(Object(n.a)({},e.preference),t.payload)});default:return e}}},265:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n={chapter:{},section:{},literature:{},transliterator:{},index:null,kurals:{}},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments.length>1?arguments[1]:void 0;return"init"===t.type?t.payload:e}},266:function(e,t){},267:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(12),a=r.n(n),c=r(8),i=r(13),o=r(4),u=r(19),s=r(7),l=r(26),d=function(e){return function(){var t=Object(u.a)(a.a.mark((function t(r){var n,u,d,b,p,f,j,O;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.v)(e,"rajeshsundaram");case 2:return n=t.sent,u=n.preference.language.primary,t.next=6,Object(s.r)(e);case 6:return d=t.sent,t.t0=s.B,t.next=10,Object(s.m)(e,u);case 10:return t.t1=t.sent,b=(0,t.t0)(t.t1),t.t2=s.B,t.next=15,Object(s.l)(e,u);case 15:return t.t3=t.sent,p=(0,t.t2)(t.t3),t.t4=s.B,t.next=20,Object(s.k)(e,u);case 20:return t.t5=t.sent,f=(0,t.t4)(t.t5),t.next=24,Object(s.n)(e);case 24:return j=t.sent.reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),{},Object(i.a)({},t.id,t))}),{}),t.t6=Object,t.next=28,Object(s.s)(e,u);case 28:t.t7=t.sent,O=t.t6.entries.call(t.t6,t.t7).reduce((function(e,t){var r=Object(c.a)(t,2),n=r[0],a=r[1];return Object(o.a)(Object(o.a)({},e),{},Object(i.a)({},n,{id:n,value:a}))}),{}),r(Object(l.f)(n)),r({type:"init",payload:{section:b,chapter:f,literature:p,index:d,transliterator:j,kurals:O}});case 32:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},285:function(e){e.exports=JSON.parse('{"a":"thirukural"}')},288:function(e,t,r){"use strict";r.r(t),r.d(t,"IDB_USER_PROFILE",(function(){return de}));var n,a=r(8),c=r(3),i=r(0),o=r.n(i),u=r(291),s=r(532),l=r(519),d=r(539),b=r(540),p=r(541),f=r(542),j=r(543),O=r(29),h=r(10),v=r(32),m=r(4),g=r(14),x=r(6),y=r(496),k=r(545),I=r(521),S=r(533),T=r(5),E=r(23),A=r(26),C=r(7),N=r(523),w=r(525),R=Object(u.a)((function(e){return{root:{background:"var(--app-bg-color)"},colorItemContainer:{display:"grid",gridTemplateColumns:"repeat(3, auto)",gridGap:"1em",padding:e.spacing(1),"&:last-child":{paddingBottom:e.spacing(1)}}}})),L=function(e){var t=R();return Object(c.jsx)(N.a,{elevation:0,className:Object(T.a)(t.root,e.className),children:Object(c.jsx)(w.a,{className:Object(T.a)(t.colorItemContainer),style:e.cardContentStyle,children:e.children})})},_=Object(u.a)((function(e){return{colorItem:{width:"90%",borderRadius:10,justifySelf:"center",border:"2px solid var(--app-color)","& .radio":{color:"var(--app-color)"},"&.item1":{color:"rgb(0,0,0)"},"&.item2":{color:"white"},"&.item3":{color:"white"},"& .item":{padding:0},"& .text":{color:"inherit"}},itemIcon:{minWidth:"none"}}})),P=function(e){var t=e.isSelected,r=void 0!==t&&t,n=Object(x.a)(e,["isSelected"]),i=_(),u=o.a.useState(r),l=Object(a.a)(u,2),d=l[0],b=l[1];o.a.useEffect((function(){b(r)}),[r]);return Object(c.jsx)("div",{className:Object(T.a)(i.colorItem,n.className),style:{backgroundColor:n.color},onClick:function(){b(!0),n.onSelect&&n.onSelect()},children:Object(c.jsxs)(y.a,{component:"div",classes:{root:"item"},children:[Object(c.jsx)(s.a,{className:i.itemIcon,children:Object(c.jsx)(k.a,{checkedIcon:Object(c.jsx)(S.a,{}),checked:d,classes:{root:"radio"}})}),Object(c.jsx)(I.a,{classes:{root:"text"},primary:n.label})]})})},D=function(e){_();var t=Object(h.c)();Object(E.useFirestoreConnect)([C.b.DISPLAY]);var r=Object(E.useFirestore)(),n=Object(h.d)((function(e){return e.firestore.data[C.b.DISPLAY]})),a=e.user.preference.display.background;return Object(c.jsx)(L,{cardContentStyle:{gridTemplateRows:"repeat(3, auto)",gridTemplateColumns:"unset"},children:Object(g.a)(n&&n.CONFIG?n.CONFIG.background:A.b).map((function(n,i){return Object(c.jsx)(P,{color:n.color,label:n.label,className:"item".concat(i+1),isSelected:a.color===n.color,onSelect:function(){return function(n){var a=Object(m.a)(Object(m.a)({},e.user.preference),{},{display:Object(m.a)(Object(m.a)({},e.user.preference.display),{},{background:n})});t(Object(A.e)(a)),Object(C.C)(r,Object(m.a)(Object(m.a)({},e.user),{},{preference:a}))}(n)}},i)}))})},U=r(534),F=r(535),M=r(536),B=Object(u.a)((function(e){return{colorItem:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center","& .circle":{height:"2.5rem",width:"2.5rem",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center","& svg":{color:"white"}},"& .icon":{marginTop:"0.5em"}}}})),G=[U.a,F.a,M.a],W=function(e){var t=e.isSelected,r=void 0!==t&&t,n=Object(x.a)(e,["isSelected"]),i=B(),u=o.a.useState(r),s=Object(a.a)(u,2),l=s[0],d=s[1];o.a.useEffect((function(){d(r)}),[r]);return Object(c.jsxs)("div",{className:i.colorItem,children:[Object(c.jsx)("div",{className:"circle",style:{backgroundColor:n.color},onClick:function(){d(!l),n.onSelect&&n.onSelect()},children:l&&Object(c.jsx)(S.a,{})}),Object(c.jsx)("div",{className:"icon",children:Object(c.jsx)(n.icon,{style:{color:n.color}})})]})},z=function(e){var t=Object(h.c)();Object(E.useFirestoreConnect)([C.b.DISPLAY]);var r=Object(E.useFirestore)(),n=Object(h.d)((function(e){return e.firestore.data[C.b.DISPLAY]})),a=e.user.preference.display.color;return Object(c.jsx)(L,{children:function(){var e=Object(g.a)(n&&n.CONFIG?n.CONFIG.colors:A.c);return a&&-1===e.indexOf(a)&&e.splice(0,1,a),e}().map((function(n,i){return Object(c.jsx)(W,{color:n,icon:G[i],isSelected:a===n,onSelect:function(){return function(n){var a=Object(m.a)(Object(m.a)({},e.user.preference),{},{display:Object(m.a)(Object(m.a)({},e.user.preference.display),{},{color:n})});t(Object(A.e)(a)),Object(C.C)(r,Object(m.a)(Object(m.a)({},e.user),{},{preference:a}))}(n)}},i)}))})},K=r(9),H=r(547),Y=Object(K.a)({root:{height:8},thumb:{height:20,width:20,marginTop:"-7px",backgroundColor:"currentColor","&:focus, &:hover, &$active":{boxShadow:"rgba(136, 153, 166, 0.2) 0px 0px 7px, rgba(136, 153, 166, 0.15) 0px 1px 3px 1px"}},active:{},track:{height:8,borderRadius:4},rail:{height:8,borderRadius:4},mark:{width:16,height:16,borderRadius:"50%",marginLeft:"-6px",opacity:.8,marginTop:"-5px","& ::after":{top:"-15px",left:"-15px",right:"-15px",bottom:"-15px",content:'"',position:"absolute",borderRadius:"50%",border:"1px solid"}},markActive:{opacity:1,backgroundColor:"currentColor"}})(H.a),J=function(e){return Object(c.jsx)(Y,Object(m.a)({"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto"},e))},V=Object(u.a)((function(e){return{sliderWrapper:{display:"flex",marginLeft:e.spacing(3),alignItems:"center"},sliderRoot:{width:"80%"}}})),X=function(e){var t=V(),r=Object(E.useFirestore)(),n=Object(h.c)(),i=C.c[e.user.preference.fontSizeType||A.a.preference.fontSizeType],o=Object.entries(C.c).map((function(e){return{value:Object(a.a)(e,2)[1]}}));return Object(c.jsx)("div",{className:Object(T.a)(e.className&&e.className+"-wrapper",t.sliderWrapper),children:Object(c.jsx)(J,Object(m.a)(Object(m.a)({classes:{root:Object(T.a)(t.sliderRoot,"is-app-color")}},e),{},{"aria-label":"font-size-picker",value:i,valueLabelDisplay:"off",step:null,marks:o,min:C.c.TINY,max:C.c.BIG,onChange:function(t,a){if("number"===typeof a){var c=Object.keys(C.c).find((function(e){return C.c[e]===a})),i=Object(m.a)(Object(m.a)({},e.user.preference),{},{fontSizeType:c});n(Object(A.e)(i)),Object(C.C)(r,Object(m.a)(Object(m.a)({},e.user),{},{preference:i}))}}}))})},q=r(546),$=r(58),Q=Object(u.a)((function(e){return{root:{paddingTop:0,paddingBottom:0},languageItem:{},languageItemText:{},itemCheckbox:{padding:0}}})),Z=function(e){var t=Q(),r=Object(v.i)(),n=Object(a.a)(r,1)[0];Object(E.useFirestoreConnect)([C.b.LANGUAGE]);var o=e.user.preference.language,u=o.primary,d=o.secondary,b=Object(h.d)((function(e){return e.firestore.data[C.b.LANGUAGE]})),p=i.useCallback((function(){return function(){if(!b)return[];var e=Object.keys(b).map((function(e){return e.toLocaleLowerCase()})).sort();return e.splice(e.indexOf(u.toLocaleLowerCase()),1),e.splice(0,0,u.toLocaleLowerCase()),e}}),[u,b]),f=i.useState([]),j=Object(a.a)(f,2),O=j[0],x=j[1];i.useEffect((function(){x(p())}),[p,b]);var k=function(e){return u===e||-1!==d.indexOf(e)};return Object(c.jsx)($.a,{onDragEnd:function(t,r){var a=t.source,c=t.destination;if(c&&a.index!==c.index){var i=Object(g.a)(O);if(i.splice.apply(i,[c.index,0].concat(Object(g.a)(i.splice(a.index,1)))),x(i),u!==i[0]){var o=e.user.preference.language.secondary;-1!==o.indexOf(i[0])&&o.splice(o.indexOf(i[0]),1),-1===o.indexOf(u)&&o.push(u);var s=Object(m.a)(Object(m.a)({},e.user.preference),{},{language:Object(m.a)(Object(m.a)({},e.user.preference.language),{},{primary:i[0],secondary:o})});n(s)}}},children:Object(c.jsx)($.c,{droppableId:"language",children:function(r,a){return Object(c.jsxs)(l.a,Object(m.a)(Object(m.a)({className:Object(T.a)(e.className&&e.className+"-wrapper",t.root,a.isDraggingOver&&"dragging-over")},r.droppableProps),{},{ref:r.innerRef,children:[O.map((function(r,a){return Object(c.jsx)($.b,{draggableId:r,index:a,children:function(a,i){return Object(c.jsxs)(y.a,Object(m.a)(Object(m.a)(Object(m.a)({onClick:function(){return function(t){var r=e.user.preference.language.primary,a=e.user.preference.language.secondary;t===r&&a.length?(r=a[0],a.splice(0,1)):-1!==a.indexOf(t)?a.splice(a.indexOf(t),1):t!==r&&(a=[].concat(Object(g.a)(a),[t]));var c=Object(m.a)(Object(m.a)({},e.user.preference),{},{language:{primary:r,secondary:a}});n(c)}(r)},className:Object(T.a)(t.languageItem,i.isDragging&&"is-dragging"),style:a.draggableProps.style,ref:a.innerRef},a.draggableProps),a.dragHandleProps),{},{children:[Object(c.jsx)(s.a,{children:Object(c.jsx)(q.a,{className:Object(T.a)(t.itemCheckbox,"is-app-color"),checked:k(r)})}),Object(c.jsx)(I.a,{disableTypography:!0,primary:b[r].value,className:t.languageItemText})]}))}},r)})),r.placeholder]}))}},"language")})},ee=r(520),te=r(537),re=Object(u.a)((function(e){return{root:{},subList:{"&.dragging-over":{backgroundColor:"var(--app-secondary-bg-color)"}},subHeader:{textAlign:"left",lineHeight:"1.5em",color:"var(--app-secondary-color)"},subListItem:{"& .drag-indicator":{color:"var(--app-color)"},"&.is-dragging":{backgroundColor:"var(--app-secondary-color)",color:"white","& .drag-indicator":{color:"white"}}},subListItemText:{fontSize:"0.8em",fontWeight:"bold"}}}));!function(e){e.ACTIVE="active",e.INACTIVE="inactive"}(n||(n={}));var ne={active:"Active",inactive:"InActive"},ae=function(e,t){var r=Object(C.w)(e,t),n=Object(a.a)(r,2);return{active:n[0],inactive:n[1]}},ce=function(e){var t=re(),r=Object(E.useFirestore)(),i=Object(h.c)(),u=Object(h.d)((function(e){return e.kuralIndexMap.transliterator})),d=o.a.useState(ae(e.user,u)),b=Object(a.a)(d,2),p=b[0],f=b[1];o.a.useEffect((function(){f(ae(e.user,u))}),[e.user,u]);return Object(c.jsx)($.a,{onDragEnd:function(t,a){var c=t.source,o=t.destination;if(o){var u=!1,s=JSON.parse(JSON.stringify(p)),l=s[c.droppableId];if(!(l.length<=1&&c.droppableId===n.ACTIVE&&o.droppableId===n.INACTIVE)){if(c.droppableId!==o.droppableId)s[o.droppableId].splice(o.index,0,l[c.index]),l.splice(c.index,1),u=!0;else c.index!==o.index&&(l.splice.apply(l,[o.index,0].concat(Object(g.a)(l.splice(c.index,1)))),u=!0);if(u){var d=Object(m.a)(Object(m.a)({},e.user.preference),{},{transilterators:s.active.map((function(e){return e.id}))});i(Object(A.e)(d)),Object(C.C)(r,Object(m.a)(Object(m.a)({},e.user),{},{preference:d}))}}}},children:Object.entries(p).map((function(e){var r=Object(a.a)(e,2),n=r[0],i=r[1];return Object(c.jsx)($.c,{droppableId:n,children:function(e,r){return Object(c.jsxs)(l.a,Object(m.a)(Object(m.a)({},e.droppableProps),{},{ref:e.innerRef,className:Object(T.a)(t.subList,r.isDraggingOver&&"dragging-over"),subheader:Object(c.jsx)(ee.a,{component:"div",className:t.subHeader,children:ne[n]}),children:[i.map((function(e,r){return Object(c.jsx)($.b,{draggableId:e.id.toString(),index:r,children:function(r,n){return Object(c.jsxs)(y.a,Object(m.a)(Object(m.a)(Object(m.a)({className:Object(T.a)(t.subListItem,n.isDragging&&"is-dragging"),style:r.draggableProps.style,ref:r.innerRef},r.draggableProps),r.dragHandleProps),{},{children:[Object(c.jsx)(s.a,{children:Object(c.jsx)(te.a,{className:"drag-indicator"})}),Object(c.jsx)(I.a,{disableTypography:!0,primary:e.name,className:t.subListItemText})]}))}},e.id)})),e.placeholder]}))}},n)}))})},ie=r(522),oe=r(538),ue=r(128),se=Object(u.a)((function(e){return{root:{},itemLabel:{fontSize:"1em"},itemChild:{padding:e.spacing(1)},listItemIcon:{"& svg":{color:"var(--app-color)"}}}})),le=function(e){var t=e.label,r=e.className,n=e.isOpen,i=void 0!==n&&n,u=e.showExpandIcon,l=void 0===u||u,d=e.children,b=Object(x.a)(e,["label","className","isOpen","showExpandIcon","children"]),p=se(),f=o.a.useState(i),j=Object(a.a)(f,2),O=j[0],h=j[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(y.a,{button:!0,className:Object(T.a)(r,p.root),onClick:function(){return h(!O)},children:[b.icon,Object(c.jsx)(I.a,{classes:{primary:p.itemLabel},primary:t}),b.suffix,l&&Object(c.jsx)(s.a,{classes:{root:p.listItemIcon},children:Object(c.jsx)(ue.a,{isExpanded:O})})]}),Object(c.jsx)(ie.a,{classes:{container:p.itemChild},in:O,timeout:"auto",unmountOnExit:!0,children:d}),b.divider&&Object(c.jsx)(oe.a,{variant:"middle"})]})},de="IDB_USER_PROFILE",be=Object(u.a)((function(e){return{root:{},item:{},itemText:{},formControl:{margin:e.spacing(1),minWidth:120},fontSizePicker:{}}})),pe="Font size",fe="Transliterators",je="Language",Oe="Color",he="Background",ve=function(e){var t=e.children;return Object(c.jsx)(s.a,{classes:{root:"is-app-color"},children:t})};t.default=function(e){var t=be(),r=Object(h.d)((function(e){return e.user})),n=Object(v.b)(de,r),i=Object(a.a)(n,2)[1];return o.a.useEffect((function(){i(r)}),[i,r]),Object(O.debug)("renders Settings"),Object(c.jsx)("div",{className:e.className,children:Object(c.jsxs)(l.a,{children:[Object(c.jsx)(le,{label:je,icon:Object(c.jsx)(ve,{children:Object(c.jsx)(d.a,{})}),children:Object(c.jsx)(Z,{user:r})}),Object(c.jsx)(le,{label:fe,divider:!0,icon:Object(c.jsx)(ve,{children:Object(c.jsx)(b.a,{})}),children:Object(c.jsx)(ce,{user:r})}),Object(c.jsx)(le,{label:pe,icon:Object(c.jsx)(ve,{children:Object(c.jsx)(p.a,{})}),children:Object(c.jsx)(X,{user:r,className:t.fontSizePicker})}),Object(c.jsx)(le,{label:Oe,icon:Object(c.jsx)(ve,{children:Object(c.jsx)(f.a,{})}),children:Object(c.jsx)(z,{user:r})}),Object(c.jsx)(le,{label:he,divider:!0,icon:Object(c.jsx)(ve,{children:Object(c.jsx)(j.a,{})}),children:Object(c.jsx)(D,{user:r})})]})})}},32:function(e,t,r){"use strict";r.d(t,"c",(function(){return b})),r.d(t,"f",(function(){return f})),r.d(t,"h",(function(){return j})),r.d(t,"a",(function(){return O})),r.d(t,"g",(function(){return S})),r.d(t,"d",(function(){return E})),r.d(t,"e",(function(){return A})),r.d(t,"b",(function(){return N})),r.d(t,"i",(function(){return w}));var n=r(12),a=r.n(n),c=r(19),i=r(8),o=r(0),u=r.n(o),s=r(10),l=r(23),d=r(7),b=function(e){var t=Object(l.useFirestore)(),r=Object(s.d)((function(e){return e.user})),n=r.preference.language.primary,u=Object(s.d)((function(e){return e.kuralIndexMap.transliterator})),b=Object(s.d)((function(e){return e.kuralIndexMap.kurals})),p=o.useState(null),f=Object(i.a)(p,2),j=f[0],O=f[1],h=o.useState(null),v=Object(i.a)(h,2),m=v[0],g=v[1],x=Object(d.w)(r,u),y=Object(i.a)(x,1)[0];return o.useEffect((function(){Object(c.a)(a.a.mark((function r(){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("number"!==typeof e){r.next=10;break}return Object(d.y)("kural",e),O(b[e]),r.t0=g,r.next=6,Object(d.p)(t,e);case 6:r.t1=r.sent,(0,r.t0)(r.t1),r.next=16;break;case 10:return O(e),r.t2=g,r.next=14,Object(d.p)(t,e.id);case 14:r.t3=r.sent,(0,r.t2)(r.t3);case 16:case"end":return r.stop()}}),r)})))()}),[t,e,n,b]),[j,m,y]},p=r(15),f=function(){var e=Object(p.g)();return[function(t){return function(){e.push(t)}}]},j=function(e,t,r){if(t&&e&&r){if(e===r)throw new Error("Bad input");Object(d.y)(e,t)}var n=u.a.useState([]),a=Object(i.a)(n,2),c=a[0],o=a[1],l=Object(s.d)((function(e){return e.kuralIndexMap})),b=u.a.useCallback((function(e){var t=l.literature,r=l.index;return Object(d.y)("section",e),Object(d.g)(r.section[e].litIndex).map((function(e){return t[e]}))}),[l]),p=u.a.useCallback((function(e){var t=l.chapter,r=l.index;return Object(d.y)("literature",e),Object(d.g)(r.litChapMap[e]).map((function(e){return t[e]}))}),[l]);return u.a.useEffect((function(){t&&"chapter"===e&&"kural"===r&&o(Object(d.q)(t).map((function(e){return l.kurals[e]})))}),[l.kurals,e,t,r]),u.a.useEffect((function(){!c.length&&t&&"kural"!==r&&(l.index&&("literature"===e&&"chapter"===r?o(p(t)):"section"===e&&"literature"===r&&o(b(t))))}),[c.length,e,r,t,l,b,p]),[c,b,p]},O=function(e){var t=Object(s.d)((function(e){return e.kuralIndexMap})),r=t[e],n=t.index;return[function(e){return r[e]||null},function(t){return Object(d.o)(n,e,t)}]},h=r(14),v=r(13),m=r(4),g=r(29),x=r.n(g),y=r(40),k=r(26),I=function(e,t){var r=function(e,r){return t.filter((function(t){return t.category===e})).map((function(e){return e.id})).includes(r)},n=[{id:0,value:"\u0baa\u0bbe\u0bb2\u0bcd",type:"top",route:y.a.LIST_CATEGORY,color:d.a.default}];return e.section&&n.push(Object(m.a)(Object(m.a)({},e.section),{},{type:"section",route:"".concat(y.a.LIST_CATEGORY,"/").concat(e.section.id),color:d.a.section})),e.literature&&n.push(Object(m.a)(Object(m.a)({},e.literature),{},{type:"literature",route:"".concat(y.a.LIST_CATEGORY,"/").concat(e.section.id,"/").concat(e.literature.id),color:d.a.literature})),e.chapter&&n.push(Object(m.a)(Object(m.a)({},e.chapter),{},{isFavourite:r("chapter",e.chapter.id),type:"chapter",route:"".concat(y.a.LIST,"/").concat(e.section.id,"/").concat(e.literature.id,"/").concat(e.chapter.id),color:d.a.chapter})),e.kural&&n.push(Object(m.a)(Object(m.a)({},e.kural),{},{isFavourite:r("kural",e.kural.id),id:e.kural.id,value:"\u0b95\u0bc1\u0bb1\u0bb3\u0bcd: ".concat(e.kural.id),type:"kural",route:"".concat(y.a.LIST,"/").concat(e.section.id,"/").concat(e.literature.id,"/").concat(e.chapter.id,"/").concat(e.kural.id),color:d.a.kural})),n},S=function(e){var t=Object(s.d)((function(e){return e.kuralIndexMap})),r=t.section,n=t.literature,a=t.chapter,c=t.index,o=Object(s.d)((function(e){return e.user})),b=u.a.useState(e),f=Object(i.a)(b,2),j=f[0],O=f[1],g=Object(p.g)(),S=Object(l.useFirestore)(),T=Object(s.c)(),E=u.a.useState({}),A=Object(i.a)(E,2),C=A[0],N=A[1];u.a.useEffect((function(){w(g.location.pathname)}),[g.location.pathname]),u.a.useEffect((function(){if(c){var e=j.kural,t=j.chapter,r=j.literature,n=j.section,a=e?Object(d.j)(e):t,i=Object(m.a)(Object(m.a)({},function(e,t){var r=Object.keys(t).find((function(e){return t[e]}));return e&&r?Object(d.o)(e,r,t[r]):{}}(c,{chapter:a,literature:r,section:n})),e?{kural:e}:{});x.a.debug("found routes:",i),N(i)}}),[c,j]);var w=function(e){var t=Object(p.f)(e,{path:"".concat(y.a.LIST_CATEGORY,"/:section"),exact:!0}),r=Object(p.f)(e,{path:"".concat(y.a.LIST_CATEGORY,"/:section/:literature"),exact:!0}),n=Object(p.f)(e,{path:"".concat(y.a.LIST_DETAIL,"/:section/:literature/:chapter"),exact:!0}),a=Object(p.f)(e,{path:"".concat(y.a.LIST_DETAIL,"/:section/:literature/:chapter/:kural"),exact:!0}),c={section:t?Number(null===t||void 0===t?void 0:t.params.section):void 0,literature:r?Number(null===r||void 0===r?void 0:r.params.literature):void 0,chapter:n?Number(null===n||void 0===n?void 0:n.params.chapter):void 0,kural:a?Number(null===a||void 0===a?void 0:a.params.kural):void 0};x.a.debug("route path values => ",JSON.stringify(c)),O(c)};g.listen((function(e){var t=e.pathname;x.a.debug("detect route => ",t),w(t)}));var R=u.a.useCallback((function(){return Object.keys(C).reduce((function(e,t){var c,i=t;switch(i){case"section":c=r[C[i]];break;case"literature":c=n[C[i]];break;case"chapter":c=a[C[i]];break;case"kural":c={id:C[i],value:""}}return Object(m.a)(Object(m.a)({},e),{},Object(v.a)({},i,c))}),{})}),[a,n,C,r]);return[C,I(R(),o.favorites),function(e){if("kural"===e.type||"chapter"===e.type){var t=!e.isFavourite,r=o.favorites,n=r.findIndex((function(t){return t.category===e.type&&t.id===e.id}));t&&-1===n?r=[].concat(Object(h.a)(r),[{id:e.id,datetime:new Date,category:e.type}]):r.splice(n,1),T(Object(k.g)(S,Object(m.a)(Object(m.a)({},o),{},{favorites:r})))}}]},T=r(57),E=function(){var e=Object(s.c)(),t=Object(s.d)((function(e){return e.kuralIndexMap.kurals})),r=Object(s.d)((function(e){return e.kuralIndexMap})),n=r.literature,i=r.section,o=r.chapter,u=function(r,u){r.forEach(function(){var r=Object(c.a)(a.a.mark((function r(c){var s,l,b,p,f;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:s=[],r.t0=c,r.next="ByKuralNo"===r.t0?4:"ByChapterNo"===r.t0?7:"ByLiteratureNo"===r.t0?10:"BySectionNo"===r.t0?13:16;break;case 4:return l=parseInt(u),Object(d.x)("kural",l)&&s.push({type:c,keyword:u,category:"kural",item:t[l]}),r.abrupt("break",16);case 7:return b=parseInt(u),Object(d.x)("chapter",b)&&s.push({type:c,keyword:u,item:o[parseInt(u)],category:"chapter"}),r.abrupt("break",16);case 10:return p=parseInt(u),Object(d.x)("literature",p)&&s.push({type:c,keyword:u,item:n[parseInt(u)],category:"literature"}),r.abrupt("break",16);case 13:return f=parseInt(u),Object(d.x)("section",f)&&s.push({type:c,keyword:u,item:i[parseInt(u)],category:"section"}),r.abrupt("break",16);case 16:s.length&&e(Object(T.b)(s));case 17:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())};return[function(t){e(Object(T.f)(t));var r=function(e){var t=[];try{if(Number.isInteger(parseInt(e))){var r=parseInt(e);Object(d.x)("kural",r)&&t.push("ByKuralNo"),Object(d.x)("chapter",r)&&t.push("ByChapterNo"),Object(d.x)("literature",r)&&t.push("ByLiteratureNo"),Object(d.x)("section",r)&&t.push("BySectionNo")}}catch(n){}return t}(t);e(Object(T.e)(r)),e(Object(T.c)()),u(r,t)},function(t){e(Object(T.g)(t))}]},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,r=Object(o.useState)(!1),n=Object(i.a)(r,2),a=n[0],c=n[1];Object(o.useEffect)((function(){var r;return a?r=window.setTimeout(e,t):clearTimeout(r),function(){clearTimeout(r)}}),[e,t,a]);var u=Object(o.useCallback)((function(){c(!0)}),[]),s=Object(o.useCallback)((function(){c(!1)}),[]);return{onMouseDown:u,onMouseUp:s,onMouseLeave:s,onTouchStart:u,onTouchEnd:s}},C=r(189),N=function(e,t){var r=o.useState(t),n=Object(i.a)(r,2),a=n[0],c=n[1];o.useEffect((function(){Object(C.a)(e).then((function(e){e&&c(JSON.parse(e))}))}),[e]);return[a,function(t){c(t),Object(C.b)(e,JSON.stringify(t)).then((function(){Object(g.debug)("indexdb value of key:".concat(e," got changed"))}))}]},w=function(){var e=Object(s.c)();return[function(t){e(Object(k.e)(t))}]}},40:function(e,t,r){"use strict";r.d(t,"a",(function(){return ve})),r.d(t,"b",(function(){return me}));var n=r(3),a=r(0),c=r.n(a),i=r(15),o=r(291),u=r(523),s=r(524),l=r(525),d=r(4),b=r(516),p=r(518),f=r(29),j=r(512),O=r(513),h=function(e){var t=e.children,r=e.window,a=Object(j.a)({target:r?r():void 0});return Object(n.jsx)(O.a,{appear:!1,direction:"down",in:!a,children:t})},v=Object(o.a)((function(e){return{toolbar:{padding:0,justifyContent:"center"},avatar:{color:"white",marginLeft:e.spacing(1),backgroundColor:e.palette.primary.main},actionsGroup:{},iconButton:{padding:"6px","& svg":{fontSize:"2rem"}}}})),m=function(e){Object(f.debug)("MyAppBar");var t=v();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(h,Object(d.a)(Object(d.a)({direction:"down"},e),{},{children:Object(n.jsx)(b.a,{color:"transparent",elevation:0,children:Object(n.jsxs)(p.a,{className:t.toolbar,children:["Kural",Object(n.jsx)("div",{className:t.actionsGroup,children:e.actions})]})})})),Object(n.jsx)(p.a,{})]})},g=r(8),x=r(496),y=r(521),k=r(522),I=r(519),S=r(5),T=r(10),E=r(32),A=r(128),C=r(7),N=r(280),w=r.n(N),R=Object(o.a)((function(e){return{root:{},listItem:{cursor:"pointer",display:"grid",gridTemplateColumns:"3em auto"},idWrap:{display:"flex",alignItems:"center",color:e.palette.primary.main,"& > span":{minWidth:"2em",opacity:.5,textAlign:"center"},"& svg":{position:"relative",left:"-4px"}},labelWrap:{fontSize:"1.2em",paddingLeft:e.spacing(1),color:"cadetblue"}}})),L=function(e){var t=R();return Object(n.jsx)(I.a,{className:e.className,children:e.items.map((function(r){return Object(n.jsxs)(x.a,{classes:{root:t.listItem},divider:e.showDivider,onClick:function(){return e.onItemSelected(r)},children:[Object(n.jsxs)("div",{className:t.idWrap,children:[Object(n.jsx)("span",{children:r.id}),Object(n.jsx)(w.a,{})]}),Object(n.jsx)("div",{className:t.labelWrap,children:r.value})]},r.id)}))})},_=Object(o.a)((function(e){return{chapFavorites:{padding:0,"& li":{paddingLeft:e.spacing(.5),paddingRight:e.spacing(.5)}}}})),P=function(e){var t=_(),r=Object(T.d)((function(e){return e.kuralIndexMap.index})),a=Object(E.a)("chapter"),c=Object(g.a)(a,1)[0],i=Object(E.f)(),o=Object(g.a)(i,1)[0];return Object(n.jsx)(n.Fragment,{children:e.chapterIds.length&&Object(n.jsx)(L,{className:t.chapFavorites,items:e.chapterIds.sort().map((function(e){return c(e)})).filter((function(e){return null!==e})),onItemSelected:function(e){r&&o("".concat(ve.LIST,"/").concat(Object(C.i)(r,{chapter:e.id})))()}})})},D=r(13),U=r(14),F=r(520),M=r(194),B=Object(o.a)((function(e){return{kural:{padding:"0 0 0 ".concat(e.spacing(1),"px"),"&:not(:last-child)":{marginBottom:e.spacing(1)}}}})),G=function(e){var t=B(),r=Object(T.d)((function(e){return e.kuralIndexMap.kurals})),a=Object(T.d)((function(e){return e.kuralIndexMap.index})),i=Object(E.a)("chapter"),o=Object(g.a)(i,1)[0],u=Object(E.f)(),s=Object(g.a)(u,1)[0],l=c.a.useState({}),b=Object(g.a)(l,2),p=b[0],f=b[1],j=function(e){a&&s("".concat(ve.LIST,"/").concat(Object(C.i)(a,{kural:e.id})))()};return c.a.useEffect((function(){var t=e.kuralIds.reduce((function(e,t){var n=Object(C.j)(t);return void 0!==r[t]?Object(d.a)(Object(d.a)({},e),{},Object(D.a)({},n,[].concat(Object(U.a)(e[n]||[]),[r[t]]))):e}),{});f(t)}),[e.kuralIds,r]),Object(n.jsx)(n.Fragment,{children:Object.keys(p).map((function(e){var r=o(parseInt(e));return Object(n.jsxs)(I.a,{component:"div",className:"sub-list",disablePadding:!0,children:[r&&Object(n.jsx)(F.a,{className:"sub-header",disableSticky:!0,onClick:function(){return e=r,void(a&&s("".concat(ve.LIST,"/").concat(Object(C.i)(a,{chapter:e.id})))());var e},children:r.value}),p[parseInt(e)].map((function(e){return Object(n.jsx)(M.a,{className:t.kural,kural:e,onClick:j},e.id)}))]},e)}))})},W=Object(o.a)((function(e){return{root:{},collapsableGroup:{},list:{"& .sub-header":{textAlign:"left",color:"brown",lineHeight:"2rem",padding:"0px 0 0 ".concat(e.spacing(.5),"px")}},listItemTitle:{"& .toggle-icon-container":{marginLeft:e.spacing(1.5),display:"flex",justifyContent:"center",alignItems:"center"}},favCount:{fontSize:"0.8rem",display:"flex",justifyContent:"center",alignItems:"center"}}})),z=function(e){var t=W(),r=Object(T.d)((function(e){return e.user.favorites})),a=function(e){return(r||[]).filter((function(t){return t.category===e})).map((function(e){return e.id}))},c=a("kural"),i=a("chapter"),o=Object(E.b)("IDB_FAV_TOGGLE",e.expanded?{kural:!0,chapter:!0}:{kural:!1,chapter:!1}),u=Object(g.a)(o,2),s=u[0],l=u[1],b=Object(n.jsx)("h1",{children:"None Found"}),p=function(e,r,a,c,i){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(x.a,{selected:e,className:t.listItemTitle,onClick:r,children:[Object(n.jsx)(y.a,{inset:!0,primary:a}),!e&&Object(n.jsx)("span",{className:t.favCount,children:c}),Object(n.jsx)("div",{className:"toggle-icon-container",children:Object(n.jsx)(A.a,{isExpanded:e})})]}),Object(n.jsx)(k.a,{in:e,style:{paddingBottom:e?8:0},className:t.collapsableGroup,timeout:"auto",children:i||b})]})};return Object(n.jsx)("div",{className:Object(S.a)(e.className,t.root),children:Object(n.jsxs)(I.a,{className:t.list,disablePadding:!0,children:[p(s.kural,(function(){l(Object(d.a)(Object(d.a)({},s),{},{kural:!s.kural}))}),"Kurals",c.length?c.length:null,c.length&&Object(n.jsx)(G,{kuralIds:c})),p(s.chapter,(function(){l(Object(d.a)(Object(d.a)({},s),{},{chapter:!s.chapter}))}),"Chapters",i.length?i.length:null,i.length&&Object(n.jsx)(P,{chapterIds:i}))]})})},K=Object(o.a)((function(e){return{root:{marginTop:e.spacing(2),"& .card-header":{padding:e.spacing(1)},"& .card-content":{padding:e.spacing(.5)}},favoriteCard:{margin:e.spacing(1),background:"inherit",color:"inherit"}}})),H=function(){var e=K();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(m,{}),Object(n.jsx)("div",{className:e.root,children:Object(n.jsxs)(u.a,{variant:"outlined",className:e.favoriteCard,children:[Object(n.jsx)(s.a,{title:"Favorites",className:"card-header"}),Object(n.jsx)(l.a,{className:"card-content",children:Object(n.jsx)(z,{expanded:!1})})]})})]})},Y=r(129),J=r(526),V=r(527),X=Object(o.a)((function(e){return{spinnerRoot:{color:"var(--app-secondary-color)"},backdrop:{zIndex:100}}})),q=function(e){var t=X();return Object(n.jsx)(J.a,{className:t.backdrop,open:!0,children:Object(n.jsx)(V.a,{color:"secondary",className:(e.className,t.spinnerRoot)})})},$=r(530),Q=r(531),Z=r(281),ee=r.n(Z),te=r(282),re=r.n(te),ne=r(102),ae=r(528),ce=r(529),ie=Object(o.a)((function(e){return{root:{flexGrow:1,background:"inherit"},appBar:{bottom:0,top:"auto",boxShadow:"none",borderTop:"1px solid rgba(0, 0, 0, 0.12)",background:"inherit"},actionItem:{color:"inherit","&.selected":{color:"var(--app-secondary-color)"}}}})),oe=function(e){var t=ie();return Object(n.jsxs)("div",{className:Object(S.a)(t.root,e.className),children:[Object(n.jsx)(b.a,{position:"fixed",color:"inherit",className:t.appBar,children:Object(n.jsx)(ae.a,{value:e.currentRoute,onChange:function(t,r){return e.onChange(r)},className:t.root,children:e.items.map((function(e,r){return Object(n.jsx)(ce.a,{label:e.label,value:e.route,icon:e.icon,classes:{selected:"selected"},className:t.actionItem},r)}))})}),Object(n.jsx)(p.a,{})]})},ue=Object(o.a)((function(e){return{root:{}}})),se=[{icon:Object(n.jsx)(ee.a,{}),route:"/",label:"Home"},{icon:Object(n.jsx)(re.a,{}),route:"/list",label:"List"},{icon:Object(n.jsx)($.a,{}),route:"/search",label:"Search"},{icon:Object(n.jsx)(Q.a,{}),route:"/settings",label:"Settings"}],le=function(e){var t=Object(i.j)("/"),r=Object(i.j)("/list*"),a=Object(i.h)(),o=Object(T.c)(),u=c.a.useCallback((function(){return(null===t||void 0===t?void 0:t.isExact)?se[0].route:(null===r||void 0===r?void 0:r.isExact)?se[1].route:a.pathname}),[t,r,a.pathname]),s=c.a.useState(u()),l=Object(g.a)(s,2),d=l[0],b=l[1];c.a.useEffect((function(){b(u())}),[u,a]);var p=ue(),f=Object(E.f)(),j=Object(g.a)(f,1)[0];return Object(n.jsx)(oe,{items:se,currentRoute:d,onChange:function(e){if(b(e),j(e)(),se[0].route===e)o(Object(ne.b)());else{var t,r=null===(t=se.find((function(t){return t.route===e})))||void 0===t?void 0:t.label;r&&o(Object(ne.c)(r))}},className:p.root})},de=function(e){var t;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(a.Suspense,{fallback:Object(n.jsx)(q,{}),children:Object(Y.a)(null===(t=e.route)||void 0===t?void 0:t.routes)}),Object(n.jsx)(le,{})]})},be=c.a.lazy((function(){return Promise.resolve().then(r.bind(null,288))})),pe=c.a.lazy((function(){return Promise.all([r.e(0),r.e(6)]).then(r.bind(null,592))})),fe=c.a.lazy((function(){return Promise.all([r.e(4),r.e(10)]).then(r.bind(null,590))})),je=c.a.lazy((function(){return r.e(9).then(r.bind(null,584))})),Oe=c.a.lazy((function(){return Promise.all([r.e(5),r.e(8)]).then(r.bind(null,589))})),he=c.a.lazy((function(){return Promise.all([r.e(0),r.e(7)]).then(r.bind(null,591))})),ve={ROOT:"/",LIST:"/list",LIST_CATEGORY:"/list",LIST_DETAIL:"/list/detail",SEARCH:"/search",FAVOURITE:"/favorite",SETTINGS:"/settings"},me=[{path:ve.ROOT,component:de,routes:[{path:ve.SEARCH,component:fe,exact:!0},{path:ve.SETTINGS,component:be,exact:!0},{path:ve.LIST,component:je,routes:[{path:"".concat(ve.LIST_DETAIL,"/:section/:literature/:chapter"),component:he,exact:!0},{path:"".concat(ve.LIST_DETAIL,"/:section/:literature/:chapter/:kural"),component:pe,exact:!0},{path:"".concat(ve.LIST_CATEGORY,"*"),render:function(e){e.match;return Object(n.jsx)(Oe,{})}}]},{path:ve.ROOT,exact:!0,component:H},{path:"/*",component:function(){return Object(n.jsx)(i.a,{to:ve.ROOT})}}]}]},452:function(e,t,r){},491:function(e,t,r){"use strict";r.r(t);var n=r(4),a=r(3),c=r(0),i=r(544),o=r(29),u=r.n(o),s=r(28),l=r.n(s),d=r(23),b=(r(452),r(8)),p=r(13),f=r(291),j=r(277),O=r.n(j),h=r(10),v=r(129),m=r(68),g=r(7),x=r(32),y=r(40),k=r(135),I=r(288),S=Object(f.a)((function(e){return{root:Object(p.a)({},e.breakpoints.up("sm"),{fontSize:"3vw"})}})),T=function(e){var t=e.preference,r=t.fontSizeType,n=t.display,a=document.body.style;a.setProperty("--text-size","".concat(g.c[r],"px")),a.setProperty("--app-color",n.color),a.setProperty("--app-secondary-color","green"),a.setProperty("--app-bg-color",n.background.color),a.setProperty("--app-secondary-bg-color","lightblue"),a.setProperty("--app-font-family",function(){switch(e.preference.language.primary){case"ta":return"Mukta Malar";default:return"var(--default-font-family)"}}())},E=function(){var e=S(),t=Object(h.c)(),r=Object(d.useFirestore)(),n=Object(x.b)(I.IDB_USER_PROFILE,null),i=Object(b.a)(n,1)[0],o=Object(h.d)((function(e){return e.user}));return c.useEffect((function(){t(Object(k.thunkInitKuralIndexMapAndUserPref)(r))}),[t,r]),c.useEffect((function(){i&&T(i)}),[i]),c.useEffect((function(){O()(i,o)||T(o)}),[i,o]),Object(a.jsx)("div",{className:e.root,style:{fontSize:"var(--text-size)",color:"var(--app-color)",backgroundColor:"var(--app-bg-color)"},children:Object(a.jsx)(m.a,{children:Object(v.a)(y.b)})})},A=r(81),C=r(136),N=(r(488),r(34)),w=r(284),R=r(137),L=r(285),_=r(57),P=r(26),D=r(102),U=Object(N.combineReducers)({kuralIndexMap:k.KuralIndexReducer,title:D.a,search:_.a,user:P.d,firebase:d.firebaseReducer,firestore:C.firestoreReducer}),F=Object(w.composeWithDevTools)({name:"".concat(L.a,"-DevTools"),trace:!0}),M=Object(N.createStore)(U,F(Object(N.applyMiddleware)(R.a))),B=r(286),G=r.n(B),W=[R.a],z=(G()(W),function(e){var t=e.children;return Object(a.jsx)(h.a,{store:M,children:t})}),K=Object({NODE_ENV:"production",PUBLIC_URL:"/thirukural",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_STORAGE_BUCKET:"kural-de220.appspot.com",REACT_APP_PROJECT_ID:"kural-de220",REACT_APP_AUTH_DOMAIN:"kural-de220.firebaseapp.com",REACT_APP_API_KEY:"AIzaSyCgG3WHBClU8TJO_A4CGi177k0ihtn15tQ",REACT_APP_DB_URL:"https://kural-de220.firebaseio.com",REACT_APP_MESSAGING_SENDER_ID:"1037621590340",REACT_APP_MESUREMENT_ID:"G-CMC5L28GFK",REACT_APP_FB_APP_ID:"1:1037621590340:web:f5613d36d67ed31d78ff11"}),H=K.REACT_APP_API_KEY,Y=K.REACT_APP_AUTH_DOMAIN,J=K.REACT_APP_DB_URL,V=K.REACT_APP_PROJECT_ID,X=K.REACT_APP_STORAGE_BUCKET,q=K.REACT_APP_MESSAGING_SENDER_ID,$=K.REACT_APP_FB_APP_ID,Q=K.REACT_APP_MESUREMENT_ID;!function(){if(!(H&&Y&&J&&V))throw new Error("FB_CONF missing")}();var Z={apiKey:H,projectId:V,databaseURL:J,authDomain:Y,storageBucket:X,messagingSenderId:q,appId:$,measurementId:Q};A.a.initializeApp(Z),A.a.firestore().enablePersistence({synchronizeTabs:!0}).catch((function(e){"unimplemented"===e.code&&u.a.error("persistence not supported on the current browser")}));var ee={firebase:A.a,dispatch:M.dispatch,createFirestoreInstance:C.createFirestoreInstance,config:{userProfile:"users",useFirestoreForProfile:!0}},te=function(e){e&&e instanceof Function&&r.e(11).then(r.bind(null,585)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;r(e),n(e),a(e),c(e),i(e)}))},re=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ne(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var r=e.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ae=r(287),ce=Object(ae.a)({spacing:8});u.a.setLevel("SILENT"),l.a.render(Object(a.jsx)(z,{children:Object(a.jsx)(d.ReactReduxFirebaseProvider,Object(n.a)(Object(n.a)({},ee),{},{children:Object(a.jsx)(i.a,{theme:ce,children:Object(a.jsx)(E,{})})}))}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/thirukural",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/thirukural","/service-worker.js");re?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(r){var n=r.headers.get("content-type");404===r.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ne(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):ne(t,e)}))}}(),te()},57:function(e,t,r){"use strict";r.d(t,"g",(function(){return o})),r.d(t,"c",(function(){return u})),r.d(t,"b",(function(){return s})),r.d(t,"h",(function(){return l})),r.d(t,"d",(function(){return d})),r.d(t,"e",(function(){return b})),r.d(t,"f",(function(){return p})),r.d(t,"a",(function(){return O}));var n=r(13),a=r(8),c=r(14),i=r(4),o=function(e){return{type:"SetSearchStatus",payload:e}},u=function(){return{type:"SetSearchResults",payload:[]}},s=function(e){return{type:"AddSearchResults",payload:e}},l=function(e,t){return{type:"SetUserSelection",payload:[e,t]}},d=function(e){return{type:"SetAllUserSelection",payload:e}},b=function(e){return{type:"SetSearchFilters",payload:e}},p=function(e){return{type:"SetSearchKeyword",payload:e}},f=function(e){var t={kural:1,chapter:2,literature:3,section:4};return e.sort((function(e,r){return t[e.category]-t[r.category]}))},j={status:!1,keyword:"",results:[],filters:[],userSelections:{chapter:!0,kural:!0,section:!0,literature:!0,detail:!0}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;if("SetSearchKeyword"===t.type&&t.payload!==e.keyword)return Object(i.a)(Object(i.a)({},e),{},{keyword:t.payload,results:[]});if("AddSearchResults"===t.type)return Object(i.a)(Object(i.a)({},e),{},{results:f([].concat(Object(c.a)(e.results),Object(c.a)(t.payload)))});if("SetSearchResults"===t.type)return Object(i.a)(Object(i.a)({},e),{},{results:f(t.payload)});if("SetSearchFilters"===t.type)return Object(i.a)(Object(i.a)({},e),{},{filters:t.payload});if("SetUserSelection"===t.type){var r=t.payload,o=Object(a.a)(r,2),u=o[0],s=o[1];return Object(i.a)(Object(i.a)({},e),{},{userSelections:Object(i.a)(Object(i.a)({},e.userSelections),{},Object(n.a)({},u,s))})}if("SetAllUserSelection"===t.type){var l=t.payload;return Object(i.a)(Object(i.a)({},e),{},{userSelections:{chapter:l,kural:l,section:l,literature:l,detail:l}})}return"SetSearchStatus"===t.type?Object(i.a)(Object(i.a)({},e),{},{status:t.payload}):e}},7:function(e,t,r){"use strict";r.d(t,"b",(function(){return W})),r.d(t,"f",(function(){return z})),r.d(t,"e",(function(){return K})),r.d(t,"t",(function(){return i})),r.d(t,"u",(function(){return o})),r.d(t,"o",(function(){return u})),r.d(t,"a",(function(){return s})),r.d(t,"r",(function(){return O})),r.d(t,"m",(function(){return v})),r.d(t,"k",(function(){return m})),r.d(t,"l",(function(){return g})),r.d(t,"j",(function(){return x})),r.d(t,"A",(function(){return y})),r.d(t,"c",(function(){return k})),r.d(t,"s",(function(){return I})),r.d(t,"p",(function(){return S})),r.d(t,"q",(function(){return T})),r.d(t,"n",(function(){return E})),r.d(t,"d",(function(){return n})),r.d(t,"v",(function(){return N})),r.d(t,"C",(function(){return w})),r.d(t,"z",(function(){return R})),r.d(t,"g",(function(){return L})),r.d(t,"x",(function(){return _})),r.d(t,"y",(function(){return P})),r.d(t,"B",(function(){return D})),r.d(t,"h",(function(){return U})),r.d(t,"i",(function(){return F})),r.d(t,"w",(function(){return G}));var n,a=r(4),c=r(13),i=function(e,t){return P("chapter",t),Number(Object.keys(e.litChapMap).find((function(r){return R(t,e.litChapMap[Number(r)])})))},o=function(e,t){var r;return P("literature",t),Number(null===(r=Object.keys(e.section).map((function(t){return{section:t,litIndex:e.section[Number(t)].litIndex}})).find((function(e){return R(t,e.litIndex)})))||void 0===r?void 0:r.section)},u=function(e,t,r){P(t,r);var n=Object(c.a)({},t,r);switch(t){case"chapter":n=Object(a.a)(Object(a.a)({},n),{},{literature:i(e,n.chapter)});case"literature":n=Object(a.a)(Object(a.a)({},n),{},{section:o(e,n.literature)})}return n},s={section:"rgba(162, 43, 47,0.8)",literature:"cadetblue",chapter:"rgba(215, 22, 64, 0.8)",kural:"#3f51b5",default:"blueviolet"},l=r(12),d=r.n(l),b=r(19),p=r(29),f=r.n(p),j=function(){var e=Object(b.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get({source:"cache"});case 3:if(!(r=e.sent).empty){e.next=6;break}throw new Error("result not exists in cache");case 6:f.a.debug("fetches from cache"),e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(0),e.next=13,t.get({source:"server"});case 13:r=e.sent;case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(d.a.mark((function e(t){var r,n,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t.collection(W.INDEX_MAP));case 2:return a=e.sent,c=function(e){return a.docs.find((function(t){return t.id===e}))},e.abrupt("return",{section:null===(r=c("section"))||void 0===r?void 0:r.data(),litChapMap:null===(n=c("litChapMap"))||void 0===n?void 0:n.data()});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(b.a)(d.a.mark((function e(t,r,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t.collection(W[n]));case 2:return a=e.sent,e.abrupt("return",a.docs.map((function(e){return{id:Number(e.id),value:e.data()[r]}})));case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(b.a)(d.a.mark((function e(t,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t,r,"SECTION");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),m=function(){var e=Object(b.a)(d.a.mark((function e(t,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t,r,"CHAPTER");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),g=function(){var e=Object(b.a)(d.a.mark((function e(t,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h(t,r,"LITERATURE"));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),x=function(e){return Math.ceil(e/10)},y=function(e,t){var r=e.type;return"chapter"===t?r.startsWith("ByChapter"):"kural"===t?r.startsWith("ByKural"):"detail"===t?r.startsWith("ByKuralDetail"):"section"===t?r.startsWith("BySection"):"literature"===t&&r.startsWith("ByLiterature")},k={BIG:24,LARGE:21,MEDIUM:18,SMALL:15,TINY:12},I=function(){var e=Object(b.a)(d.a.mark((function e(t,r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.collection(W.KURAL).doc(r).get();case 2:return n=e.sent,e.abrupt("return",n.data()||{});case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),S=function(){var e=Object(b.a)(d.a.mark((function e(t,r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P("kural",r),e.next=3,t.collection(W.KURAL_DETAIL).doc("".concat(r)).get();case 3:return n=e.sent,e.abrupt("return",n.data());case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),T=function(e){P("chapter",e);var t=10*(e-1)+1;return Array.from(Array(10).keys()).map((function(e){return t+e}))},E=function(){var e=Object(b.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.collection(W.TRANSLITERATOR).get();case 2:return r=e.sent,e.abrupt("return",r.docs.map((function(e){return Object(a.a)({id:Number(e.id)},e.data())})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();!function(e){e.TINY="TINY",e.SMALL="SMALL",e.MEDIUM="MEDIUM",e.LARGE="LARGE",e.BIG="BIG"}(n||(n={}));var A=r(81),C=r(26),N=function(){var e=Object(b.a)(d.a.mark((function e(t,r){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.collection(W.USER).where(A.a.firestore.FieldPath.documentId(),"==",r).limit(1).get();case 2:if(!(n=e.sent).empty){e.next=5;break}throw new Error("user not found");case 5:return c=n.docs[0],e.abrupt("return",Object(a.a)({id:c.id},c.data()));case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),w=function(){var e=Object(b.a)(d.a.mark((function e(t,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.id===C.a.id){e.next=3;break}return e.next=3,t.collection(W.USER).doc("".concat(r.id)).set(r);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),R=function(e,t){return e>=t[0]&&e<=t[1]},L=function(e){for(var t=[],r=e[0];r<=e[1];r++)t.push(r);return t},_=function(e,t){switch(e){case"section":return(c=t)>=1&&c<=3;case"literature":return(a=t)>=1&&a<=13;case"chapter":return(n=t)>=1&&n<=133;case"kural":return(r=t)>=1&&r<=1330}var r,n,a,c},P=function(e,t){if(!_(e,t))throw new Error("".concat(e," with ").concat(t," not found"))},D=function(e){return e.reduce((function(e,t){return Object(a.a)(Object(a.a)({},e),{},Object(c.a)({},t.id,t))}),{})},U=function(e,t){var r=t.kural,n=t.chapter,c=t.literature,i=t.section,o=r?x(r):n;return Object(a.a)(Object(a.a)({},function(e,t){var r=Object.keys(t).find((function(e){return t[e]}));return e&&r?u(e,r,t[r]):{}}(e,{chapter:o,literature:c,section:i})),r?{kural:r}:{})},F=function(e,t){return function(e){return["section","literature","chapter","kural"].filter((function(t){return void 0!==e[t]})).map((function(t){return e[t]})).join("/")}(U(e,t))},M=r(8),B=r(14),G=function(e,t){var r,n,i,o=[[],[]],u=function(e){var t=e.preference.language,r=t.primary,n=t.secondary;return[r].concat(Object(B.a)(n))}(e),s=(i=t,(n=u).length?Object.entries(i).filter((function(e){var t=Object(M.a)(e,2),r=(t[0],t[1]);return n.some((function(e){return e===r.lang}))})).reduce((function(e,t){var r=Object(M.a)(t,2),n=r[0],i=r[1];return Object(a.a)(Object(a.a)({},e),{},Object(c.a)({},n,i))}),{}):i),l=(null===(r=e.preference)||void 0===r?void 0:r.transilterators)||[];if(l.length){var d=Object.keys(s).map((function(e){return parseInt(e)}));o[0]=l.filter((function(e){return d.includes(e)})).map((function(e){return s[e]})),o[1]=d.filter((function(e){return!l.includes(e)})).map((function(e){return s[e]}))}else o[0]=Object.values(s);return o},W={KURAL:"KURAL",TRANSLITERATOR:"TRANSLITERATOR",LANGUAGE:"LANGUAGE",DISPLAY:"DISPLAY_CONFIG",KURAL_DETAIL:"KURAL_DETAIL",USER:"USER",SECTION:"SECTION",USER_FAVOURITES:"USER_FAVOURITES",USER_SEARCH_HISTORY:"USER_SEARCH_HISTORY",LITERATURE:"LITERATURE",CHAPTER:"CHAPTER",INDEX_MAP:"INDEX_MAP"},z={all:"\u0b85\u0ba9\u0bc8\u0ba4\u0bcd\u0ba4\u0bc1\u0bae\u0bcd",chapter:"\u0b85\u0ba4\u0bbf\u0b95\u0bbe\u0bb0\u0bae\u0bcd",kural:"\u0b95\u0bc1\u0bb1\u0bb3\u0bcd",literature:"\u0b87\u0baf\u0bb2\u0bcd",section:"\u0baa\u0bbe\u0bb2\u0bcd",detail:"\u0b89\u0bb0\u0bc8"},K={kural:1330,chapter:133,literature:13,section:3}}},[[491,2,3]]]);
//# sourceMappingURL=main.cd9a890c.chunk.js.map