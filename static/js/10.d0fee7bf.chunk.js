(this.webpackJsonpthirukural=this.webpackJsonpthirukural||[]).push([[10],{586:function(e,t,a){"use strict";a.r(t);var r=a(8),c=a(13),n=a(3),i=a(0),l=a.n(i),s=a(290),o=a(495),u=a(591),b=a(517),p=a(5),h=a(9),j=a(6),d=a(31),m=a(40),f=a(193),O=a(580),g=a(564),S=a(590),x=a(19),y=a(561),k=a.n(y),v=a(560),C=a.n(v),w=a(29),N=a(579),I=Object(s.a)((function(e){return Object(S.a)({root:{display:"flex",alignItems:"center",maxWidth:400,border:"1px solid",borderRadius:"25px",borderColor:Object(x.c)(e.palette.grey[500],.5),padding:"0.2em 0.5em",color:e.palette.primary.main,height:"1.6rem","&.focus":{borderColor:"var(--app-color)","& .search-icon, & .searchbar":{color:"var(--app-color)"}}},searchicon:{color:Object(x.c)(e.palette.grey[500],.5),cursor:"pointer"},clearIcon:{cursor:"pointer",color:"var(--app-color)"},input:{flex:1,padding:"0px 6px",width:"100%",color:e.palette.primary.light}})})),B=function(e){Object(w.debug)("KuralSearch");var t=I(),a=l.a.useRef(null),c=Object(d.d)(),i=Object(r.a)(c,1)[0],s=Object(N.a)((function(e){i(e)}),500),o=l.a.useState(""),u=Object(r.a)(o,2),b=u[0],h=u[1],j=l.a.useState(!1),m=Object(r.a)(j,2),f=m[0],S=m[1];return l.a.useEffect((function(){s.callback(b)}),[s,b]),Object(n.jsxs)("div",{className:Object(p.a)(t.root,e.className,f&&"focus"),children:[Object(n.jsx)(C.a,{onClick:function(){var e,t;null===(e=a.current)||void 0===e||null===(t=e.querySelector("input"))||void 0===t||t.focus()},className:Object(p.a)(t.searchicon,"search-icon")}),Object(n.jsx)(g.a,{autoFocus:!0,ref:a,className:"searchbar ".concat(t.input),placeholder:"Search 43, agara",inputProps:{"aria-label":"Search"},onChange:function(e){var t=e.target.value;h(t)},value:b,onFocus:function(){S(!0),e.onSearchTap&&e.onSearchTap()},onBlur:function(){return S(!1)}}),Object(n.jsx)(O.a,{in:!(0===b.trim().length),children:Object(n.jsx)(k.a,{className:t.clearIcon,onClick:function(){h("")}})})]})},T=a(4),A=a(563),R=a(529),z=a(54),F=Object(s.a)((function(e){return{searchFilter:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1),textAlign:"start","& .search-chip":{height:"2em",margin:"0 1vw 4px 0",fontSize:"0.7em",minWidth:"15vw","&.highlight":{"& svg":Object(c.a)({width:"0.7rem"},e.breakpoints.up("sm"),{width:"1.5rem"}),"& .label":{paddingLeft:e.spacing(.5)}}}}}})),L=function(e){var t=F(),a=l.a.useState([]),c=Object(r.a)(a,2),i=c[0],s=c[1],o=Object(h.d)((function(e){return e.search})),u=Object(h.c)();l.a.useEffect((function(){var e=function(e){return o.filters.filter((function(t){return t.startsWith(e)})).length>0},t=[{label:j.f.all,type:"all",isShow:new Set(o.results.map((function(e){return e.type}))).size>1},{label:j.f.section,type:"section",isShow:e("BySection")},{label:j.f.literature,type:"literature",isShow:e("ByLiterature")},{label:j.f.chapter,type:"chapter",isShow:e("ByChapter")},{label:j.f.kural,type:"kural",isShow:e("ByKural")},{label:j.f.detail,type:"detail",isShow:e("ByKuralDetail")}];s(t)}),[o]);var b=function(e){return"all"===e?o.userSelections.section&&o.userSelections.literature&&o.userSelections.chapter&&o.userSelections.kural&&o.userSelections.detail:o.userSelections[e]};return Object(n.jsx)("div",{className:t.searchFilter,children:i.filter((function(e){return e.isShow})).map((function(e,t){return Object(n.jsx)(A.a,Object(T.a)(Object(T.a)({},b(e.type)?{icon:Object(n.jsx)(R.a,{})}:{}),{},{size:"small",className:Object(p.a)("search-chip",b(e.type)&&"highlight"),label:e.label,color:"primary",classes:{label:"label"},style:{backgroundColor:j.a["all"===e.type||"detail"===e.type?"default":e.type]},onClick:function(t){return a=e.type,void u("all"!==a?Object(z.h)(a,!o.userSelections[a]):Object(z.d)(!b("all")));var a}}),t)}))})},E=Object(s.a)((function(e){return{root:{marginTop:e.spacing(2),padding:e.spacing(1)},searchbar:{flexGrow:1},kuralSearchItem:{margin:0,padding:0,borderBottom:"none"},searchItem:{paddingLeft:e.spacing(0),paddingRight:e.spacing(0),cursor:"pointer"},searchItemAvatar:{width:"2rem",height:"2rem",textAlign:"center",fontSize:"1rem",marginRight:"0.5rem"}}})),K=function(e){var t=e.result,a=e.label,r=e.onClick,c=e.component,i=E(),l=c||Object(n.jsx)("div",{children:t.item.value});return Object(n.jsxs)(o.a,{onClick:r,className:i.searchItem,children:[Object(n.jsx)(u.a,{className:i.searchItemAvatar,style:{backgroundColor:j.a[t.category]},children:a.charAt(0).toUpperCase()}),l]},"".concat(a).concat(t.item.id))};t.default=function(e){var t=E(),a=Object(h.d)((function(e){return e.search})),i=Object(h.d)((function(e){return e.kuralIndexMap.index})),s=l.a.useCallback((function(e,t){var a=m.a.LIST_CATEGORY;return i&&(a+="/".concat(Object(j.i)(i,Object(c.a)({},e,t)))),a}),[i]),o=Object(d.f)(),u=Object(r.a)(o,1)[0];return Object(n.jsxs)("div",{className:Object(p.a)(e.className,t.root),children:[Object(n.jsx)(B,{className:t.searchbar}),Object(n.jsx)(L,{}),Object(n.jsx)(b.a,{children:a.results.map((function(e,r){return function(e,r){return Object(j.y)(e,"kural")&&a.userSelections.kural?Object(n.jsx)(K,{result:e,label:"k",onClick:u(s("kural",e.item.id)),component:Object(n.jsx)(f.a,{componentType:"span",kural:e.item,className:t.kuralSearchItem},e.item.id)},r):Object(j.y)(e,"chapter")&&a.userSelections.chapter?Object(n.jsx)(K,{label:"ch",onClick:u(s("chapter",e.item.id)),result:e},r):Object(j.y)(e,"literature")&&a.userSelections.literature?Object(n.jsx)(K,{label:"lit",onClick:u(s("literature",e.item.id)),result:e},r):Object(j.y)(e,"section")&&a.userSelections.section?Object(n.jsx)(K,{label:"sec",onClick:u(s("section",e.item.id)),result:e},r):null}(e,r)}))})]})}}}]);
//# sourceMappingURL=10.d0fee7bf.chunk.js.map