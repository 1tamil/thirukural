(this.webpackJsonpthirukural=this.webpackJsonpthirukural||[]).push([[0],{138:function(e,t,r){"use strict";var n=r(260);r.d(t,"KuralIndexReducer",(function(){return n.a}));var a=r(261);r.o(a,"thunkInitKuralIndexMapAndUserPref")&&r.d(t,"thunkInitKuralIndexMapAndUserPref",(function(){return a.thunkInitKuralIndexMapAndUserPref}));var c=r(262);r.d(t,"thunkInitKuralIndexMapAndUserPref",(function(){return c.a}))},260:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n={chapter:{},section:{},literature:{},transliterator:{},index:null,kurals:{}},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments.length>1?arguments[1]:void 0;return"init"===t.type?t.payload:e}},261:function(e,t){},262:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(15),a=r.n(n),c=r(8),i=r(14),o=r(4),s=r(25),u=r(6),l=r(32),d=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(r){var n,s,d,b,p,j,f,O;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.t)(e,"rajeshsundaram");case 2:return n=t.sent,s=n.preference.language.primary,t.next=6,Object(u.r)(e);case 6:return d=t.sent,t.t0=u.z,t.next=10,Object(u.m)(e,s);case 10:return t.t1=t.sent,b=(0,t.t0)(t.t1),t.t2=u.z,t.next=15,Object(u.l)(e,s);case 15:return t.t3=t.sent,p=(0,t.t2)(t.t3),t.t4=u.z,t.next=20,Object(u.k)(e,s);case 20:return t.t5=t.sent,j=(0,t.t4)(t.t5),t.next=24,Object(u.n)(e);case 24:return f=t.sent.reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),{},Object(i.a)({},t.id,t))}),{}),t.t6=Object,t.next=28,Object(u.s)(e,s);case 28:t.t7=t.sent,O=t.t6.entries.call(t.t6,t.t7).reduce((function(e,t){var r=Object(c.a)(t,2),n=r[0],a=r[1];return Object(o.a)(Object(o.a)({},e),{},Object(i.a)({},n,{id:n,value:a}))}),{}),r(Object(l.f)(n)),r({type:"init",payload:{section:b,chapter:j,literature:p,index:d,transliterator:f,kurals:O}});case 32:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},283:function(e){e.exports=JSON.parse('{"a":"thirukural"}')},32:function(e,t,r){"use strict";r.d(t,"g",(function(){return s})),r.d(t,"f",(function(){return u})),r.d(t,"e",(function(){return l})),r.d(t,"c",(function(){return d})),r.d(t,"b",(function(){return b})),r.d(t,"a",(function(){return p})),r.d(t,"d",(function(){return j}));var n=r(4),a=r(15),c=r.n(a),i=r(25),o=r(6),s=function(e,t){return function(){var r=Object(i.a)(c.a.mark((function r(n){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n(u(t)),r.next=3,Object(o.A)(e,t);case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},u=function(e){return{type:"SetUser",payload:e}},l=function(e){return{type:"UpdateSettings",payload:e}},d=["rgb(29, 161, 242)","rgb(224, 36, 94)","rgb(23, 191, 99)"],b=[{label:"Default",color:"rgba(255,255,255,1.00)"},{label:"Dim",color:"rgb(21, 32, 43)"},{label:"Lights out",color:"rgb(0, 0, 0)"}],p={id:"anonymous",favorites:[],preference:{display:{color:d[0],background:b[0]},language:{primary:"ta",secondary:[]},fontSizeType:o.d.MEDIUM}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SetUser":return t.payload;case"UpdateSettings":return Object(n.a)(Object(n.a)({},e),{},{preference:Object(n.a)(Object(n.a)({},e.preference),t.payload)});default:return e}}},450:function(e,t,r){},489:function(e,t,r){"use strict";r.r(t);var n=r(4),a=r(1),c=r(0),i=r.n(c),o=r(546),s=r(22),u=r.n(s),l=r(34),d=r.n(l),b=r(30),p=(r(450),r(8)),j=r(14),f=r(510),O=r(272),h=r.n(O),m=r(9),g=r(84),v=r(57),x=r(6),y=r(15),k=r.n(y),I=r(25),S=r(20),N=function(){var e=Object(S.g)();return[function(t){return function(){e.push(t)}}]},T=function(e,t,r){if(t&&e&&r){if(e===r)throw new Error("Bad input");Object(x.w)(e,t)}var n=i.a.useState([]),a=Object(p.a)(n,2),c=a[0],o=a[1],s=Object(m.d)((function(e){return e.kuralIndexMap})),u=i.a.useCallback((function(e){var t=s.literature,r=s.index;return Object(x.w)("section",e),Object(x.g)(r.section[e].litIndex).map((function(e){return t[e]}))}),[s]),l=i.a.useCallback((function(e){var t=s.chapter,r=s.index;return Object(x.w)("literature",e),Object(x.g)(r.litChapMap[e]).map((function(e){return t[e]}))}),[s]);return i.a.useEffect((function(){t&&"chapter"===e&&"kural"===r&&o(Object(x.q)(t).map((function(e){return s.kurals[e]})))}),[s.kurals,e,t,r]),i.a.useEffect((function(){!c.length&&t&&"kural"!==r&&(s.index&&("literature"===e&&"chapter"===r?o(l(t)):"section"===e&&"literature"===r&&o(u(t))))}),[c.length,e,r,t,s,u,l]),[c,u,l]},C=function(e){var t=Object(m.d)((function(e){return e.kuralIndexMap})),r=t[e],n=t.index;return[function(e){return r[e]||null},function(t){return Object(x.o)(n,e,t)}]},E=r(23),A=r(7),w=r(514),R=r(275),L=r(553),_=r(513),P=r(512),D=r(5),U=Object(f.a)((function(e){return{icon:{color:"inherit",transform:"rotate(0deg)",transition:"all 0.2s ease","&.is-expanded":{transform:"rotate(-180deg)"}}}})),M=function(e){var t=e.isExpanded,r=e.className,n=e.style,c=U();return Object(a.jsx)(P.a,{style:n,className:Object(D.a)(c.icon,t&&"is-expanded",r)})},F=Object(f.a)((function(e){return{listItem:{cursor:"pointer",position:"relative",borderRadius:e.spacing(2),WebkitTapHighlightColor:"transparent",border:"none","&.level-0":{paddingLeft:e.spacing(2)},"&.level-1":{paddingLeft:e.spacing(3)},"&.level-2":{paddingLeft:e.spacing(4)},"&.on-focus":{color:e.palette.secondary.main},"&.is-active":{color:e.palette.primary.main,border:"2px solid"}},listIcon:{display:"flex",justifyContent:"center",alignItems:"center"}}})),B=function(e){var t=e.level,r=void 0===t?0:t,n=e.hasNodes,c=e.isOpen,i=e.label,o=e.toggleNode,s=e.focused,u=e.onClick,l=e.active,d=(Object(A.a)(e,["level","hasNodes","isOpen","label","toggleNode","focused","onClick","active"]),F());return Object(a.jsxs)(L.a,{onClick:function(e){n&&o&&o(),u(e)},className:"".concat(d.listItem," level-").concat(r," ").concat(s&&"on-focus"," ").concat(l&&"is-active"),children:[Object(a.jsx)(_.a,{primary:i}),n&&Object(a.jsx)("div",{className:d.listIcon,children:Object(a.jsx)(M,{isExpanded:c})})]})},G=Object(f.a)((function(e){return{treeMenuContainer:{"&>div":{outlineStyle:"none"}},list:{padding:"0px ".concat(e.spacing(1),"px")},listItem:{cursor:"pointer",position:"relative",borderRadius:e.spacing(2),WebkitTapHighlightColor:"transparent",border:"none","&.level-0":{paddingLeft:e.spacing(2)},"&.level-1":{paddingLeft:e.spacing(3)},"&.level-2":{paddingLeft:e.spacing(4)},"&.on-focus":{color:e.palette.secondary.main},"&.is-active":{color:e.palette.primary.main,border:"2px solid"}},listIcon:{display:"flex",justifyContent:"center",alignItems:"center",transition:"all 0.2s ease",transform:"rotate(0deg)","&.is-open":{transform:"rotate(-180deg)"}}}})),W=function(e){e.className;var t=Object(A.a)(e,["className"]),r=G();return Object(s.debug)("CategoryViewer renders"),Object(a.jsx)("div",{className:r.treeMenuContainer,children:Object(a.jsx)(R.a,Object(n.a)(Object(n.a)({},t),{},{children:function(e){var t=e.items;return Object(a.jsx)(w.a,{className:r.list,children:t.map((function(e){var t=e.key,r=Object(A.a)(e,["key"]);return Object(a.jsx)(B,Object(n.a)({},r),t)}))})}}))})},K=function(e){var t=Object(S.g)(),r=new URLSearchParams(t.location.search).get("chapter"),n=t.location.pathname.replace(new RegExp("".concat(sr.LIST_CATEGORY,"(/)?")),""),c=Object(m.d)((function(e){return e.kuralIndexMap.section})),i=T(),o=Object(p.a)(i,3),s=o[1],u=o[2],l=Object.values(c).map((function(e,t){return{key:e.id.toString(),label:e.value,index:t,nodes:s(e.id).map((function(e,t){return{key:e.id.toString(),label:e.value,index:t,nodes:u(e.id).map((function(e,t){return{key:e.id.toString(),label:e.value,index:t}}))}}))}}));return Object(a.jsx)(W,{initialActiveKey:n,initialFocusKey:r?"".concat(n,"/").concat(r):n,initialOpenNodes:function(){var e=n.split("/").map((function(e){return n.substring(0,n.indexOf(e)+e.length)}));return 2===e.length&&e[0]===e[1]&&(e[1]="".concat(e[0],"/").concat(e[1])),e}(),onClickItem:function(e){var r="".concat(sr.LIST_CATEGORY,"/").concat(e.key);if(e.hasNodes)t.replace(r);else{var n=e.key.lastIndexOf("/"),a=e.key.substring(n+1),c=e.key.substring(0,n),i="".concat(sr.LIST_CATEGORY,"/").concat(c,"?chapter=").concat(a);t.replace(i),t.push(r)}},data:l,hasSearch:!1})},z=r(519),H=r(547),Y=r(516),V=r(517),J=r(518),$=r(548),q=(r(259),r(554)),X=Object(f.a)((function(e){return{listItem:Object(j.a)({display:"flex",flexDirection:"column",userSelect:"none",alignItems:"start"},e.breakpoints.up("sm"),{cursor:"pointer"}),badgeContainer:{background:e.palette.primary.main,color:"white",height:"1em",fontSize:"0.6em",lineHeight:"0.8em",borderRadius:"1em",display:"flex",justifyContent:"center",alignItems:"center",padding:"2px 6px",minWidth:"1em"},kuralWrapper:{width:"100%"}}})),Q=function(e){var t=X();return e.kural&&e.kural.value?Object(a.jsxs)(L.a,{className:e.className,classes:{root:Object(D.a)(t.listItem)},component:e.componentType||"li",children:[e.showBadge&&Object(a.jsx)("div",{className:t.badgeContainer,children:e.kural.id}),Object(a.jsx)("div",{onClick:function(){return e.onClick&&e.onClick(e.kural)},className:t.kuralWrapper,dangerouslySetInnerHTML:{__html:e.kural.value.replace("\n","<br>")}})]}):null},Z=Object(f.a)((function(e){var t;return{transliteratorList:(t={cursor:"grab",userSelect:"none",padding:e.spacing(1)},Object(j.a)(t,e.breakpoints.only("xs"),{minHeight:400}),Object(j.a)(t,"& li:not(:last-child)",{marginBottom:e.spacing(1)}),t),kural:{padding:e.spacing(1),borderBottom:"unset",color:"brown",fontWeight:600,"& .kural-badge":{display:"none"}},transliteration:{padding:0,flexDirection:"column",alignItems:"self-end","& .transliterator-name":{fontSize:"0.7em",height:"1.5em"},"& .content":{fontSize:"0.9em",paddingTop:e.spacing(.5),paddingBottom:e.spacing(.5),textAlign:"justify",WebkitTextStrokeWidth:"0.2px",WebkitTextStroke:"thin",letterSpacing:1}}}})),ee=function(e){var t=Z(),r=function(e){var t=Object(b.useFirestore)(),r=Object(m.d)((function(e){return e.user})),n=r.preference.language.primary,a=Object(m.d)((function(e){return e.kuralIndexMap.transliterator})),i=Object(m.d)((function(e){return e.kuralIndexMap.kurals})),o=c.useState(null),s=Object(p.a)(o,2),u=s[0],l=s[1],d=c.useState(null),j=Object(p.a)(d,2),f=j[0],O=j[1],h=Object(x.u)(r,a),g=Object(p.a)(h,1)[0];return c.useEffect((function(){Object(I.a)(k.a.mark((function r(){return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("number"!==typeof e){r.next=10;break}return Object(x.w)("kural",e),l(i[e]),r.t0=O,r.next=6,Object(x.p)(t,e);case 6:r.t1=r.sent,(0,r.t0)(r.t1),r.next=16;break;case 10:return l(e),r.t2=O,r.next=14,Object(x.p)(t,e.id);case 14:r.t3=r.sent,(0,r.t2)(r.t3);case 16:case"end":return r.stop()}}),r)})))()}),[t,e,n,i]),[u,f,g]}(e.kural),i=Object(p.a)(r,3),o=i[0],s=i[1],u=i[2];return Object(a.jsxs)(a.Fragment,{children:[o&&Object(a.jsx)(Q,{kural:o,className:t.kural,componentType:"div"}),Object(a.jsx)(w.a,Object(n.a)(Object(n.a)({className:e.className,classes:{root:t.transliteratorList}},e),{},{children:s&&u.map((function(e){var r=e.id,n=e.name;return Object(a.jsxs)(L.a,{className:t.transliteration,children:[Object(a.jsx)(q.a,{size:"small",label:n,color:"primary",className:"transliterator-name"}),Object(a.jsx)("div",{className:"content",children:s[r]})]},r)}))}))]})},te=r(515),re=Object(f.a)((function(e){return{routeContainer:{display:"flex"},root:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",flexWrap:"wrap"},chipRoot:Object(j.a)({padding:"0px 0.6em",fontSize:"0.7rem",height:"1.3rem",margin:"0 ".concat(e.spacing(.5),"px ").concat(e.spacing(.5),"px 0")},e.breakpoints.up("sm"),{maxWidth:200}),favoriteIcon:{width:"1rem",height:"1rem",margin:0}}})),ne=function(e){var t=e.route,r=e.onLongPress,c=re(),i=N(),o=Object(p.a)(i,1)[0],s=pr((function(){r&&r(t)}));return Object(a.jsx)(q.a,Object(n.a)(Object(n.a)(Object(n.a)({},t.isFavourite?{icon:Object(a.jsx)(te.a,{className:c.favoriteIcon})}:{}),s),{},{size:"small",label:t.value,color:"primary",onClick:function(){t.route&&o(t.route)()},style:{backgroundColor:t.color},classes:{root:c.chipRoot}}))},ae=function(e){var t=re(),r=dr({}),n=Object(p.a)(r,3),c=n[1],i=n[2];return Object(a.jsxs)("div",{className:Object(D.a)(t.routeContainer,e.className),children:[Object(a.jsx)("div",{className:t.root,children:c.map((function(e,t){return Object(a.jsx)(ne,{route:e,onLongPress:function(e){return i(e)}},t)}))}),e.renderRight]})};H.a.use([Y.a,V.a]);var ce=Object(f.a)((function(e){return{routes:{padding:e.spacing(1)}}})),ie=function(e){var t=Object(S.g)(),r=ce(),n=Object(m.d)((function(e){return e.kuralIndexMap.index})),c=Object(S.i)(),o=parseInt(c.kural),u=i.a.useState(o),l=Object(p.a)(u,2),d=l[0],b=l[1],j=Array.from(Array(x.e.kural).keys()).map((function(e){return e+1}));return i.a.useEffect((function(){if(n){var e="".concat(sr.LIST,"/").concat(Object(x.i)(n,{kural:d}));Object(s.debug)("replace route to => ",e),t.replace(e)}}),[n,d,t]),Object(x.v)("kural",o)?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(z.a,{disableGutters:!0,className:r.routes,children:Object(a.jsx)(ae,{})}),Object(a.jsx)($.a,{autoHeight:!0,keyboard:!0,grabCursor:!0,initialSlide:o-1,spaceBetween:10,slidesPerView:1,allowSlideNext:j[j.length-1]!==d,virtual:!0,onTransitionEnd:function(e){b(e.activeIndex+1)},children:j.map((function(e,t){return function(e,t){return Object(a.jsx)(J.a,{virtualIndex:t,children:Object(a.jsx)(ee,{kural:e})},e)}(e,t)}))})]}):null},oe=Object(f.a)((function(e){return{list:{padding:e.spacing(1),paddingTop:"0px","& li:not(:last-child)":{marginBottom:e.spacing(1)}},kuralCard:{padding:0}}})),se=function(e){var t=oe(),r=Object(m.d)((function(e){return e.kuralIndexMap.index})),n=N(),c=Object(p.a)(n,1)[0],i=function(e){return c("".concat(sr.LIST,"/").concat(Object(x.i)(r,{kural:e.id})))()};return Object(a.jsx)(w.a,{className:t.list,children:e.kurals.map((function(e,r){return Object(a.jsx)(Q,{showBadge:!0,className:t.kuralCard,kural:e,onClick:i},r)}))})},ue=function(e){var t=T("chapter",e.chapterNo,"kural"),r=Object(p.a)(t,1)[0];return Object(a.jsx)(se,{kurals:r})};H.a.use([Y.a,V.a]);var le,de=Object(f.a)((function(e){return{routes:{padding:e.spacing(1)},chapterKuralsList:{}}})),be=r(526),pe=r(527),je=r(528),fe=r(522),Oe=r(523),he=r(520),me=r(521),ge=function(e){var t=e.children,r=e.window,n=Object(he.a)({target:r?r():void 0});return Object(a.jsx)(me.a,{appear:!1,direction:"down",in:!n,children:t})},ve=Object(f.a)((function(e){return{toolbar:{padding:0,justifyContent:"center"},avatar:{color:"white",marginLeft:e.spacing(1),backgroundColor:e.palette.primary.main},actionsGroup:{},iconButton:{padding:"6px","& svg":{fontSize:"2rem"}}}})),xe=function(e){Object(s.debug)("MyAppBar");var t=ve();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ge,Object(n.a)(Object(n.a)({direction:"down"},e),{},{children:Object(a.jsx)(fe.a,{color:"transparent",elevation:0,children:Object(a.jsxs)(Oe.a,{className:t.toolbar,children:["Kural",Object(a.jsx)("div",{className:t.actionsGroup,children:e.actions})]})})})),Object(a.jsx)(Oe.a,{})]})},ye=r(525),ke=r(276),Ie=r.n(ke),Se=Object(f.a)((function(e){return{root:{},listItem:{cursor:"pointer",display:"grid",gridTemplateColumns:"3em auto"},idWrap:{display:"flex",alignItems:"center",color:e.palette.primary.main,"& > span":{minWidth:"2em",opacity:.5,textAlign:"center"},"& svg":{position:"relative",left:"-4px"}},labelWrap:{fontSize:"1.2em",paddingLeft:e.spacing(1),color:"cadetblue"}}})),Ne=function(e){var t=Se();return Object(a.jsx)(w.a,{className:e.className,children:e.items.map((function(r){return Object(a.jsxs)(L.a,{classes:{root:t.listItem},divider:e.showDivider,onClick:function(){return e.onItemSelected(r)},children:[Object(a.jsxs)("div",{className:t.idWrap,children:[Object(a.jsx)("span",{children:r.id}),Object(a.jsx)(Ie.a,{})]}),Object(a.jsx)("div",{className:t.labelWrap,children:r.value})]},r.id)}))})},Te=Object(f.a)((function(e){return{chapFavorites:{padding:0,"& li":{paddingLeft:e.spacing(.5),paddingRight:e.spacing(.5)}}}})),Ce=function(e){var t=Te(),r=Object(m.d)((function(e){return e.kuralIndexMap.index})),n=C("chapter"),c=Object(p.a)(n,1)[0],i=N(),o=Object(p.a)(i,1)[0];return Object(a.jsx)(a.Fragment,{children:e.chapterIds.length&&Object(a.jsx)(Ne,{className:t.chapFavorites,items:e.chapterIds.sort().map((function(e){return c(e)})).filter((function(e){return null!==e})),onItemSelected:function(e){r&&o("".concat(sr.LIST,"/").concat(Object(x.i)(r,{chapter:e.id})))()}})})},Ee=r(524),Ae=Object(f.a)((function(e){return{kural:{padding:"0 0 0 ".concat(e.spacing(1),"px"),"&:not(:last-child)":{marginBottom:e.spacing(1)}}}})),we=function(e){var t=Ae(),r=Object(m.d)((function(e){return e.kuralIndexMap.kurals})),c=Object(m.d)((function(e){return e.kuralIndexMap.index})),o=C("chapter"),s=Object(p.a)(o,1)[0],u=N(),l=Object(p.a)(u,1)[0],d=i.a.useState({}),b=Object(p.a)(d,2),f=b[0],O=b[1],h=function(e){c&&l("".concat(sr.LIST,"/").concat(Object(x.i)(c,{kural:e.id})))()};return i.a.useEffect((function(){var t=e.kuralIds.reduce((function(e,t){var a=Object(x.j)(t);return void 0!==r[t]?Object(n.a)(Object(n.a)({},e),{},Object(j.a)({},a,[].concat(Object(E.a)(e[a]||[]),[r[t]]))):e}),{});O(t)}),[e.kuralIds,r]),Object(a.jsx)(a.Fragment,{children:Object.keys(f).map((function(e){var r=s(parseInt(e));return Object(a.jsxs)(w.a,{component:"div",className:"sub-list",disablePadding:!0,children:[r&&Object(a.jsx)(Ee.a,{className:"sub-header",disableSticky:!0,onClick:function(){return e=r,void(c&&l("".concat(sr.LIST,"/").concat(Object(x.i)(c,{chapter:e.id})))());var e},children:r.value}),f[parseInt(e)].map((function(e){return Object(a.jsx)(Q,{className:t.kural,kural:e,onClick:h},e.id)}))]},e)}))})},Re=Object(f.a)((function(e){return{root:{},collapsableGroup:{},list:{"& .sub-header":{textAlign:"left",color:"brown",lineHeight:"2rem",padding:"0px 0 0 ".concat(e.spacing(.5),"px")}},listItemTitle:{"& .toggle-icon-container":{marginLeft:e.spacing(1.5),display:"flex",justifyContent:"center",alignItems:"center"}},favCount:{fontSize:"0.8rem",display:"flex",justifyContent:"center",alignItems:"center"}}})),Le=function(e){var t=Re(),r=Object(m.d)((function(e){return e.user.favorites})),c=function(e){return(r||[]).filter((function(t){return t.category===e})).map((function(e){return e.id}))},i=c("kural"),o=c("chapter"),s=fr("IDB_FAV_TOGGLE",e.expanded?{kural:!0,chapter:!0}:{kural:!1,chapter:!1}),u=Object(p.a)(s,2),l=u[0],d=u[1],b=Object(a.jsx)("h1",{children:"None Found"}),j=function(e,r,n,c,i){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(L.a,{selected:e,className:t.listItemTitle,button:!0,onClick:r,children:[Object(a.jsx)(_.a,{inset:!0,primary:n}),!e&&Object(a.jsx)("span",{className:t.favCount,children:c}),Object(a.jsx)("div",{className:"toggle-icon-container",children:Object(a.jsx)(M,{isExpanded:e})})]}),Object(a.jsx)(ye.a,{in:e,style:{paddingBottom:e?8:0},className:t.collapsableGroup,timeout:"auto",children:i||b})]})};return Object(a.jsx)("div",{className:Object(D.a)(e.className,t.root),children:Object(a.jsxs)(w.a,{className:t.list,disablePadding:!0,children:[j(l.kural,(function(){d(Object(n.a)(Object(n.a)({},l),{},{kural:!l.kural}))}),"Kurals",i.length?i.length:null,i.length&&Object(a.jsx)(we,{kuralIds:i})),j(l.chapter,(function(){d(Object(n.a)(Object(n.a)({},l),{},{chapter:!l.chapter}))}),"Chapters",o.length?o.length:null,o.length&&Object(a.jsx)(Ce,{chapterIds:o}))]})})},_e=Object(f.a)((function(e){return{root:{marginTop:e.spacing(2),"& .card-header":{padding:e.spacing(1)},"& .card-content":{padding:e.spacing(.5)}},favoriteCard:{margin:e.spacing(1),background:"inherit",color:"inherit"}}})),Pe=function(){var e=_e();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(xe,{}),Object(a.jsx)("div",{className:e.root,children:Object(a.jsxs)(be.a,{variant:"outlined",className:e.favoriteCard,children:[Object(a.jsx)(pe.a,{title:"Favorites",className:"card-header"}),Object(a.jsx)(je.a,{className:"card-content",children:Object(a.jsx)(Le,{expanded:!1})})]})})]})},De=Object(f.a)((function(e){return{root:{}}})),Ue=r(531),Me=r(532),Fe=r(277),Be=r.n(Fe),Ge=r(278),We=r.n(Ge),Ke="Thirukural",ze=r(529),He=r(530),Ye=Object(f.a)((function(e){return{root:{flexGrow:1,background:"inherit"},appBar:{bottom:0,top:"auto",boxShadow:"none",borderTop:"1px solid rgba(0, 0, 0, 0.12)",background:"inherit"},actionItem:{color:"inherit"}}})),Ve=function(e){var t=Ye();return Object(a.jsxs)("div",{className:Object(D.a)(t.root,e.className),children:[Object(a.jsx)(fe.a,{position:"fixed",color:"inherit",className:t.appBar,children:Object(a.jsx)(ze.a,{value:e.currentRoute,onChange:function(t,r){return e.onChange(r)},className:t.root,children:e.items.map((function(e,r){return Object(a.jsx)(He.a,{label:e.label,value:e.route,icon:e.icon,className:t.actionItem},r)}))})}),Object(a.jsx)(Oe.a,{})]})},Je=Object(f.a)((function(e){return{root:{}}})),$e=[{icon:Object(a.jsx)(Be.a,{}),route:"/",label:"Home"},{icon:Object(a.jsx)(We.a,{}),route:"/list",label:"List"},{icon:Object(a.jsx)(Ue.a,{}),route:"/search",label:"Search"},{icon:Object(a.jsx)(Me.a,{}),route:"/settings",label:"Settings"}],qe=function(e){var t=Object(S.j)("/"),r=Object(S.j)("/list*"),n=Object(S.h)(),c=Object(m.c)(),o=i.a.useCallback((function(){return(null===t||void 0===t?void 0:t.isExact)?$e[0].route:(null===r||void 0===r?void 0:r.isExact)?$e[1].route:n.pathname}),[t,r,n.pathname]),s=i.a.useState(o()),u=Object(p.a)(s,2),l=u[0],d=u[1];i.a.useEffect((function(){d(o())}),[o,n]);var b=Je(),j=N(),f=Object(p.a)(j,1)[0];return Object(a.jsx)(Ve,{items:$e,currentRoute:l,onChange:function(e){if(d(e),f(e)(),$e[0].route===e)c({type:"DefaultTitle"});else{var t,r=null===(t=$e.find((function(t){return t.route===e})))||void 0===t?void 0:t.label;r&&c({type:"SetTitle",payload:r})}},className:b.root})},Xe=function(e){var t;return Object(a.jsxs)(a.Fragment,{children:[Object(g.a)(null===(t=e.route)||void 0===t?void 0:t.routes),Object(a.jsx)(qe,{})]})},Qe=r(556),Ze=r(534),et=r(550),tt=r(555),rt=r(16),nt=r(280),at=r.n(nt),ct=r(279),it=r.n(ct),ot=r(533),st=Object(f.a)((function(e){return Object(tt.a)({root:{display:"flex",alignItems:"center",maxWidth:400,border:"1px solid",borderRadius:"25px",borderColor:Object(rt.c)(e.palette.grey[500],.5),padding:"0.2em 0.5em",color:e.palette.primary.main,height:"1.6rem","&.focus":{borderColor:e.palette.primary.main,"& .search-icon, & .searchbar":{color:e.palette.primary.main}}},searchicon:{color:Object(rt.c)(e.palette.grey[500],.5),cursor:"pointer"},clearIcon:{cursor:"pointer"},input:{flex:1,padding:"0px 6px",width:"100%",color:e.palette.primary.light}})})),ut=function(e){Object(s.debug)("KuralSearch");var t=st(),r=i.a.useRef(null),n=br(),c=Object(p.a)(n,1)[0],o=Object(ot.a)((function(e){c(e)}),500),u=i.a.useState(""),l=Object(p.a)(u,2),d=l[0],b=l[1],j=i.a.useState(!1),f=Object(p.a)(j,2),O=f[0],h=f[1];return i.a.useEffect((function(){o.callback(d)}),[o,d]),Object(a.jsxs)("div",{className:Object(D.a)(t.root,e.className,O&&"focus"),children:[Object(a.jsx)(it.a,{onClick:function(){var e,t;null===(e=r.current)||void 0===e||null===(t=e.querySelector("input"))||void 0===t||t.focus()},className:Object(D.a)(t.searchicon,"search-icon")}),Object(a.jsx)(et.a,{autoFocus:!0,ref:r,className:"searchbar ".concat(t.input),placeholder:"Search 43, agara",inputProps:{"aria-label":"Search"},onChange:function(e){var t=e.target.value;b(t)},value:d,onFocus:function(){h(!0),e.onSearchTap&&e.onSearchTap()},onBlur:function(){return h(!1)}}),Object(a.jsx)(Ze.a,{in:!(0===d.trim().length),children:Object(a.jsx)(at.a,{className:t.clearIcon,onClick:function(){b("")}})})]})},lt=function(e){var t={kural:1,chapter:2,literature:3,section:4};return e.sort((function(e,r){return t[e.category]-t[r.category]}))},dt={status:!1,keyword:"",results:[],filters:[],userSelections:{chapter:!0,kural:!0,section:!0,literature:!0,detail:!0}},bt=Object(f.a)((function(e){return{searchFilter:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1),textAlign:"start","& .search-chip":{height:"2em",margin:"0 1vw 4px 0",fontSize:"0.7em",minWidth:"15vw","& svg":Object(j.a)({width:"1rem",height:"1rem"},e.breakpoints.up("sm"),{width:"1.5rem",height:"1.5rem"})}}}})),pt=function(e){var t=bt(),r=i.a.useState([]),n=Object(p.a)(r,2),c=n[0],o=n[1],s=Object(m.d)((function(e){return e.search})),u=Object(m.c)();i.a.useEffect((function(){var e=function(e){return s.filters.filter((function(t){return t.startsWith(e)})).length>0},t=[{label:x.f.all,type:"all",isShow:new Set(s.results.map((function(e){return e.type}))).size>1},{label:x.f.section,type:"section",isShow:e("BySection")},{label:x.f.literature,type:"literature",isShow:e("ByLiterature")},{label:x.f.chapter,type:"chapter",isShow:e("ByChapter")},{label:x.f.kural,type:"kural",isShow:e("ByKural")},{label:x.f.detail,type:"detail",isShow:e("ByKuralDetail")}];o(t)}),[s]);var l=function(e){return"all"===e?s.userSelections.section&&s.userSelections.literature&&s.userSelections.chapter&&s.userSelections.kural&&s.userSelections.detail:s.userSelections[e]};return Object(a.jsx)("div",{className:t.searchFilter,children:c.filter((function(e){return e.isShow})).map((function(e,t){return Object(a.jsx)(q.a,{size:"small",className:"search-chip",label:e.label,color:"primary",style:{backgroundColor:x.a["all"===e.type||"detail"===e.type?"default":e.type]},variant:l(e.type)?"default":"outlined",onClick:function(t){return function(e){var t,r;u("all"!==e?(t=e,r=!s.userSelections[e],{type:"SetUserSelection",payload:[t,r]}):{type:"SetAllUserSelection",payload:!l("all")})}(e.type)}},t)}))})},jt=Object(f.a)((function(e){return{root:{marginTop:e.spacing(2),padding:e.spacing(1)},searchbar:{marginLeft:e.spacing(1),marginRight:e.spacing(1),flexGrow:1},kuralSearchItem:{margin:0,padding:0,borderBottom:"none"},searchItem:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1),cursor:"pointer"},searchItemAvatar:{width:"2rem",height:"2rem",textAlign:"center",fontSize:"1rem",marginRight:"0.5rem"}}})),ft=function(e){var t=e.result,r=e.label,n=e.onClick,c=e.component,i=jt(),o=c||Object(a.jsx)("div",{children:t.item.value});return Object(a.jsxs)(L.a,{onClick:n,className:i.searchItem,children:[Object(a.jsx)(Qe.a,{className:i.searchItemAvatar,style:{backgroundColor:x.a[t.category]},children:r.charAt(0).toUpperCase()}),o]},"".concat(r).concat(t.item.id))},Ot=function(e){var t=jt(),r=Object(m.d)((function(e){return e.search})),n=Object(m.d)((function(e){return e.kuralIndexMap.index})),c=i.a.useCallback((function(e,t){var r=sr.LIST_CATEGORY;return n&&(r+="/".concat(Object(x.i)(n,Object(j.a)({},e,t)))),r}),[n]),o=N(),s=Object(p.a)(o,1)[0];return Object(a.jsxs)("div",{className:Object(D.a)(e.className,t.root),children:[Object(a.jsx)(ut,{className:t.searchbar}),Object(a.jsx)(pt,{}),Object(a.jsx)(w.a,{children:r.results.map((function(e,n){return function(e,n){return Object(x.y)(e,"kural")&&r.userSelections.kural?Object(a.jsx)(ft,{result:e,label:"k",onClick:s(c("kural",e.item.id)),component:Object(a.jsx)(Q,{componentType:"span",kural:e.item,className:t.kuralSearchItem},e.item.id)},n):Object(x.y)(e,"chapter")&&r.userSelections.chapter?Object(a.jsx)(ft,{label:"ch",onClick:s(c("chapter",e.item.id)),result:e},n):Object(x.y)(e,"literature")&&r.userSelections.literature?Object(a.jsx)(ft,{label:"lit",onClick:s(c("literature",e.item.id)),result:e},n):Object(x.y)(e,"section")&&r.userSelections.section?Object(a.jsx)(ft,{label:"sec",onClick:s(c("section",e.item.id)),result:e},n):null}(e,n)}))})]})},ht=r(535),mt=r(541),gt=r(542),vt=r(543),xt=r(544),yt=r(545),kt=r(549),It=r(536),St=r(32),Nt=Object(f.a)((function(e){return{root:{},colorItemContainer:{display:"grid",gridTemplateRows:"repeat(3, auto)",gridGap:"1em"},colorItem:{width:"90%",borderRadius:10,justifySelf:"center",border:"2px solid var(--app-color)","& .radio":{color:"var(--app-color)"},"&.item1":{color:"rgb(0,0,0)"},"&.item2":{color:"white"},"&.item3":{color:"white"},"& .item":{padding:0},"& .text":{color:"inherit"}},itemIcon:{minWidth:"none"}}})),Tt=function(e){var t=e.isSelected,r=void 0!==t&&t,n=Object(A.a)(e,["isSelected"]),c=Nt(),o=i.a.useState(r),s=Object(p.a)(o,2),u=s[0],l=s[1];i.a.useEffect((function(){l(r)}),[r]);return Object(a.jsx)("div",{className:Object(D.a)(c.colorItem,n.className),style:{backgroundColor:n.color},onClick:function(){l(!0),n.onSelect&&n.onSelect()},children:Object(a.jsxs)(L.a,{component:"div",classes:{root:"item"},children:[Object(a.jsx)(ht.a,{className:c.itemIcon,children:Object(a.jsx)(kt.a,{checkedIcon:Object(a.jsx)(It.a,{}),checked:u,classes:{root:"radio"}})}),Object(a.jsx)(_.a,{classes:{root:"text"},primary:n.label})]})})},Ct=function(e){var t=Nt(),r=Object(m.c)();Object(b.useFirestoreConnect)([x.b.DISPLAY]);var c=Object(b.useFirestore)(),i=Object(m.d)((function(e){return e.firestore.data[x.b.DISPLAY]})),o=e.user.preference.display.background;return Object(a.jsx)(be.a,{variant:"outlined",className:Object(D.a)(e.className,t.root),children:Object(a.jsx)(je.a,{className:t.colorItemContainer,children:Object(E.a)(i&&i.CONFIG?i.CONFIG.background:St.b).map((function(t,i){return Object(a.jsx)(Tt,{color:t.color,label:t.label,className:"item".concat(i+1),isSelected:o.color===t.color,onSelect:function(){return function(t){var a=Object(n.a)(Object(n.a)({},e.user.preference),{},{display:Object(n.a)(Object(n.a)({},e.user.preference.display),{},{background:t})});r(Object(St.e)(a)),Object(x.A)(c,Object(n.a)(Object(n.a)({},e.user),{},{preference:a}))}(t)}},i)}))})})},Et=r(537),At=r(538),wt=Object(f.a)((function(e){return{root:{},colorItemContainer:{display:"grid",gridTemplateColumns:"repeat(3, auto)",gridGap:"1em"},colorItem:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center","& .circle":{height:"2.5rem",width:"2.5rem",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center","& svg":{color:"white"}},"& .icon":{marginTop:"0.5em"}}}})),Rt=[te.a,Et.a,At.a],Lt=function(e){var t=e.isSelected,r=void 0!==t&&t,n=Object(A.a)(e,["isSelected"]),c=wt(),o=i.a.useState(r),s=Object(p.a)(o,2),u=s[0],l=s[1];i.a.useEffect((function(){l(r)}),[r]);return Object(a.jsxs)("div",{className:c.colorItem,children:[Object(a.jsx)("div",{className:"circle",style:{backgroundColor:n.color},onClick:function(){l(!u),n.onSelect&&n.onSelect()},children:u&&Object(a.jsx)(It.a,{})}),Object(a.jsx)("div",{className:"icon",children:Object(a.jsx)(n.icon,{style:{color:n.color}})})]})},_t=function(e){var t=wt(),r=Object(m.c)();Object(b.useFirestoreConnect)([x.b.DISPLAY]);var c=Object(b.useFirestore)(),i=Object(m.d)((function(e){return e.firestore.data[x.b.DISPLAY]})),o=e.user.preference.display.color;return Object(a.jsx)(be.a,{variant:"outlined",className:Object(D.a)(e.className,t.root),children:Object(a.jsx)(je.a,{className:t.colorItemContainer,children:function(){var e=Object(E.a)(i&&i.CONFIG?i.CONFIG.colors:St.c);return o&&-1===e.indexOf(o)&&e.splice(0,1,o),e}().map((function(t,i){return Object(a.jsx)(Lt,{color:t,icon:Rt[i],isSelected:o===t,onSelect:function(){return function(t){var a=Object(n.a)(Object(n.a)({},e.user.preference),{},{display:Object(n.a)(Object(n.a)({},e.user.preference.display),{},{color:t})});r(Object(St.e)(a)),Object(x.A)(c,Object(n.a)(Object(n.a)({},e.user),{},{preference:a}))}(t)}},i)}))})})},Pt=r(10),Dt=r(552),Ut=Object(Pt.a)({root:{height:8},thumb:{height:20,width:20,marginTop:"-7px",backgroundColor:"currentColor","&:focus, &:hover, &$active":{boxShadow:"rgba(136, 153, 166, 0.2) 0px 0px 7px, rgba(136, 153, 166, 0.15) 0px 1px 3px 1px"}},active:{},track:{height:8,borderRadius:4},rail:{height:8,borderRadius:4},mark:{width:16,height:16,borderRadius:"50%",marginLeft:"-6px",opacity:.8,marginTop:"-5px","& ::after":{top:"-15px",left:"-15px",right:"-15px",bottom:"-15px",content:'"',position:"absolute",borderRadius:"50%",border:"1px solid"}},markActive:{opacity:1,backgroundColor:"currentColor"}})(Dt.a),Mt=function(e){return Object(a.jsx)(Ut,Object(n.a)({"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto"},e))},Ft=Object(f.a)((function(e){return{sliderWrapper:{display:"flex",marginLeft:e.spacing(3),alignItems:"center"},sliderRoot:{width:"80%"}}})),Bt=function(e){var t=Ft(),r=Object(b.useFirestore)(),c=Object(m.c)(),i=x.c[e.user.preference.fontSizeType||St.a.preference.fontSizeType],o=Object.entries(x.c).map((function(e){return{value:Object(p.a)(e,2)[1]}}));return Object(a.jsx)("div",{className:Object(D.a)(e.className&&e.className+"-wrapper",t.sliderWrapper),children:Object(a.jsx)(Mt,Object(n.a)(Object(n.a)({classes:{root:Object(D.a)(t.sliderRoot,"is-app-color")}},e),{},{"aria-label":"font-size-picker",value:i,valueLabelDisplay:"off",step:null,marks:o,min:x.c.TINY,max:x.c.BIG,onChange:function(t,a){if("number"===typeof a){var i=Object.keys(x.c).find((function(e){return x.c[e]===a})),o=Object(n.a)(Object(n.a)({},e.user.preference),{},{fontSizeType:i});c(Object(St.e)(o)),Object(x.A)(r,Object(n.a)(Object(n.a)({},e.user),{},{preference:o}))}}}))})},Gt=r(551),Wt=r(60),Kt=Object(f.a)((function(e){return{root:{paddingTop:0,paddingBottom:0},languageItem:{},languageItemText:{},itemCheckbox:{padding:0}}})),zt=function(e){var t=Kt(),r=Or(),i=Object(p.a)(r,1)[0];Object(b.useFirestoreConnect)([x.b.LANGUAGE]);var o=e.user.preference.language,s=o.primary,u=o.secondary,l=Object(m.d)((function(e){return e.firestore.data[x.b.LANGUAGE]})),d=c.useCallback((function(){return function(){if(!l)return[];var e=Object.keys(l).map((function(e){return e.toLocaleLowerCase()})).sort();return e.splice(e.indexOf(s.toLocaleLowerCase()),1),e.splice(0,0,s.toLocaleLowerCase()),e}}),[s,l]),j=c.useState([]),f=Object(p.a)(j,2),O=f[0],h=f[1];c.useEffect((function(){h(d())}),[d,l]);var g=function(e){return s===e||-1!==u.indexOf(e)};return Object(a.jsx)(Wt.a,{onDragEnd:function(t,r){var a=t.source,c=t.destination;if(c&&a.index!==c.index){var o=Object(E.a)(O);if(o.splice.apply(o,[c.index,0].concat(Object(E.a)(o.splice(a.index,1)))),h(o),s!==o[0]){var u=Object(n.a)(Object(n.a)({},e.user.preference),{},{language:Object(n.a)(Object(n.a)({},e.user.preference.language),{},{primary:o[0]})});i(u)}}},children:Object(a.jsx)(Wt.c,{droppableId:"language",children:function(r,c){return Object(a.jsxs)(w.a,Object(n.a)(Object(n.a)({className:Object(D.a)(e.className&&e.className+"-wrapper",t.root,c.isDraggingOver&&"dragging-over")},r.droppableProps),{},{ref:r.innerRef,children:[O.map((function(e,r){return Object(a.jsx)(Wt.b,{draggableId:e,index:r,children:function(r,c){return Object(a.jsxs)(L.a,Object(n.a)(Object(n.a)(Object(n.a)({onClick:function(){return function(e){console.log("toggleLang -> langId",e)}(e)},className:Object(D.a)(t.languageItem,c.isDragging&&"is-dragging"),style:r.draggableProps.style,ref:r.innerRef},r.draggableProps),r.dragHandleProps),{},{children:[Object(a.jsx)(ht.a,{children:Object(a.jsx)(Gt.a,{className:Object(D.a)(t.itemCheckbox,"is-app-color"),checked:g(e)})}),Object(a.jsx)(_.a,{disableTypography:!0,primary:l[e].value,className:t.languageItemText})]}))}},e)})),r.placeholder]}))}},"language")})},Ht=r(539),Yt=Object(f.a)((function(e){return{root:{},subList:{"&.dragging-over":{backgroundColor:"lightblue"}},subHeader:{textAlign:"left",lineHeight:"1.5em"},subListItem:{"&.is-dragging":{backgroundColor:"red"}},subListItemText:{fontSize:"0.8em"}}}));!function(e){e.ACTIVE="active",e.INACTIVE="inactive"}(le||(le={}));var Vt={active:"Active",inactive:"InActive"},Jt=function(e,t){var r=Object(x.u)(e,t),n=Object(p.a)(r,2);return{active:n[0],inactive:n[1]}},$t=function(e){var t=Yt(),r=Object(b.useFirestore)(),c=Object(m.c)(),o=Object(m.d)((function(e){return e.kuralIndexMap.transliterator})),s=i.a.useState(Jt(e.user,o)),u=Object(p.a)(s,2),l=u[0],d=u[1];i.a.useEffect((function(){d(Jt(e.user,o))}),[e.user,o]);return Object(a.jsx)(Wt.a,{onDragEnd:function(t,a){var i=t.source,o=t.destination;if(o){var s=!1,u=JSON.parse(JSON.stringify(l)),d=u[i.droppableId];if(!(d.length<=1&&i.droppableId===le.ACTIVE&&o.droppableId===le.INACTIVE)){if(i.droppableId!==o.droppableId)u[o.droppableId].splice(o.index,0,d[i.index]),d.splice(i.index,1),s=!0;else i.index!==o.index&&(d.splice.apply(d,[o.index,0].concat(Object(E.a)(d.splice(i.index,1)))),s=!0);if(s){var b=Object(n.a)(Object(n.a)({},e.user.preference),{},{transilterators:u.active.map((function(e){return e.id}))});c(Object(St.e)(b)),Object(x.A)(r,Object(n.a)(Object(n.a)({},e.user),{},{preference:b}))}}}},children:Object.entries(l).map((function(e){var r=Object(p.a)(e,2),c=r[0],i=r[1];return Object(a.jsx)(Wt.c,{droppableId:c,children:function(e,r){return Object(a.jsxs)(w.a,Object(n.a)(Object(n.a)({},e.droppableProps),{},{ref:e.innerRef,className:Object(D.a)(t.subList,r.isDraggingOver&&"dragging-over"),subheader:Object(a.jsx)(Ee.a,{component:"div",className:t.subHeader,children:Vt[c]}),children:[i.map((function(e,r){return Object(a.jsx)(Wt.b,{draggableId:e.id.toString(),index:r,children:function(r,c){return Object(a.jsxs)(L.a,Object(n.a)(Object(n.a)(Object(n.a)({className:Object(D.a)(t.subListItem,c.isDragging&&"is-dragging"),style:r.draggableProps.style,ref:r.innerRef},r.draggableProps),r.dragHandleProps),{},{children:[Object(a.jsx)(ht.a,{children:Object(a.jsx)(Ht.a,{className:"is-app-color"})}),Object(a.jsx)(_.a,{disableTypography:!0,primary:e.name,className:t.subListItemText})]}))}},e.id)})),e.placeholder]}))}},c)}))})},qt=r(540),Xt=Object(f.a)((function(e){return{root:{},itemLabel:{fontSize:"1em"},itemChild:{padding:e.spacing(1)},listItemIcon:{"& svg":{color:"var(--app-color)"}}}})),Qt=function(e){var t=e.label,r=e.className,n=e.isOpen,c=void 0!==n&&n,o=e.showExpandIcon,s=void 0===o||o,u=e.children,l=Object(A.a)(e,["label","className","isOpen","showExpandIcon","children"]),d=Xt(),b=i.a.useState(c),j=Object(p.a)(b,2),f=j[0],O=j[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(L.a,{button:!0,className:Object(D.a)(r,d.root),onClick:function(){return O(!f)},children:[l.icon,Object(a.jsx)(_.a,{classes:{primary:d.itemLabel},primary:t}),l.suffix,s&&Object(a.jsx)(ht.a,{classes:{root:d.listItemIcon},children:Object(a.jsx)(M,{isExpanded:f})})]}),Object(a.jsx)(ye.a,{classes:{container:d.itemChild},in:f,timeout:"auto",unmountOnExit:!0,children:u}),l.divider&&Object(a.jsx)(qt.a,{variant:"middle"})]})},Zt="IDB_USER_PROFILE",er=Object(f.a)((function(e){return{root:{},item:{},itemText:{},formControl:{margin:e.spacing(1),minWidth:120},fontSizePicker:{}}})),tr="Font size",rr="Transliterators",nr="Language",ar="Color",cr="Background",ir=function(e){var t=e.children;return Object(a.jsx)(ht.a,{classes:{root:"is-app-color"},children:t})},or=function(e){var t=er(),r=Object(m.d)((function(e){return e.user})),n=fr(Zt,r),c=Object(p.a)(n,2)[1];return i.a.useEffect((function(){c(r)}),[c,r]),Object(s.debug)("renders Settings"),Object(a.jsx)("div",{className:e.className,children:Object(a.jsxs)(w.a,{children:[Object(a.jsx)(Qt,{label:nr,divider:!0,icon:Object(a.jsx)(ir,{children:Object(a.jsx)(mt.a,{})}),children:Object(a.jsx)(zt,{user:r})}),Object(a.jsx)(Qt,{label:rr,divider:!0,icon:Object(a.jsx)(ir,{children:Object(a.jsx)(gt.a,{})}),children:Object(a.jsx)($t,{user:r})}),Object(a.jsx)(Qt,{label:tr,icon:Object(a.jsx)(ir,{children:Object(a.jsx)(vt.a,{})}),children:Object(a.jsx)(Bt,{user:r,className:t.fontSizePicker})}),Object(a.jsx)(Qt,{label:ar,icon:Object(a.jsx)(ir,{children:Object(a.jsx)(xt.a,{})}),children:Object(a.jsx)(_t,{user:r})}),Object(a.jsx)(Qt,{label:cr,divider:!0,icon:Object(a.jsx)(ir,{children:Object(a.jsx)(yt.a,{})}),children:Object(a.jsx)(Ct,{user:r})})]})})},sr={ROOT:"/",LIST:"/list",LIST_CATEGORY:"/list",SEARCH:"/search",FAVOURITE:"/favorite",SETTINGS:"/settings"},ur=[{path:sr.ROOT,component:Xe,routes:[{path:sr.SEARCH,component:Ot,exact:!0},{path:sr.SETTINGS,component:or,exact:!0},{path:sr.LIST,component:function(e){var t=e.route,r=De();return Object(a.jsx)("div",{className:r.root,children:Object(g.a)(null===t||void 0===t?void 0:t.routes)})},routes:[{path:"".concat(sr.LIST,"/:section/:literature/:chapter"),component:function(e){var t=de(),r=Object(m.d)((function(e){return e.kuralIndexMap.index})),n=Object(S.g)(),c=Object(S.i)().chapter,o=parseInt(c),u=i.a.useState(o),l=Object(p.a)(u,2),d=l[0],b=l[1],j=Array.from(Array(x.e.chapter).keys()).map((function(e){return e+1}));i.a.useEffect((function(){if(r){var e="".concat(sr.LIST,"/").concat(Object(x.i)(r,{chapter:d}));Object(s.debug)("replace route to => ",e),n.replace(e)}}),[r,d,n]);return Object(a.jsxs)("div",{className:Object(D.a)(t.chapterKuralsList,e.className),children:[Object(a.jsx)(z.a,{disableGutters:!0,className:t.routes,children:Object(a.jsx)(ae,{})}),Object(a.jsx)($.a,{keyboard:!0,grabCursor:!0,initialSlide:o-1,spaceBetween:10,slidesPerView:1,allowSlideNext:j[j.length-1]!==d,virtual:!0,onTransitionEnd:function(e){b(e.activeIndex+1)},children:j.map((function(e,t){return function(e,t){return Object(a.jsx)(J.a,{virtualIndex:t,children:Object(a.jsx)(ue,{chapterNo:e})},e)}(e,t)}))})]})},exact:!0},{path:"".concat(sr.LIST,"/:section/:literature/:chapter/:kural"),component:ie,exact:!0},{path:"".concat(sr.LIST_CATEGORY,"*"),render:function(e){var t=e.match.url.replace(sr.LIST,""),r=/^(\/\d+)?(\/\d+)?$/;if(r.test(t)){var n=[t.replace(r,"$1").replace("/",""),t.replace(r,"$2").replace("/","")],c=n[0],i=n[1];if(""===c&&""===i||c.length>0&&Object(x.v)("section",parseInt(c))||i.length>0&&Object(x.v)("literature",parseInt(i)))return Object(a.jsx)(K,{})}return Object(a.jsx)(S.a,{to:"".concat(sr.LIST,"/1/1/1")})}}]},{path:sr.ROOT,exact:!0,component:Pe},{path:"/*",component:function(){return Object(a.jsx)(S.a,{to:sr.ROOT})}}]}],lr=function(e,t){var r=function(e,r){return t.filter((function(t){return t.category===e})).map((function(e){return e.id})).includes(r)},a=[{id:0,value:"\u0baa\u0bbe\u0bb2\u0bcd",type:"top",route:sr.LIST_CATEGORY,color:x.a.default}];return e.section&&a.push(Object(n.a)(Object(n.a)({},e.section),{},{type:"section",route:"".concat(sr.LIST_CATEGORY,"/").concat(e.section.id),color:x.a.section})),e.literature&&a.push(Object(n.a)(Object(n.a)({},e.literature),{},{type:"literature",route:"".concat(sr.LIST_CATEGORY,"/").concat(e.section.id,"/").concat(e.literature.id),color:x.a.literature})),e.chapter&&a.push(Object(n.a)(Object(n.a)({},e.chapter),{},{isFavourite:r("chapter",e.chapter.id),type:"chapter",route:"".concat(sr.LIST,"/").concat(e.section.id,"/").concat(e.literature.id,"/").concat(e.chapter.id),color:x.a.chapter})),e.kural&&a.push(Object(n.a)(Object(n.a)({},e.kural),{},{isFavourite:r("kural",e.kural.id),id:e.kural.id,value:"\u0b95\u0bc1\u0bb1\u0bb3\u0bcd: ".concat(e.kural.id),type:"kural",route:"".concat(sr.LIST,"/").concat(e.section.id,"/").concat(e.literature.id,"/").concat(e.chapter.id,"/").concat(e.kural.id),color:x.a.kural})),a},dr=function(e){var t=Object(m.d)((function(e){return e.kuralIndexMap})),r=t.section,a=t.literature,c=t.chapter,o=t.index,s=Object(m.d)((function(e){return e.user})),l=i.a.useState(e),d=Object(p.a)(l,2),f=d[0],O=d[1],h=Object(S.g)(),g=Object(b.useFirestore)(),v=Object(m.c)(),y=i.a.useState({}),k=Object(p.a)(y,2),I=k[0],N=k[1];i.a.useEffect((function(){T(h.location.pathname)}),[h.location.pathname]),i.a.useEffect((function(){if(o){var e=f.kural,t=f.chapter,r=f.literature,a=f.section,c=e?Object(x.j)(e):t,i=Object(n.a)(Object(n.a)({},function(e,t){var r=Object.keys(t).find((function(e){return t[e]}));return e&&r?Object(x.o)(e,r,t[r]):{}}(o,{chapter:c,literature:r,section:a})),e?{kural:e}:{});u.a.debug("found routes:",i),N(i)}}),[o,f]);var T=function(e){var t=Object(S.f)(e,{path:"".concat(sr.LIST_CATEGORY,"/:section"),exact:!0}),r=Object(S.f)(e,{path:"".concat(sr.LIST_CATEGORY,"/:section/:literature"),exact:!0}),n=Object(S.f)(e,{path:"".concat(sr.LIST,"/:section/:literature/:chapter"),exact:!0}),a=Object(S.f)(e,{path:"".concat(sr.LIST,"/:section/:literature/:chapter/:kural"),exact:!0}),c={section:t?Number(null===t||void 0===t?void 0:t.params.section):void 0,literature:r?Number(null===r||void 0===r?void 0:r.params.literature):void 0,chapter:n?Number(null===n||void 0===n?void 0:n.params.chapter):void 0,kural:a?Number(null===a||void 0===a?void 0:a.params.kural):void 0};u.a.debug("route path values => ",JSON.stringify(c)),O(c)};h.listen((function(e){var t=e.pathname;u.a.debug("detect route => ",t),T(t)}));var C=i.a.useCallback((function(){return Object.keys(I).reduce((function(e,t){var i,o=t;switch(o){case"section":i=r[I[o]];break;case"literature":i=a[I[o]];break;case"chapter":i=c[I[o]];break;case"kural":i={id:I[o],value:""}}return Object(n.a)(Object(n.a)({},e),{},Object(j.a)({},o,i))}),{})}),[c,a,I,r]);return[I,lr(C(),s.favorites),function(e){if("kural"===e.type||"chapter"===e.type){var t=!e.isFavourite,r=s.favorites,a=r.findIndex((function(t){return t.category===e.type&&t.id===e.id}));t&&-1===a?r=[].concat(Object(E.a)(r),[{id:e.id,datetime:new Date,category:e.type}]):r.splice(a,1),v(Object(St.g)(g,Object(n.a)(Object(n.a)({},s),{},{favorites:r})))}}]},br=function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.kuralIndexMap.kurals})),r=Object(m.d)((function(e){return e.kuralIndexMap})),n=r.literature,a=r.section,c=r.chapter,i=function(r,i){r.forEach(function(){var r=Object(I.a)(k.a.mark((function r(o){var s,u,l,d,b;return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:s=[],r.t0=o,r.next="ByKuralNo"===r.t0?4:"ByChapterNo"===r.t0?7:"ByLiteratureNo"===r.t0?10:"BySectionNo"===r.t0?13:16;break;case 4:return u=parseInt(i),Object(x.v)("kural",u)&&s.push({type:o,keyword:i,category:"kural",item:t[u]}),r.abrupt("break",16);case 7:return l=parseInt(i),Object(x.v)("chapter",l)&&s.push({type:o,keyword:i,item:c[parseInt(i)],category:"chapter"}),r.abrupt("break",16);case 10:return d=parseInt(i),Object(x.v)("literature",d)&&s.push({type:o,keyword:i,item:n[parseInt(i)],category:"literature"}),r.abrupt("break",16);case 13:return b=parseInt(i),Object(x.v)("section",b)&&s.push({type:o,keyword:i,item:a[parseInt(i)],category:"section"}),r.abrupt("break",16);case 16:s.length&&e({type:"AddSearchResults",payload:s});case 17:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())};return[function(t){e(function(e){return{type:"SetSearchKeyword",payload:e}}(t));var r=function(e){var t=[];try{if(Number.isInteger(parseInt(e))){var r=parseInt(e);Object(x.v)("kural",r)&&t.push("ByKuralNo"),Object(x.v)("chapter",r)&&t.push("ByChapterNo"),Object(x.v)("literature",r)&&t.push("ByLiteratureNo"),Object(x.v)("section",r)&&t.push("BySectionNo")}}catch(n){}return t}(t);e({type:"SetSearchFilters",payload:r}),e({type:"SetSearchResults",payload:[]}),i(r,t)},function(t){e(function(e){return{type:"SetSearchStatus",payload:e}}(t))}]},pr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,r=Object(c.useState)(!1),n=Object(p.a)(r,2),a=n[0],i=n[1];Object(c.useEffect)((function(){var r;return a?r=window.setTimeout(e,t):clearTimeout(r),function(){clearTimeout(r)}}),[e,t,a]);var o=Object(c.useCallback)((function(){i(!0)}),[]),s=Object(c.useCallback)((function(){i(!1)}),[]);return{onMouseDown:o,onMouseUp:s,onMouseLeave:s,onTouchStart:o,onTouchEnd:s}},jr=r(192),fr=function(e,t){var r=c.useState(t),n=Object(p.a)(r,2),a=n[0],i=n[1];c.useEffect((function(){Object(jr.a)(e).then((function(e){e&&i(JSON.parse(e))}))}),[e]);return[a,function(t){i(t),Object(jr.b)(e,JSON.stringify(t)).then((function(){Object(s.debug)("indexdb value of key:".concat(e," got changed"))}))}]},Or=function(){var e=Object(m.c)();return[function(t){e(Object(St.e)(t))}]},hr=r(138),mr=Object(f.a)((function(e){return{root:Object(j.a)({},e.breakpoints.up("sm"),{fontSize:"3vw"})}})),gr=function(e){var t=e.preference,r=t.fontSizeType,n=t.display,a=document.body.style;a.setProperty("--text-size","".concat(x.c[r],"px")),a.setProperty("--app-color",n.color),a.setProperty("--app-bg-color",n.background.color)},vr=function(){var e=mr(),t=Object(m.c)(),r=Object(b.useFirestore)(),n=fr(Zt,null),i=Object(p.a)(n,1)[0],o=Object(m.d)((function(e){return e.user}));return c.useEffect((function(){t(Object(hr.thunkInitKuralIndexMapAndUserPref)(r))}),[t,r]),c.useEffect((function(){i&&gr(i)}),[i]),c.useEffect((function(){h()(i,o)||gr(o)}),[i,o]),Object(a.jsx)("div",{className:e.root,style:{fontSize:"var(--text-size)",color:"var(--app-color)",backgroundColor:"var(--app-bg-color)"},children:Object(a.jsx)(v.a,{children:Object(g.a)(ur)})})},xr=r(85),yr=r(139),kr=(r(486),r(37)),Ir=r(282),Sr=r(140),Nr=r(283),Tr=Object(kr.combineReducers)({kuralIndexMap:hr.KuralIndexReducer,title:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SetTitle":return t.payload;case"AppendTitle":return Ke.concat("-".concat(t.payload));case"DefaultTitle":return Ke;default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,t=arguments.length>1?arguments[1]:void 0;if("SetSearchKeyword"===t.type&&t.payload!==e.keyword)return Object(n.a)(Object(n.a)({},e),{},{keyword:t.payload,results:[]});if("AddSearchResults"===t.type)return Object(n.a)(Object(n.a)({},e),{},{results:lt([].concat(Object(E.a)(e.results),Object(E.a)(t.payload)))});if("SetSearchResults"===t.type)return Object(n.a)(Object(n.a)({},e),{},{results:lt(t.payload)});if("SetSearchFilters"===t.type)return Object(n.a)(Object(n.a)({},e),{},{filters:t.payload});if("SetUserSelection"===t.type){var r=t.payload,a=Object(p.a)(r,2),c=a[0],i=a[1];return Object(n.a)(Object(n.a)({},e),{},{userSelections:Object(n.a)(Object(n.a)({},e.userSelections),{},Object(j.a)({},c,i))})}if("SetAllUserSelection"===t.type){var o=t.payload;return Object(n.a)(Object(n.a)({},e),{},{userSelections:{chapter:o,kural:o,section:o,literature:o,detail:o}})}return"SetSearchStatus"===t.type?Object(n.a)(Object(n.a)({},e),{},{status:t.payload}):e},user:St.d,firebase:b.firebaseReducer,firestore:yr.firestoreReducer}),Cr=Object(Ir.composeWithDevTools)({name:"".concat(Nr.a,"-DevTools"),trace:!0}),Er=Object(kr.createStore)(Tr,Cr(Object(kr.applyMiddleware)(Sr.a))),Ar=r(284),wr=r.n(Ar),Rr=[Sr.a],Lr=(wr()(Rr),function(e){var t=e.children;return Object(a.jsx)(m.a,{store:Er,children:t})}),_r=Object({NODE_ENV:"production",PUBLIC_URL:"/thirukural",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_STORAGE_BUCKET:"kural-de220.appspot.com",REACT_APP_PROJECT_ID:"kural-de220",REACT_APP_AUTH_DOMAIN:"kural-de220.firebaseapp.com",REACT_APP_API_KEY:"AIzaSyCgG3WHBClU8TJO_A4CGi177k0ihtn15tQ",REACT_APP_DB_URL:"https://kural-de220.firebaseio.com",REACT_APP_MESSAGING_SENDER_ID:"1037621590340",REACT_APP_MESUREMENT_ID:"G-CMC5L28GFK",REACT_APP_FB_APP_ID:"1:1037621590340:web:f5613d36d67ed31d78ff11"}),Pr=_r.REACT_APP_API_KEY,Dr=_r.REACT_APP_AUTH_DOMAIN,Ur=_r.REACT_APP_DB_URL,Mr=_r.REACT_APP_PROJECT_ID,Fr=_r.REACT_APP_STORAGE_BUCKET,Br=_r.REACT_APP_MESSAGING_SENDER_ID,Gr=_r.REACT_APP_FB_APP_ID,Wr=_r.REACT_APP_MESUREMENT_ID;!function(){if(!(Pr&&Dr&&Ur&&Mr))throw new Error("FB_CONF missing")}();var Kr={apiKey:Pr,projectId:Mr,databaseURL:Ur,authDomain:Dr,storageBucket:Fr,messagingSenderId:Br,appId:Gr,measurementId:Wr};xr.a.initializeApp(Kr),xr.a.firestore().enablePersistence({synchronizeTabs:!0}).catch((function(e){"unimplemented"===e.code&&u.a.error("persistence not supported on the current browser")}));var zr={firebase:xr.a,dispatch:Er.dispatch,createFirestoreInstance:yr.createFirestoreInstance,config:{userProfile:"users",useFirestoreForProfile:!0}},Hr=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Yr(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var r=e.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Vr=r(285),Jr=Object(Vr.a)({spacing:8});u.a.setLevel("SILENT"),d.a.render(Object(a.jsx)(Lr,{children:Object(a.jsx)(b.ReactReduxFirebaseProvider,Object(n.a)(Object(n.a)({},zr),{},{children:Object(a.jsx)(o.a,{theme:Jr,children:Object(a.jsx)(vr,{})})}))}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/thirukural",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/thirukural","/service-worker.js");Hr?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(r){var n=r.headers.get("content-type");404===r.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Yr(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service")}))):Yr(t,e)}))}}()},6:function(e,t,r){"use strict";r.d(t,"b",(function(){return W})),r.d(t,"f",(function(){return K})),r.d(t,"e",(function(){return z})),r.d(t,"o",(function(){return s})),r.d(t,"a",(function(){return u})),r.d(t,"r",(function(){return O})),r.d(t,"m",(function(){return m})),r.d(t,"k",(function(){return g})),r.d(t,"l",(function(){return v})),r.d(t,"j",(function(){return x})),r.d(t,"y",(function(){return y})),r.d(t,"c",(function(){return k})),r.d(t,"s",(function(){return I})),r.d(t,"p",(function(){return S})),r.d(t,"q",(function(){return N})),r.d(t,"n",(function(){return T})),r.d(t,"d",(function(){return n})),r.d(t,"t",(function(){return A})),r.d(t,"A",(function(){return w})),r.d(t,"x",(function(){return R})),r.d(t,"g",(function(){return L})),r.d(t,"v",(function(){return _})),r.d(t,"w",(function(){return P})),r.d(t,"z",(function(){return D})),r.d(t,"h",(function(){return U})),r.d(t,"i",(function(){return M})),r.d(t,"u",(function(){return G}));var n,a=r(4),c=r(14),i=function(e,t){return P("chapter",t),Number(Object.keys(e.litChapMap).find((function(r){return R(t,e.litChapMap[Number(r)])})))},o=function(e,t){var r;return P("literature",t),Number(null===(r=Object.keys(e.section).map((function(t){return{section:t,litIndex:e.section[Number(t)].litIndex}})).find((function(e){return R(t,e.litIndex)})))||void 0===r?void 0:r.section)},s=function(e,t,r){P(t,r);var n=Object(c.a)({},t,r);switch(t){case"chapter":n=Object(a.a)(Object(a.a)({},n),{},{literature:i(e,n.chapter)});case"literature":n=Object(a.a)(Object(a.a)({},n),{},{section:o(e,n.literature)})}return n},u={section:"rgba(162, 43, 47,0.8)",literature:"cadetblue",chapter:"rgba(215, 22, 64, 0.8)",kural:"#3f51b5",default:"blueviolet"},l=r(15),d=r.n(l),b=r(25),p=r(22),j=r.n(p),f=function(){var e=Object(b.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get({source:"cache"});case 3:if(!(r=e.sent).empty){e.next=6;break}throw new Error("result not exists in cache");case 6:j.a.debug("fetches from cache"),e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(0),e.next=13,t.get({source:"server"});case 13:r=e.sent;case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(d.a.mark((function e(t){var r,n,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t.collection(W.INDEX_MAP));case 2:return a=e.sent,c=function(e){return a.docs.find((function(t){return t.id===e}))},e.abrupt("return",{section:null===(r=c("section"))||void 0===r?void 0:r.data(),litChapMap:null===(n=c("litChapMap"))||void 0===n?void 0:n.data()});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(b.a)(d.a.mark((function e(t,r,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t.collection(W[n]));case 2:return a=e.sent,e.abrupt("return",a.docs.map((function(e){return{id:Number(e.id),value:e.data()[r]}})));case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(b.a)(d.a.mark((function e(t,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t,r,"SECTION");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),g=function(){var e=Object(b.a)(d.a.mark((function e(t,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t,r,"CHAPTER");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),v=function(){var e=Object(b.a)(d.a.mark((function e(t,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h(t,r,"LITERATURE"));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),x=function(e){return Math.ceil(e/10)},y=function(e,t){var r=e.type;return"chapter"===t?r.startsWith("ByChapter"):"kural"===t?r.startsWith("ByKural"):"detail"===t?r.startsWith("ByKuralDetail"):"section"===t?r.startsWith("BySection"):"literature"===t&&r.startsWith("ByLiterature")},k={BIG:24,LARGE:21,MEDIUM:18,SMALL:15,TINY:12},I=function(){var e=Object(b.a)(d.a.mark((function e(t,r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.collection(W.KURAL).doc(r).get();case 2:return n=e.sent,e.abrupt("return",n.data()||{});case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),S=function(){var e=Object(b.a)(d.a.mark((function e(t,r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P("kural",r),e.next=3,t.collection(W.KURAL_DETAIL).doc("".concat(r)).get();case 3:return n=e.sent,e.abrupt("return",n.data());case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),N=function(e){P("chapter",e);var t=10*(e-1)+1;return Array.from(Array(10).keys()).map((function(e){return t+e}))},T=function(){var e=Object(b.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.collection(W.TRANSLITERATOR).get();case 2:return r=e.sent,e.abrupt("return",r.docs.map((function(e){return Object(a.a)({id:Number(e.id)},e.data())})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();!function(e){e.TINY="TINY",e.SMALL="SMALL",e.MEDIUM="MEDIUM",e.LARGE="LARGE",e.BIG="BIG"}(n||(n={}));var C=r(85),E=r(32),A=function(){var e=Object(b.a)(d.a.mark((function e(t,r){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.collection(W.USER).where(C.a.firestore.FieldPath.documentId(),"==",r).limit(1).get();case 2:if(!(n=e.sent).empty){e.next=5;break}throw new Error("user not found");case 5:return c=n.docs[0],e.abrupt("return",Object(a.a)({id:c.id},c.data()));case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),w=function(){var e=Object(b.a)(d.a.mark((function e(t,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.id===E.a.id){e.next=3;break}return e.next=3,t.collection(W.USER).doc("".concat(r.id)).set(r);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),R=function(e,t){return e>=t[0]&&e<=t[1]},L=function(e){for(var t=[],r=e[0];r<=e[1];r++)t.push(r);return t},_=function(e,t){switch(e){case"section":return(c=t)>=1&&c<=3;case"literature":return(a=t)>=1&&a<=13;case"chapter":return(n=t)>=1&&n<=133;case"kural":return(r=t)>=1&&r<=1330}var r,n,a,c},P=function(e,t){if(!_(e,t))throw new Error("".concat(e," with ").concat(t," not found"))},D=function(e){return e.reduce((function(e,t){return Object(a.a)(Object(a.a)({},e),{},Object(c.a)({},t.id,t))}),{})},U=function(e,t){var r=t.kural,n=t.chapter,c=t.literature,i=t.section,o=r?x(r):n;return Object(a.a)(Object(a.a)({},function(e,t){var r=Object.keys(t).find((function(e){return t[e]}));return e&&r?s(e,r,t[r]):{}}(e,{chapter:o,literature:c,section:i})),r?{kural:r}:{})},M=function(e,t){return function(e){return["section","literature","chapter","kural"].filter((function(t){return void 0!==e[t]})).map((function(t){return e[t]})).join("/")}(U(e,t))},F=r(8),B=r(23),G=function(e,t){var r,n,i,o=[[],[]],s=function(e){var t=e.preference.language,r=t.primary,n=t.secondary;return[r].concat(Object(B.a)(n))}(e),u=(i=t,(n=s).length?Object.entries(i).filter((function(e){var t=Object(F.a)(e,2),r=(t[0],t[1]);return n.some((function(e){return e===r.lang}))})).reduce((function(e,t){var r=Object(F.a)(t,2),n=r[0],i=r[1];return Object(a.a)(Object(a.a)({},e),{},Object(c.a)({},n,i))}),{}):i),l=(null===(r=e.preference)||void 0===r?void 0:r.transilterators)||[];if(l.length){var d=Object.keys(u).map((function(e){return parseInt(e)}));o[0]=l.filter((function(e){return d.includes(e)})).map((function(e){return u[e]})),o[1]=d.filter((function(e){return!l.includes(e)})).map((function(e){return u[e]}))}else o[0]=Object.values(u);return o},W={KURAL:"KURAL",TRANSLITERATOR:"TRANSLITERATOR",LANGUAGE:"LANGUAGE",DISPLAY:"DISPLAY_CONFIG",KURAL_DETAIL:"KURAL_DETAIL",USER:"USER",SECTION:"SECTION",USER_FAVOURITES:"USER_FAVOURITES",USER_SEARCH_HISTORY:"USER_SEARCH_HISTORY",LITERATURE:"LITERATURE",CHAPTER:"CHAPTER",INDEX_MAP:"INDEX_MAP"},K={all:"\u0b85\u0ba9\u0bc8\u0ba4\u0bcd\u0ba4\u0bc1\u0bae\u0bcd",chapter:"\u0b85\u0ba4\u0bbf\u0b95\u0bbe\u0bb0\u0bae\u0bcd",kural:"\u0b95\u0bc1\u0bb1\u0bb3\u0bcd",literature:"\u0b87\u0baf\u0bb2\u0bcd",section:"\u0baa\u0bbe\u0bb2\u0bcd",detail:"\u0b89\u0bb0\u0bc8"},z={kural:1330,chapter:133,literature:13,section:3}}},[[489,1,2]]]);
//# sourceMappingURL=main.7ca11bf1.chunk.js.map