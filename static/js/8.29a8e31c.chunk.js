(this.webpackJsonpthirukural=this.webpackJsonpthirukural||[]).push([[8],{587:function(e,t,n){"use strict";n.r(t),n.d(t,"CategoryViewerContainer",(function(){return N}));var a=n(8),c=n(3),i=n(0),r=n.n(i),o=n(584),s=n(9),l=n(15),u=n(31),d=n(40),p=n(4),b=n(7),j=n(290),g=n(517),O=n(29),v=n(562),f=n(495),h=n(519),x=n(128),m=Object(j.a)((function(e){return{listItem:{cursor:"pointer",position:"relative",borderRadius:e.spacing(2),WebkitTapHighlightColor:"transparent",border:"none","&.level-0":{paddingLeft:e.spacing(2)},"&.level-1":{paddingLeft:e.spacing(3)},"&.level-2":{paddingLeft:e.spacing(4)},"&.on-focus":{color:e.palette.secondary.main},"&.is-active":{color:"var(--app-color)",border:"2px solid"}},listIcon:{display:"flex",justifyContent:"center",alignItems:"center"}}})),y=function(e){var t=e.level,n=void 0===t?0:t,a=e.hasNodes,i=e.isOpen,r=e.label,o=e.toggleNode,s=e.focused,l=e.onClick,u=e.active,d=(Object(b.a)(e,["level","hasNodes","isOpen","label","toggleNode","focused","onClick","active"]),m());return Object(c.jsxs)(f.a,{onClick:function(e){a&&o&&o(),l(e)},className:"".concat(d.listItem," level-").concat(n," ").concat(s&&"on-focus"," ").concat(u&&"is-active"),children:[Object(c.jsx)(h.a,{disableTypography:!0,primary:r}),a&&Object(c.jsx)("div",{className:d.listIcon,children:Object(c.jsx)(x.a,{isExpanded:i})})]})},k=Object(j.a)((function(e){return{treeMenuContainer:{"&>div":{outlineStyle:"none"}},list:{padding:"0px ".concat(e.spacing(1),"px")}}})),C=function(e){e.className;var t=Object(b.a)(e,["className"]),n=k();return Object(O.debug)("CategoryViewer renders"),Object(c.jsx)("div",{className:n.treeMenuContainer,children:Object(c.jsx)(v.a,Object(p.a)(Object(p.a)({},t),{},{children:function(e){var t=e.items;return Object(c.jsx)(g.a,{className:n.list,children:t.map((function(e){var t=e.key,n=Object(b.a)(e,["key"]);return Object(c.jsx)(y,Object(p.a)({},n),t)}))})}}))})},N=function(e){var t=Object(l.g)(),n=r.a.useState("section"),i=Object(a.a)(n,2),p=i[0],b=i[1],j=new URLSearchParams(t.location.search).get("chapter"),g=t.location.pathname.replace(new RegExp("".concat(d.a.LIST_CATEGORY,"(/)?")),""),O=Object(s.d)((function(e){return e.kuralIndexMap.section})),v=Object(u.h)(),f=Object(a.a)(v,3),h=f[1],x=f[2],m=Object.values(O).map((function(e,t){return{key:e.id.toString(),label:e.value,index:t,nodes:h(e.id).map((function(e,t){return{key:e.id.toString(),label:e.value,index:t,nodes:x(e.id).map((function(e,t){return{key:e.id.toString(),label:e.value,index:t}}))}}))}}));return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(o.a,{native:!0,value:p,onChange:function(e){return b(e.target.value)},inputProps:{id:"category-filter"},children:["section","literature","chapter","kural"].map((function(e,t){return Object(c.jsx)("option",{value:e,children:e.toUpperCase()},t)}))}),Object(c.jsx)(C,{initialActiveKey:g,initialFocusKey:j?"".concat(g,"/").concat(j):g,initialOpenNodes:function(){var e=g.split("/").map((function(e){return g.substring(0,g.indexOf(e)+e.length)}));return 2===e.length&&e[0]===e[1]&&(e[1]="".concat(e[0],"/").concat(e[1])),e}(),onClickItem:function(e){var n="".concat(d.a.LIST_CATEGORY,"/").concat(e.key);if(e.hasNodes)t.replace(n);else{var a=e.key.lastIndexOf("/"),c=e.key.substring(a+1),i=e.key.substring(0,a),r="".concat(d.a.LIST_CATEGORY,"/").concat(i,"?chapter=").concat(c);t.replace(r),t.push(n)}},data:m,hasSearch:!1})]})};t.default=N}}]);
//# sourceMappingURL=8.29a8e31c.chunk.js.map