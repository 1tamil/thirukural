(this.webpackJsonpthirukural=this.webpackJsonpthirukural||[]).push([[0],{140:function(e,t,r){"use strict";var n=r(283);r.d(t,"KuralIndexReducer",(function(){return n.a}));var a=r(284);r.o(a,"thunkInitKuralIndexMapAndUserPref")&&r.d(t,"thunkInitKuralIndexMapAndUserPref",(function(){return a.thunkInitKuralIndexMapAndUserPref}));var c=r(285);r.d(t,"thunkInitKuralIndexMapAndUserPref",(function(){return c.a}))},271:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(7),a=r(13),c=r(6),i=function(e,t){return Object(c.isCategoryValidErr)("chapter",t),Number(Object.keys(e.litChapMap).find((function(r){return Object(c.isItemInRange)(t,e.litChapMap[Number(r)])})))},o=function(e,t){var r;return Object(c.isCategoryValidErr)("literature",t),Number(null===(r=Object.keys(e.section).map((function(t){return{section:t,litIndex:e.section[Number(t)].litIndex}})).find((function(e){return Object(c.isItemInRange)(t,e.litIndex)})))||void 0===r?void 0:r.section)},u=function(e,t,r){Object(c.isCategoryValidErr)(t,r);var u=Object(a.a)({},t,r);switch(t){case"chapter":u=Object(n.a)(Object(n.a)({},u),{},{literature:i(e,u.chapter)});case"literature":u=Object(n.a)(Object(n.a)({},u),{},{section:o(e,u.literature)})}return u}},272:function(e,t,r){"use strict";r.d(t,"e",(function(){return u})),r.d(t,"d",(function(){return l})),r.d(t,"b",(function(){return d})),r.d(t,"c",(function(){return p})),r.d(t,"a",(function(){return f})),r.d(t,"f",(function(){return b}));var n=r(12),a=r.n(n),c=r(20),i=r(6),o=r(55),u=function(){var e=Object(c.a)(a.a.mark((function e(t){var r,n,c,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.a)(t.collection(i.COLLECTION_NAME_MAP.INDEX_MAP));case 2:return c=e.sent,u=function(e){return c.docs.find((function(t){return t.id===e}))},e.abrupt("return",{section:null===(r=u("section"))||void 0===r?void 0:r.data(),litChapMap:null===(n=u("litChapMap"))||void 0===n?void 0:n.data()});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(c.a)(a.a.mark((function e(t,r,n){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.a)(t.collection(i.COLLECTION_NAME_MAP[n]));case 2:return c=e.sent,e.abrupt("return",c.docs.map((function(e){return{id:Number(e.id),value:e.data()[r]}})));case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(a.a.mark((function e(t,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t,r,"SECTION");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(a.a.mark((function e(t,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t,r,"CHAPTER");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(a.a.mark((function e(t,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s(t,r,"LITERATURE"));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),f=function(e){return Math.ceil(e/10)},b=function(e,t){var r=e.type;return"chapter"===t?r.startsWith("ByChapter"):"kural"===t?r.startsWith("ByKural"):"detail"===t?r.startsWith("ByKuralDetail"):"section"===t?r.startsWith("BySection"):"literature"===t&&r.startsWith("ByLiterature")}},273:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"c",(function(){return l})),r.d(t,"b",(function(){return d})),r.d(t,"d",(function(){return p}));var n=r(12),a=r.n(n),c=r(20),i=r(59),o=r(6),u=r(55),s=function(){var e=Object(c.a)(a.a.mark((function e(t,r,n){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(o.isCategoryValidErr)("kural",r),e.next=3,t.collection(o.COLLECTION_NAME_MAP.KURAL).doc("".concat(r)).get();case 3:return c=e.sent,e.abrupt("return",{id:r,value:c.data()[n]});case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(a.a.mark((function e(t,r){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(o.isCategoryValidErr)("kural",r),e.next=3,t.collection(o.COLLECTION_NAME_MAP.KURAL_DETAIL).doc("".concat(r)).get();case 3:return n=e.sent,e.abrupt("return",n.data());case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(a.a.mark((function e(t,r,n){var c,s,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.collection(o.COLLECTION_NAME_MAP.KURAL),e.next=3,Object(u.a)(c.where(i.a.firestore.FieldPath.documentId(),"in",r.map((function(e){return e.toString()}))));case 3:return s=e.sent,l=s.docs.map((function(e){return{id:Number(e.id),value:e.data()[n]}})),e.abrupt("return",l.sort((function(e,t){return e.id-t.id})));case 6:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(a.a.mark((function e(t,r,n){var c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(o.isCategoryValidErr)("chapter",r),c=10*(r-1)+1,i=Array.from(Array(10).keys()).map((function(e){return c+e})),e.abrupt("return",d(t,i,n));case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},274:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(12),a=r.n(n),c=r(7),i=r(20),o=r(6),u=r(55),s=function(){var e=Object(i.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)(t.collection(o.COLLECTION_NAME_MAP.TRANSLITERATOR));case 2:return r=e.sent,e.abrupt("return",r.docs.map((function(e){return Object(c.a)({id:Number(e.id)},e.data())})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},275:function(e,t){},276:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return d}));var n=r(12),a=r.n(n),c=r(7),i=r(20),o=r(59),u=r(6),s=r(55),l=function(){var e=Object(i.a)(a.a.mark((function e(t,r){var n,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)(t.collection(u.COLLECTION_NAME_MAP.USER).where(o.a.firestore.FieldPath.documentId(),"==",r).limit(1));case 2:if(!(n=e.sent).empty){e.next=5;break}throw new Error("user not found");case 5:return i=n.docs[0],e.abrupt("return",Object(c.a)({id:i.id},i.data()));case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),d=function(){var e=Object(i.a)(a.a.mark((function e(t,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.collection(u.COLLECTION_NAME_MAP.USER).doc("".concat(r.id)).set(r);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},277:function(e,t,r){"use strict";r.d(t,"e",(function(){return c})),r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return u})),r.d(t,"b",(function(){return s})),r.d(t,"f",(function(){return l}));var n=r(13),a=r(7),c=function(e,t){return e>=t[0]&&e<=t[1]},i=function(e){for(var t=[],r=e[0];r<=e[1];r++)t.push(r);return t},o=function(e,t){switch(e){case"section":return(c=t)>=1&&c<=3;case"literature":return(a=t)>=1&&a<=13;case"chapter":return(n=t)>=1&&n<=133;case"kural":return(r=t)>=1&&r<=1330}var r,n,a,c},u=function(e,t){if(!o(e,t))throw new Error("".concat(e," with ").concat(t," not found"))},s=function(e,t,r){switch(e){case"section":return"NEXT"===t?3===(i=r)?1:i+1:function(e){return 1===e?3:e-1}(r);case"literature":return"NEXT"===t?13===(c=r)?1:c+1:function(e){return 1===e?13:e-1}(r);case"chapter":return"NEXT"===t?133===(a=r)?1:a+1:function(e){return 1===e?133:e-1}(r);case"kural":return"NEXT"===t?1330===(n=r)?1:n+1:function(e){return 1===e?1330:e-1}(r)}var n,a,c,i},l=function(e){return e.reduce((function(e,t){return Object(a.a)(Object(a.a)({},e),{},Object(n.a)({},t.id,t))}),{})}},283:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n={chapter:{},section:{},literature:{},transliterator:{},index:null},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments.length>1?arguments[1]:void 0;return"init"===t.type?t.payload:e}},284:function(e,t){},285:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(12),a=r.n(n),c=r(13),i=r(7),o=r(20),u=r(6),s=r(56),l=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(r){var n,o,l,d,p,f,b;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.getUserPreferences)(e,"rajeshsundaram");case 2:return n=t.sent,o=n.preference.language.primary,t.next=6,Object(u.getKuralIndex)(e);case 6:return l=t.sent,t.t0=u.toBaseTypeMap,t.next=10,Object(u.getAllSections)(e,o);case 10:return t.t1=t.sent,d=(0,t.t0)(t.t1),t.t2=u.toBaseTypeMap,t.next=15,Object(u.getAllLiterature)(e,o);case 15:return t.t3=t.sent,p=(0,t.t2)(t.t3),t.t4=u.toBaseTypeMap,t.next=20,Object(u.getAllChapter)(e,o);case 20:return t.t5=t.sent,f=(0,t.t4)(t.t5),t.next=24,Object(u.getAllTransliterators)(e);case 24:b=t.sent.reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),{},Object(c.a)({},t.id,t))}),{}),r(Object(s.d)(n)),r({type:"init",payload:{section:d,chapter:f,literature:p,index:l,transliterator:b}});case 27:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},306:function(e){e.exports=JSON.parse('{"a":"thirukural"}')},475:function(e,t,r){},55:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(12),a=r.n(n),c=r(20),i=r(29),o=r.n(i),u=function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get({source:"cache"});case 3:if(!(r=e.sent).empty){e.next=6;break}throw new Error("result not exists in cache");case 6:o.a.debug("fetches from cache"),e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(0),e.next=13,t.get({source:"server"});case 13:r=e.sent;case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},550:function(e,t,r){"use strict";r.r(t);var n=r(7),a=r(3),c=r(0),i=r.n(c),o=r(601),u=r(29),s=r.n(u),l=r(18),d=r.n(l),p=r(32),f=(r(475),r(13)),b=r(579),j=r(16),O=r(86),h=r(36),m=r(19),v=r(12),g=r.n(v),x=r(20),y=r(10),k=r(6),S=function(){var e=Object(m.g)();return[function(t){return function(){e.push(t)}}]},C=function(e,t,r){if(e===r)throw new Error("Bad input");var n=Object(p.useFirestore)(),a=i.a.useState([]),c=Object(y.a)(a,2),o=c[0],u=c[1],s=Object(j.c)((function(e){return e.preferences.preference.language})).primary,l=Object(j.c)((function(e){return e.kuralIndexMap}));return Object(k.isCategoryValidErr)(e,t),i.a.useEffect((function(){if(!o.length)if("chapter"===e&&"kural"===r)Object(x.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,Object(k.getKuralsOfChapter)(n,t,s);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))();else{var a=l.literature,c=l.chapter,i=l.index;if(i)if("literature"===e&&"chapter"===r)u(Object(k.fillRange)(i.litChapMap[t]).map((function(e){return c[e]})));else{if("section"!==e||"literature"!==r)throw new Error("category not supported");u(Object(k.fillRange)(i.section[t].litIndex).map((function(e){return a[e]})))}}}),[o.length,e,r,n,t,s,l]),o},N=r(28),E=r(56),A="blueviolet",I="rgba(162, 43, 47,0.8)",T="cadetblue",w="rgba(215, 22, 64, 0.8)",R="#3f51b5",_=function(e,t){var r=[{id:0,value:"\u0baa\u0bbe\u0bb2\u0bcd",type:"top",route:"/list/section",color:A}];return e.section&&r.push(Object(n.a)(Object(n.a)({},e.section),{},{type:"section",route:"/list/".concat(e.section.id,"/literature"),color:I})),e.literature&&r.push(Object(n.a)(Object(n.a)({},e.literature),{},{type:"literature",route:"/list/".concat(e.literature.id,"/chapter"),color:T})),e.chapter&&r.push(Object(n.a)(Object(n.a)({},e.chapter),{},{isFavourite:t.chapter.some((function(t){var r;return t===(null===(r=e.chapter)||void 0===r?void 0:r.id)})),type:"chapter",route:"/list/".concat(e.chapter.id,"/kural"),color:w})),e.kural&&r.push(Object(n.a)(Object(n.a)({},e.kural),{},{isFavourite:t.kural.some((function(t){var r;return t===(null===(r=e.kural)||void 0===r?void 0:r.id)})),id:e.kural.id,value:"\u0b95\u0bc1\u0bb1\u0bb3\u0bcd: ".concat(e.kural.id),type:"kural",route:"/list/kural/".concat(e.kural.id),color:R})),r},P=function(e){var t=Object(j.c)((function(e){return e.kuralIndexMap})),r=t.section,a=t.literature,c=t.chapter,o=t.index,u=Object(j.c)((function(e){return e.preferences})),l=i.a.useState(e),d=Object(y.a)(l,2),b=d[0],O=d[1],h=Object(m.g)(),v=Object(p.useFirestore)(),g=Object(j.b)(),x=i.a.useState({}),S=Object(y.a)(x,2),C=S[0],A=S[1];i.a.useEffect((function(){I(h.location.pathname)}),[h.location.pathname]),i.a.useEffect((function(){if(o){var e=b.kural,t=b.chapter,r=b.literature,a=b.section,c=e?Object(k.findChapterNoFromKuralNo)(e):t,i=Object(n.a)(Object(n.a)({},function(e,t){var r=Object.keys(t).find((function(e){return t[e]}));return e&&r?Object(k.getCategoryIds)(e,r,t[r]):{}}(o,{chapter:c,literature:r,section:a})),e?{kural:e}:{});s.a.debug("found routes:",i),A(i)}}),[o,b]);var I=function(e){var t=Object(m.f)(e,"/list/:section/literature"),r=Object(m.f)(e,"/list/:literature/chapter"),n=Object(m.f)(e,"/list/:chapter/kural"),a=Object(m.f)(e,"/list/kural/:kural"),c={section:t?Number(null===t||void 0===t?void 0:t.params.section):void 0,literature:r?Number(null===r||void 0===r?void 0:r.params.literature):void 0,chapter:n?Number(null===n||void 0===n?void 0:n.params.chapter):void 0,kural:a?Number(null===a||void 0===a?void 0:a.params.kural):void 0};s.a.debug("filters",c),O(c)};h.listen((function(e){var t=e.pathname;s.a.debug("pathname",t),I(t)}));var T=i.a.useCallback((function(){return Object.keys(C).reduce((function(e,t){var i,o=t;switch(o){case"section":i=r[C[o]];break;case"literature":i=a[C[o]];break;case"chapter":i=c[C[o]];break;case"kural":i={id:C[o],value:""}}return Object(n.a)(Object(n.a)({},e),{},Object(f.a)({},o,i))}),{})}),[c,a,C,r]);return[C,_(T(),u.favorites),function(e){if("kural"===e.type||"chapter"===e.type){var t;if(!e.isFavourite)t=[].concat(Object(N.a)(u.favorites[e.type]),[e.id]);else{var r=u.favorites[e.type].indexOf(e.id);(t=u.favorites[e.type]).splice(r,1)}var a=Object(n.a)(Object(n.a)({},u),{},{favorites:Object(n.a)(Object(n.a)({},u.favorites),{},Object(f.a)({},e.type,t))});g(Object(E.e)(v,a))}}]},M={status:!1,keyword:"",results:[],filters:[],userSelections:{chapter:!0,kural:!0,section:!0,literature:!0,detail:!0}},L=function(){var e=Object(j.b)();return[function(t){e(function(e){return{type:"SetSearchKeyword",payload:e}}(t));var r=function(e){var t=[];try{if(Number.isInteger(parseInt(e))){var r=parseInt(e);Object(k.isCategoryValid)("kural",r)&&t.push("ByKuralNo"),Object(k.isCategoryValid)("chapter",r)&&t.push("ByChapterNo"),Object(k.isCategoryValid)("literature",r)&&t.push("ByLiteratureNo"),Object(k.isCategoryValid)("section",r)&&t.push("BySectionNo")}}catch(n){}return t}(t);e({type:"SetSearchFilters",payload:r}),e({type:"SetSearchResults",payload:[]})},function(t){e(function(e){return{type:"SetSearchStatus",payload:e}}(t))}]},B=function(e,t){var r=S(),n=Object(y.a)(r,1)[0];"top"!==e&&Object(k.isCategoryValid)(e,t);return function(t){switch(e){case"top":n("/list/".concat(t.id,"/literature"))();break;case"section":n("/list/".concat(t.id,"/chapter"))();break;case"literature":n("/list/".concat(t.id,"/kural"))()}}},U=r(575),K=(r(297),r(298),Object(b.a)((function(e){return{favStyle:{color:"rgba(215, 22, 64, 0.8)"}}})),r(580)),F=r(551),D=r(299),W=r.n(D),z=Object(b.a)((function(e){return{root:{},listItem:{cursor:"pointer",display:"grid",gridTemplateColumns:"3em auto"},idWrap:{display:"flex",alignItems:"center",color:e.palette.primary.main,"& > span":{minWidth:"2em",opacity:.5,textAlign:"center"},"& svg":{position:"relative",left:"-4px"}},labelWrap:{fontSize:"1.2em",paddingLeft:e.spacing(1),color:"cadetblue"}}})),V=function(e){var t=z();return Object(a.jsx)(K.a,{className:e.className,children:e.items.map((function(r){return Object(a.jsxs)(F.a,{classes:{root:t.listItem},divider:!0,onClick:function(){return e.onItemSelected(r)},children:[Object(a.jsxs)("div",{className:t.idWrap,children:[Object(a.jsx)("span",{children:r.id}),Object(a.jsx)(W.a,{})]}),Object(a.jsx)("div",{className:t.labelWrap,children:r.value})]},r.id)}))})},G=function(e){var t=Object(m.i)().literature,r=C("literature",Number(t),"chapter"),n=B("literature",Number(t));return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(V,{className:e.className,items:r,onItemSelected:function(e){return n(e)}})})},H=r(138),X=r.n(H),J=r(58),Y=r(139),Q=r(603),$=r(5),q=Object(b.a)((function(e){return{listItem:Object(f.a)({display:"flex",flexDirection:"column",alignItems:"start"},e.breakpoints.up("sm"),{cursor:"pointer"}),badgeContainer:{background:e.palette.primary.main,color:"white",height:"1em",fontSize:"0.6em",lineHeight:"0.8em",borderRadius:"1em",display:"flex",justifyContent:"center",alignItems:"center",padding:"2px 6px",minWidth:"1em"},kuralWrapper:{width:"100%"}}})),Z=function(e){var t=q();return Object(a.jsxs)(F.a,{className:e.className,classes:{root:Object($.a)(t.listItem)},component:e.componentType||"li",children:[e.showBadge&&Object(a.jsx)("div",{className:t.badgeContainer,children:e.kural.id}),Object(a.jsx)("div",{onClick:function(){return e.onClick&&e.onClick(e.kural)},className:t.kuralWrapper,dangerouslySetInnerHTML:{__html:e.kural.value.replace("\n","<br>")}})]})},ee=Object(b.a)((function(e){return{transliteratorList:{cursor:"grab",padding:e.spacing(1),"& li:not(:last-child)":{marginBottom:e.spacing(1)}},kural:{padding:e.spacing(1),borderBottom:"unset",color:"brown",fontWeight:600,"& .kural-badge":{display:"none"}},transliteration:{padding:0,flexDirection:"column",alignItems:"self-end","& .transliterator-name":{fontSize:"0.7em",height:"1.5em"},"& .content":{fontSize:"0.9em",paddingTop:e.spacing(.5),paddingBottom:e.spacing(.5),textAlign:"justify",WebkitTextStrokeWidth:"0.2px",WebkitTextStroke:"thin",letterSpacing:1}}}})),te=function(e){var t=ee(),r=function(e){var t=Object(p.useFirestore)(),r=Object(j.c)((function(e){return e})),n=r.preferences.preference.language.primary,a=r.kuralIndexMap.transliterator,i=c.useState(null),o=Object(y.a)(i,2),u=o[0],s=o[1],l=c.useState(null),d=Object(y.a)(l,2),f=d[0],b=d[1];return c.useEffect((function(){Object(x.a)(g.a.mark((function r(){return g.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("number"!==typeof e){r.next=13;break}return r.t0=s,r.next=4,Object(k.getKural)(t,e,n);case 4:return r.t1=r.sent,(0,r.t0)(r.t1),r.t2=b,r.next=9,Object(k.getKuralDetail)(t,e);case 9:r.t3=r.sent,(0,r.t2)(r.t3),r.next=19;break;case 13:return s(e),r.t4=b,r.next=17,Object(k.getKuralDetail)(t,e.id);case 17:r.t5=r.sent,(0,r.t4)(r.t5);case 19:case"end":return r.stop()}}),r)})))()}),[t,e,n]),[u,f,Object.values(a).filter((function(e){return e.lang===n})).sort((function(e,t){var r=[e.rank,t.rank],n=r[0],a=r[1];return n&&a?n-a:n?-1:1}))]}(e.kural),i=Object(y.a)(r,3),o=i[0],u=i[1],s=i[2];return Object(a.jsxs)(a.Fragment,{children:[o&&Object(a.jsx)(Z,{kural:o,className:t.kural,componentType:"div"}),Object(a.jsx)(K.a,Object(n.a)(Object(n.a)({className:e.className,classes:{root:t.transliteratorList}},e),{},{children:u&&s.map((function(e){var r=e.id,n=e.name;return Object(a.jsxs)(F.a,{className:t.transliteration,children:[Object(a.jsx)(Q.a,{size:"small",label:n,color:"primary",className:"transliterator-name"}),Object(a.jsx)("div",{className:"content",children:u[r]})]},r)}))}))]})},re=Object(Y.virtualize)(X.a),ne=function(e){var t=S(),r=Object(y.a)(t,1)[0],n=Object(m.i)(),c=parseInt(n.kural);return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(re,{enableMouseEvents:!0,overscanSlideBefore:1===c?0:1,overscanSlideAfter:1330===c?0:1,index:c-1,onChangeIndex:function(e,t){r("/list/kural/".concat(Object(k.getItemByPosition)("kural",e-t<0?"PREV":"NEXT",c)))()},slideRenderer:function(e){var t=e.key,r=e.index,n=Object(J.mod)(r,1330)+1;return Object(k.isCategoryValid)("kural",n)?Object(a.jsx)(te,{kural:n},t):null}})})},ae=Object(b.a)((function(e){return{list:{padding:e.spacing(1),paddingTop:"0px","& li:not(:last-child)":{marginBottom:e.spacing(1)}},kuralCard:{padding:0}}})),ce=function(e){var t=ae(),r=S(),n=Object(y.a)(r,1)[0],c=function(e){return n("/list/kural/".concat(e.id))()};return Object(a.jsx)(K.a,{className:t.list,children:e.kurals.map((function(e,r){return Object(a.jsx)(Z,{showBadge:!0,className:t.kuralCard,kural:e,onClick:c},e.id)}))})},ie=function(e){var t=C("chapter",e.chapterNo,"kural");return Object(a.jsx)(ce,{kurals:t})},oe=Object(Y.virtualize)(X.a),ue=function(e){var t=Object(m.i)().section,r=C("section",Number(t),"literature"),n=B("section",Number(t));return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(V,{className:e.className,items:r,onItemSelected:function(e){return n(e)}})})},se=function(e){var t=Object(j.c)((function(e){return e.kuralIndexMap.section})),r=S(),n=Object(y.a)(r,1)[0];return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(V,{className:e.className,items:Object.values(t),onItemSelected:function(e){n("/list/".concat(e.id,"/literature"))()}})})},le=r(584),de=r(585),pe=r(586),fe=r(581),be=r(582),je=r(583),Oe=r(201),he=r.n(Oe),me=r(202),ve=r.n(me),ge=Object(b.a)((function(e){return{root:{},list:{"& .list-group":{},"& .sub-list":{"& li:last-child":{borderBottom:"unset",marginBottom:"unset"}},"& .sub-header":{textAlign:"left",color:"brown"}},chapFavorites:{paddingBottom:0,"& li:last-child":{borderBottom:"unset"}}}})),xe=function(e){var t,r,n=function(e){var t=Object(j.c)((function(e){return e.kuralIndexMap})),r=t[e],n=t.index;return[function(e){return r[e]||null},function(t){return Object(k.getCategoryIds)(n,e,t)}]}("chapter"),c=Object(y.a)(n,1)[0],o=Object(p.useFirestore)(),u=Object(j.c)((function(e){return e.preferences})),s=u.favorites,l=s.kural,d=s.chapter,f=u.preference,b=i.a.useState([]),O=Object(y.a)(b,2),h=O[0],m=O[1],v=i.a.useState(null===(t=e.expand)||void 0===t||t),g=Object(y.a)(v,2),x=g[0],C=g[1],E=i.a.useState(null!==(r=e.expand)&&void 0!==r&&r),A=Object(y.a)(E,2),I=A[0],T=A[1],w=S(),R=Object(y.a)(w,1)[0],_=ge(),P=function(e){R("/list/".concat(e.id,"/kural"))()};i.a.useEffect((function(){l.length>0&&Object(k.getKuralByIds)(o,l,f.language.primary).then((function(e){m(e)}))}),[o,l,f.language.primary]);var M=new Map([]);h.forEach((function(e){var t=Object(k.findChapterNoFromKuralNo)(e.id);M.has(t)?M.set(t,[].concat(Object(N.a)(M.get(t)||[]),[e])):M.set(t,[e])}));var L=Object(a.jsx)("h1",{children:"None Found"});return Object(a.jsx)("div",{className:Object($.a)(e.className,_.root),children:Object(a.jsxs)(K.a,{className:_.list,disablePadding:!0,children:[Object(a.jsxs)(F.a,{selected:x,className:"list-group",button:!0,onClick:function(){C(!x)},children:[Object(a.jsx)(fe.a,{primary:"Kurals"}),x?Object(a.jsx)(he.a,{}):Object(a.jsx)(ve.a,{})]}),Object(a.jsxs)(be.a,{in:x,timeout:"auto",children:[M.size>0&&Array.from(M.keys()).map((function(e){var t,r=c(e);return Object(a.jsxs)(K.a,{component:"div",className:"sub-list",disablePadding:!0,children:[r&&Object(a.jsx)(je.a,{className:"sub-header",disableSticky:!0,onClick:function(){return P(r)},children:r.value}),null===(t=M.get(e))||void 0===t?void 0:t.map((function(e){return Object(a.jsx)(Z,{kural:e},e.id)}))]},e)})),0===M.size&&L]}),Object(a.jsxs)(F.a,{selected:I,className:"list-group",button:!0,onClick:function(){T(!I)},children:[Object(a.jsx)(fe.a,{primary:"Chapters"}),I?Object(a.jsx)(he.a,{}):Object(a.jsx)(ve.a,{})]}),Object(a.jsxs)(be.a,{in:I,timeout:"auto",children:[d.length>0&&Object(a.jsx)(V,{className:_.chapFavorites,items:d.map((function(e){return c(e)})).filter((function(e){return null!==e})),onItemSelected:function(e){return P(e)}}),0===d.length&&L]})]})})},ye=Object(b.a)((function(e){return{root:{marginTop:e.spacing(2),"& .card-header":{padding:e.spacing(1)},"& .card-content":{padding:e.spacing(1),paddingBottom:e.spacing(1)}},favoriteCard:{margin:e.spacing(1)}}})),ke=function(){var e=ye();return Object(a.jsx)("div",{className:e.root,children:Object(a.jsxs)(le.a,{variant:"outlined",className:e.favoriteCard,children:[Object(a.jsx)(de.a,{title:"Favorites",className:"card-header"}),Object(a.jsx)(pe.a,{className:"card-content",children:Object(a.jsx)(xe,{expand:!1})})]})})},Se=r(588),Ce=r(587),Ne=Object(b.a)((function(e){return{routeContainer:{display:"flex"},root:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",flexWrap:"wrap"},chipRoot:Object(f.a)({padding:"0px 0.6em",fontSize:"0.7rem",height:"1.3rem",margin:"0 ".concat(e.spacing(.5),"px ").concat(e.spacing(.5),"px 0")},e.breakpoints.up("sm"),{maxWidth:200}),favoriteIcon:{width:"1rem",height:"1rem",margin:0}}})),Ee=function(e){var t=e.route,r=e.onLongPress,i=Ne(),o=S(),u=Object(y.a)(o,1)[0],s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,r=Object(c.useState)(!1),n=Object(y.a)(r,2),a=n[0],i=n[1];Object(c.useEffect)((function(){var r;return a?r=window.setTimeout(e,t):clearTimeout(r),function(){clearTimeout(r)}}),[e,t,a]);var o=Object(c.useCallback)((function(){i(!0)}),[]),u=Object(c.useCallback)((function(){i(!1)}),[]);return{onMouseDown:o,onMouseUp:u,onMouseLeave:u,onTouchStart:o,onTouchEnd:u}}((function(){r&&r(t)}));return Object(a.jsx)(Q.a,Object(n.a)(Object(n.a)(Object(n.a)({},t.isFavourite?{icon:Object(a.jsx)(Ce.a,{className:i.favoriteIcon})}:{}),s),{},{size:"small",label:t.value,color:"primary",onClick:function(){t.route&&u(t.route)()},style:{backgroundColor:t.color},classes:{root:i.chipRoot}}))},Ae=function(e){var t=Ne(),r=P({}),n=Object(y.a)(r,3),c=n[1],i=n[2];return Object(a.jsxs)("div",{className:Object($.a)(t.routeContainer,e.className),children:[Object(a.jsx)("div",{className:t.root,children:c.map((function(e,t){return Object(a.jsx)(Ee,{route:e,onLongPress:function(e){return i(e)}},t)}))}),e.renderRight]})},Ie=Object(b.a)((function(e){return{root:{},routes:{padding:e.spacing(1)}}})),Te=function(e){var t=Ie();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Se.a,{disableGutters:!0,className:t.routes,children:Object(a.jsx)(Ae,{})}),Object(a.jsx)("div",{className:t.root,children:Object(O.a)(e.route.routes)})]})},we=r(606),Re=r(594),_e=r(595),Pe=r(593),Me=r(596),Le=r(590),Be=r(605),Ue=r(604),Ke=r(22),Fe=r(301),De=r.n(Fe),We=r(300),ze=r.n(We),Ve=r(589),Ge="/search",He=Object(b.a)((function(e){return Object(Ue.a)({root:{display:"flex",alignItems:"center",maxWidth:400,border:"1px solid",borderRadius:"25px",borderColor:Object(Ke.c)(e.palette.grey[500],.5),padding:"0.2em 0.5em",color:e.palette.primary.main,height:"1.6rem","&.focus":{borderColor:e.palette.primary.main,"& .search-icon, & .searchbar":{color:e.palette.primary.main}}},searchicon:{color:Object(Ke.c)(e.palette.grey[500],.5)},input:{flex:1,padding:"0px 6px",width:"100%",color:e.palette.primary.light}})})),Xe=function(e){Object(u.debug)("KuralSearch");var t=He(),r=Object(m.g)(),n=L(),c=Object(y.a)(n,1)[0],o=Object(Ve.a)((function(e){c(e)}),500),s=i.a.useState(""),l=Object(y.a)(s,2),d=l[0],p=l[1],f=i.a.useState(function(){var e;return(null===(e=Object(m.f)(r.location.pathname,{path:Ge}))||void 0===e?void 0:e.isExact)||!1}()),b=Object(y.a)(f,2),j=b[0],O=b[1];i.a.useEffect((function(){o.callback(d)}),[o,d]),r.listen((function(e){e.pathname!==Ge?(p(""),O(!1)):O(!0)}));return Object(a.jsxs)("div",{className:Object($.a)(t.root,e.className,j&&"focus"),children:[Object(a.jsx)(ze.a,{className:Object($.a)(t.searchicon,"search-icon")}),Object(a.jsx)(Be.a,{className:"searchbar ".concat(t.input),placeholder:"Search Kural",inputProps:{"aria-label":"Search"},onChange:function(e){var t=e.target.value;p(t)},value:d,onFocus:function(){r.location.pathname!==Ge&&(Object(u.debug)("route -> search"),r.push(Ge)),e.onSearchTap&&e.onSearchTap()}}),Object(a.jsx)(Le.a,{in:!(0===d.trim().length),children:Object(a.jsx)(De.a,{onClick:function(){p("")}})})]})},Je=r(591),Ye=r(592),Qe=function(e){var t=e.children,r=e.window,n=Object(Je.a)({target:r?r():void 0});return Object(a.jsx)(Ye.a,{appear:!1,direction:"down",in:!n,children:t})},$e=Object(b.a)((function(e){return{toolbar:{padding:0,justifyContent:"space-around"},avatar:{color:"white",marginLeft:e.spacing(1),backgroundColor:e.palette.primary.main},actionsGroup:{},searchbar:{marginLeft:e.spacing(1),marginRight:e.spacing(1),flexGrow:1},iconButton:{padding:"6px","& svg":{fontSize:"2rem"}}}})),qe=function(e){Object(u.debug)("MyAppBar");var t=$e(),r=Object(m.g)();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Qe,Object(n.a)(Object(n.a)({direction:"down"},e),{},{children:Object(a.jsx)(Re.a,{color:"transparent",elevation:0,children:Object(a.jsxs)(_e.a,{className:t.toolbar,children:[function(){var e;return(null===(e=Object(m.f)(r.location.pathname,{path:"/"}))||void 0===e?void 0:e.isExact)||!1}()?Object(a.jsx)(we.a,{className:t.avatar,alt:"Anonymous",src:"/static/images/avatar/1.jpg"}):Object(a.jsx)(U.a,{className:t.iconButton,onClick:r.goBack,children:Object(a.jsx)(Pe.a,{color:"primary"})}),Object(a.jsx)(Xe,{className:t.searchbar}),Object(a.jsxs)("div",{className:t.actionsGroup,children:[e.actions,Object(a.jsx)(U.a,{className:t.iconButton,onClick:function(){return r.push("/settings")},children:Object(a.jsx)(Me.a,{color:"primary"})})]})]})})})),Object(a.jsx)(_e.a,{})]})},Ze=r(302),et=r.n(Ze),tt=r(303),rt=r.n(tt),nt="Thirukural",at=r(597),ct=r(598),it=Object(b.a)((function(e){return{root:{flexGrow:1},appBar:{bottom:0,top:"auto",boxShadow:"none",borderTop:"1px solid rgba(0, 0, 0, 0.12)"}}})),ot=function(e){var t=it();return Object(a.jsxs)("div",{className:Object($.a)(t.root,e.className),children:[Object(a.jsx)(Re.a,{position:"fixed",color:"inherit",className:t.appBar,children:Object(a.jsx)(at.a,{value:e.currentRoute,onChange:function(t,r){return e.onChange(r)},className:t.root,children:e.items.map((function(e,t){return Object(a.jsx)(ct.a,{label:e.label,value:e.route,icon:e.icon},t)}))})}),Object(a.jsx)(_e.a,{})]})},ut=Object(b.a)((function(e){return{root:{}}})),st=[{icon:Object(a.jsx)(et.a,{}),route:"/",label:"Home"},{icon:Object(a.jsx)(rt.a,{}),route:"/list",label:"List"}],lt=function(e){var t=Object(m.j)("/"),r=Object(m.j)("/list*"),n=Object(m.h)(),c=Object(j.b)(),o=i.a.useCallback((function(){return(null===t||void 0===t?void 0:t.isExact)?st[0].route:(null===r||void 0===r?void 0:r.isExact)?st[1].route:n.pathname}),[t,r,n.pathname]),u=i.a.useState(o()),s=Object(y.a)(u,2),l=s[0],d=s[1];i.a.useEffect((function(){d(o())}),[o,n]);var p=ut(),f=S(),b=Object(y.a)(f,1)[0];return Object(a.jsx)(ot,{items:st,currentRoute:l,onChange:function(e){if(d(e),b(e)(),st[0].route===e)c({type:"DefaultTitle"});else{var t,r=null===(t=st.find((function(t){return t.route===e})))||void 0===t?void 0:t.label;r&&c({type:"SetTitle",payload:r})}},className:p.root})},dt=function(e){var t;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(qe,{}),Object(O.a)(null===(t=e.route)||void 0===t?void 0:t.routes),Object(a.jsx)(lt,{})]})},pt=Object(b.a)((function(e){return{root:{marginTop:e.spacing(2),padding:e.spacing(1)},searchWrapper:{textAlign:"center"},searchFilter:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1),textAlign:"start","& .search-chip":{height:"2em",margin:"0 1vw 4px 0",fontSize:"0.7em",minWidth:"15vw","& svg":Object(f.a)({width:"1rem",height:"1rem"},e.breakpoints.up("sm"),{width:"1.5rem",height:"1.5rem"})}},kuralSearchItem:{margin:0,padding:0,borderBottom:"none"}}})),ft=function(e){var t=pt(),r=i.a.useState([]),n=Object(y.a)(r,2),c=n[0],o=n[1],u=Object(j.c)((function(e){return e.search})),s=Object(j.b)();i.a.useEffect((function(){var e=function(e){return u.filters.filter((function(t){return t.startsWith(e)})).length>0},t=[{label:k.SearchCategoryLabelMap.all,type:"all",isShow:new Set(u.results.map((function(e){return e.type}))).size>1},{label:k.SearchCategoryLabelMap.section,type:"section",isShow:e("BySection")},{label:k.SearchCategoryLabelMap.literature,type:"literature",isShow:e("ByLiterature")},{label:k.SearchCategoryLabelMap.chapter,type:"chapter",isShow:e("ByChapter")},{label:k.SearchCategoryLabelMap.kural,type:"kural",isShow:e("ByKural")},{label:k.SearchCategoryLabelMap.detail,type:"detail",isShow:e("ByKuralDetail")}];o(t)}),[u]);var l=function(e){return"all"===e?u.userSelections.section&&u.userSelections.literature&&u.userSelections.chapter&&u.userSelections.kural&&u.userSelections.detail:u.userSelections[e]};return Object(a.jsx)("div",{className:t.searchFilter,children:c.filter((function(e){return e.isShow})).map((function(e,t){return Object(a.jsx)(Q.a,{size:"small",className:"search-chip",label:e.label,color:"primary",variant:l(e.type)?"default":"outlined",onClick:function(t){return function(e){var t,r;s("all"!==e?(t=e,r=!u.userSelections[e],{type:"SetUserSelection",payload:[t,r]}):{type:"SetAllUserSelection",payload:!l("all")})}(e.type)}},t)}))})},bt=function(e){var t=e.item,r=(e.label,e.onClick);return Object(a.jsx)("div",{onClick:r,children:Object(a.jsx)("div",{children:t.value})},t.id)},jt=function(e){var t=pt(),r=Object(j.c)((function(e){return e.search})),n=function(e){return Object(k.isResultOfType)(e,"kural")&&r.userSelections.kural?Object(a.jsx)(Z,{kural:e.item,className:t.kuralSearchItem},e.item.id):Object(k.isResultOfType)(e,"section")&&r.userSelections.section||Object(k.isResultOfType)(e,"chapter")&&r.userSelections.chapter||Object(k.isResultOfType)(e,"literature")&&r.userSelections.literature?Object(a.jsx)(bt,{item:e.item,label:""}):null};return Object(a.jsxs)("div",{className:Object($.a)(e.className,t.root),children:[Object(a.jsx)(ft,{}),Object(a.jsx)(K.a,{children:r.results.map((function(e,t){return Object(a.jsx)(F.a,{divider:!0,children:n(e)},t)}))})]})},Ot=r(599),ht=r(602),mt=r(600),vt=Object(b.a)((function(e){return{root:{},item:{},itemText:{fontSize:"1em"},formControl:{margin:e.spacing(1),minWidth:120}}})),gt="Font size",xt="/",yt=[{path:xt,component:dt,routes:[{path:"/search",component:jt,exact:!0},{path:"/settings",component:function(e){var t=vt(),r=Object(j.b)(),n=Object(j.c)((function(e){return e.preferences})).preference,c=function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=[],a=e;t>0;)n.push(a),a+=r,t--;return n}(E.a.preference.fontSize-4,10);return Object(a.jsx)("div",{className:e.className,children:Object(a.jsx)(K.a,{children:Object(a.jsxs)(F.a,{className:t.item,children:[Object(a.jsx)(fe.a,{classes:{primary:t.itemText},primary:gt}),Object(a.jsx)(Ot.a,{className:t.formControl,children:Object(a.jsx)(ht.a,{value:n.fontSize,onChange:function(e){return t=e.target.value,void r(Object(E.c)(Object.assign(n,{fontSize:t})));var t},children:c.map((function(e){return Object(a.jsx)(mt.a,{value:e,children:e},e)}))})})]})})})},exact:!0},{path:"/list",component:Te,routes:[{path:"/list/section",component:se,exact:!0},{path:"/list/:section/literature",component:ue,exact:!0},{path:"/list/:literature/chapter",component:G,exact:!0},{path:"/list/:chapter/kural",component:function(e){var t=Object(m.i)().chapter,r=Number(t),n=S(),c=Object(y.a)(n,1)[0];return Object(a.jsx)("div",{className:e.className,children:Object(a.jsx)(oe,{enableMouseEvents:!0,overscanSlideBefore:1===r?0:1,overscanSlideAfter:133===r?0:1,index:r-1,onChangeIndex:function(e,r){var n=parseInt(t);c("/list/".concat(Object(k.getItemByPosition)("chapter",e-r<0?"PREV":"NEXT",n),"/kural"))()},slideRenderer:function(e){var t=e.key,r=e.index,n=Object(J.mod)(r,133)+1;return Object(k.isCategoryValid)("chapter",n)?Object(a.jsx)(ie,{chapterNo:n},t):null}})})},exact:!0},{path:"/list/kural/:kural",component:ne,exact:!0},{path:"/list*",component:function(){return Object(a.jsx)(m.a,{to:"/list/1/kural"})},exact:!0}]},{path:xt,exact:!0,component:ke},{path:"/*",component:function(){return Object(a.jsx)(m.a,{to:"/"})}}]}],kt=r(140),St=Object(b.a)((function(e){return{root:Object(f.a)({},e.breakpoints.up("sm"),{fontSize:"3vw"})}})),Ct=function(){var e=St(),t=Object(j.b)(),r=Object(p.useFirestore)(),n=Object(j.c)((function(e){return e.preferences}));return c.useEffect((function(){t(Object(kt.thunkInitKuralIndexMapAndUserPref)(r))}),[t,r]),Object(a.jsx)("div",{className:e.root,style:{fontSize:n.preference.fontSize},children:Object(a.jsx)(h.a,{children:Object(O.a)(yt)})})},Nt=r(59),Et=r(141),At=(r(545),r(547),r(54)),It=r(305),Tt=r(142),wt=r(306),Rt=Object(At.combineReducers)({kuralIndexMap:kt.KuralIndexReducer,title:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SetTitle":return t.payload;case"AppendTitle":return nt.concat("-".concat(t.payload));case"DefaultTitle":return nt;default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;if("SetSearchKeyword"===t.type&&t.payload!==e.keyword)return Object(n.a)(Object(n.a)({},e),{},{keyword:t.payload,results:[]});if("AddSearchResults"===t.type)return Object(n.a)(Object(n.a)({},e),{},{results:[].concat(Object(N.a)(e.results),Object(N.a)(t.payload))});if("SetSearchResults"===t.type)return Object(n.a)(Object(n.a)({},e),{},{results:t.payload});if("SetSearchFilters"===t.type)return Object(n.a)(Object(n.a)({},e),{},{filters:t.payload});if("SetUserSelection"===t.type){var r=t.payload,a=Object(y.a)(r,2),c=a[0],i=a[1];return Object(n.a)(Object(n.a)({},e),{},{userSelections:Object(n.a)(Object(n.a)({},e.userSelections),{},Object(f.a)({},c,i))})}if("SetAllUserSelection"===t.type){var o=t.payload;return Object(n.a)(Object(n.a)({},e),{},{userSelections:{chapter:o,kural:o,section:o,literature:o,detail:o}})}return"SetSearchStatus"===t.type?Object(n.a)(Object(n.a)({},e),{},{status:t.payload}):e},preferences:E.b,firebase:p.firebaseReducer,firestore:Et.firestoreReducer}),_t=Object(It.composeWithDevTools)({name:"".concat(wt.a,"-DevTools"),trace:!0}),Pt=Object(At.createStore)(Rt,_t(Object(At.applyMiddleware)(Tt.a))),Mt=r(307),Lt=r.n(Mt),Bt=[Tt.a],Ut=(Lt()(Bt),function(e){var t=e.children;return Object(a.jsx)(j.a,{store:Pt,children:t})}),Kt=Object({NODE_ENV:"production",PUBLIC_URL:"/thirukural",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_STORAGE_BUCKET:"kural-de220.appspot.com",REACT_APP_PROJECT_ID:"kural-de220",REACT_APP_AUTH_DOMAIN:"kural-de220.firebaseapp.com",REACT_APP_API_KEY:"AIzaSyCgG3WHBClU8TJO_A4CGi177k0ihtn15tQ",REACT_APP_DB_URL:"https://kural-de220.firebaseio.com",REACT_APP_MESSAGING_SENDER_ID:"1037621590340",REACT_APP_MESUREMENT_ID:"G-CMC5L28GFK",REACT_APP_FB_APP_ID:"1:1037621590340:web:f5613d36d67ed31d78ff11"}),Ft=Kt.REACT_APP_API_KEY,Dt=Kt.REACT_APP_AUTH_DOMAIN,Wt=Kt.REACT_APP_DB_URL,zt=Kt.REACT_APP_PROJECT_ID,Vt=Kt.REACT_APP_STORAGE_BUCKET,Gt=Kt.REACT_APP_MESSAGING_SENDER_ID,Ht=Kt.REACT_APP_FB_APP_ID,Xt=Kt.REACT_APP_MESUREMENT_ID;!function(){if(!(Ft&&Dt&&Wt&&zt))throw new Error("FB_CONF missing")}();var Jt={apiKey:Ft,projectId:zt,databaseURL:Wt,authDomain:Dt,storageBucket:Vt,messagingSenderId:Gt,appId:Ht,measurementId:Xt};Nt.a.initializeApp(Jt),Nt.a.firestore().enablePersistence({synchronizeTabs:!0}).catch((function(e){"unimplemented"===e.code&&s.a.error("persistence not supported on the current browser")}));var Yt={firebase:Nt.a,dispatch:Pt.dispatch,createFirestoreInstance:Et.createFirestoreInstance,config:{userProfile:"users",useFirestoreForProfile:!0}},Qt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $t(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var r=e.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var qt=r(308),Zt=Object(qt.a)({spacing:8});s.a.setLevel("SILENT"),d.a.render(Object(a.jsx)(Ut,{children:Object(a.jsx)(p.ReactReduxFirebaseProvider,Object(n.a)(Object(n.a)({},Yt),{},{children:Object(a.jsx)(o.a,{theme:Zt,children:Object(a.jsx)(Ct,{})})}))}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/thirukural",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/thirukural","/service-worker.js");Qt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(r){var n=r.headers.get("content-type");404===r.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):$t(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service")}))):$t(t,e)}))}}()},56:function(e,t,r){"use strict";r.d(t,"e",(function(){return u})),r.d(t,"d",(function(){return s})),r.d(t,"c",(function(){return l})),r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return p}));var n=r(7),a=r(12),c=r.n(a),i=r(20),o=r(6),u=function(e,t){return function(){var r=Object(i.a)(c.a.mark((function r(n){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n(s(t)),r.next=3,Object(o.updateUserPreference)(e,t);case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},s=function(e){return{type:"SetUser",payload:e}},l=function(e){return{type:"UpdateSettings",payload:e}},d={id:"anonymous",favorites:{kural:[],chapter:[]},preference:{language:{primary:"TA",secondary:[]},fontSize:16}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SetUser":return t.payload;case"UpdateSettings":return Object(n.a)(Object(n.a)({},e),{},{preference:Object(n.a)(Object(n.a)({},e.preference),t.payload)});default:return e}}},6:function(e,t,r){"use strict";r.d(t,"COLLECTION_NAME_MAP",(function(){return l})),r.d(t,"SearchCategoryLabelMap",(function(){return d}));var n=r(271);r.d(t,"getCategoryIds",(function(){return n.a}));var a=r(272);r.d(t,"findChapterNoFromKuralNo",(function(){return a.a})),r.d(t,"getAllChapter",(function(){return a.b})),r.d(t,"getAllLiterature",(function(){return a.c})),r.d(t,"getAllSections",(function(){return a.d})),r.d(t,"getKuralIndex",(function(){return a.e})),r.d(t,"isResultOfType",(function(){return a.f}));var c=r(273);r.d(t,"getKural",(function(){return c.a})),r.d(t,"getKuralByIds",(function(){return c.b})),r.d(t,"getKuralDetail",(function(){return c.c})),r.d(t,"getKuralsOfChapter",(function(){return c.d}));var i=r(274);r.d(t,"getAllTransliterators",(function(){return i.a}));var o=r(275);r.o(o,"fillRange")&&r.d(t,"fillRange",(function(){return o.fillRange})),r.o(o,"getItemByPosition")&&r.d(t,"getItemByPosition",(function(){return o.getItemByPosition})),r.o(o,"getUserPreferences")&&r.d(t,"getUserPreferences",(function(){return o.getUserPreferences})),r.o(o,"isCategoryValid")&&r.d(t,"isCategoryValid",(function(){return o.isCategoryValid})),r.o(o,"isCategoryValidErr")&&r.d(t,"isCategoryValidErr",(function(){return o.isCategoryValidErr})),r.o(o,"isItemInRange")&&r.d(t,"isItemInRange",(function(){return o.isItemInRange})),r.o(o,"toBaseTypeMap")&&r.d(t,"toBaseTypeMap",(function(){return o.toBaseTypeMap})),r.o(o,"updateUserPreference")&&r.d(t,"updateUserPreference",(function(){return o.updateUserPreference}));var u=r(276);r.d(t,"getUserPreferences",(function(){return u.a})),r.d(t,"updateUserPreference",(function(){return u.b}));var s=r(277);r.d(t,"fillRange",(function(){return s.a})),r.d(t,"getItemByPosition",(function(){return s.b})),r.d(t,"isCategoryValid",(function(){return s.c})),r.d(t,"isCategoryValidErr",(function(){return s.d})),r.d(t,"isItemInRange",(function(){return s.e})),r.d(t,"toBaseTypeMap",(function(){return s.f}));var l={KURAL:"KURAL",TRANSLITERATOR:"TRANSLITERATOR",LANGUAGE:"LANGUAGE",KURAL_DETAIL:"KURAL_DETAIL",USER:"USER",SECTION:"SECTION",USER_FAVOURITES:"USER_FAVOURITES",USER_SEARCH_HISTORY:"USER_SEARCH_HISTORY",LITERATURE:"LITERATURE",CHAPTER:"CHAPTER",INDEX_MAP:"INDEX_MAP"},d={all:"\u0b85\u0ba9\u0bc8\u0ba4\u0bcd\u0ba4\u0bc1\u0bae\u0bcd",chapter:"\u0b85\u0ba4\u0bbf\u0b95\u0bbe\u0bb0\u0bae\u0bcd",kural:"\u0b95\u0bc1\u0bb1\u0bb3\u0bcd",literature:"\u0b87\u0baf\u0bb2\u0bcd",section:"\u0baa\u0bbe\u0bb2\u0bcd",detail:"\u0b89\u0bb0\u0bc8"}}},[[550,1,2]]]);
//# sourceMappingURL=main.04948233.chunk.js.map